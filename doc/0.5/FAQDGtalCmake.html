<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DGtal: Building DGtal</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DGtal
   &#160;<span id="projectnumber">0.5.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="headertitle">
<div class="title">Building <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#intro">Introduction</a><ul><li class="level2"><a href="#linux">Build on Linux-based distributions</a></li>
<li class="level2"><a href="#macos">Build on Mac OS X</a></li>
<li class="level2"><a href="#win">Build on Windows / Visual Studio</a></li>
</ul>
</li>
<li class="level1"><a href="#cmakeDGtal">DGtal cmake options</a></li>
</ul>
</div>
<div class="textblock"><dl class="section user"><dt>Author(s) of this documentation:</b></dt><dd>David Coeurjolly - Martial Tola</dd></dl>
<p>This part of the manual describes how to build <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> on Linux, Mac OS X and Windows.</p>
<h2><a class="anchor" id="intro"></a>
Introduction</h2>
<p>The <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> library uses <a href="http://www.cmake.org">cmake</a> to manage the project build on various systems.</p>
<p>To build <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> in is minimal configuration, you need at least these dependencies:</p>
<ul>
<li><em>cmake</em> (optionally cmake-gui),</li>
<li><em>c++</em> compiler (g++, clang++,...)</li>
<li><em>boost</em> &gt;= 1.42.0 and boost-program-options.</li>
</ul>
<p>To build <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> in is full configuration, you need these dependencies too:</p>
<ul>
<li><em>gmp</em>,</li>
<li><em>cairo</em>,</li>
<li><em>qglviewer</em>,</li>
<li><em>graphicsmagick</em>,</li>
<li><em>insighttoolkit</em> (ITK),</li>
</ul>
<p>If you want to generate the documentation, you would need:</p>
<ul>
<li><em>doxygen</em> &gt;= 1.8.0,</li>
<li><em>graphviz</em> </li>
</ul>
<h3><a class="anchor" id="linux"></a>
Build on Linux-based distributions</h3>
<p>From a clean Ubuntu installation, you can download and install all dependencies using: </p>
<div class="fragment"><pre class="fragment">sudo apt-<span class="keyword">get</span> install cmake g++  libboost-dev libboost-program-options-dev
sudo apt-<span class="keyword">get</span> install libgmp-dev libcairo2-dev libqglviewer-qt4-dev
libgraphicsmagick++1-dev libinsighttoolkit3-dev libgdcm2-dev doxygen graphviz
</pre></div><p>An important feature of cmake is the "out-of-source" build process. Let us suppose that <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> sources are in the DGTALSOURCES folder. Hence, in a terminal you can create a build folder: </p>
<div class="fragment"><pre class="fragment">cd DGTALSOURCES
mkdir build
cd build
</pre></div><p>Next, use the cmake command to generate your Unix Makefile project (default generator on Unix/Linux) like below for the minimal <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> configuration: </p>
<div class="fragment"><pre class="fragment">cmake ..
</pre></div><p>For the full <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> configuration, you have to set these options with cmake: </p>
<div class="fragment"><pre class="fragment">cmake .. -DWITH_GMP=<span class="keyword">true</span> -DWITH_ITK=<span class="keyword">true</span> -DWITH_CAIRO=<span class="keyword">true</span> -DWITH_QGLVIEWER=<span class="keyword">true</span> -DWITH_MAGICK=<span class="keyword">true</span>
</pre></div><p>If no error occurs, you can build the <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> lib and install it: </p>
<div class="fragment"><pre class="fragment">make 
sudo make install
</pre></div><h3><a class="anchor" id="macos"></a>
Build on Mac OS X</h3>
<p>First of all,</p>
<ul>
<li><em>download</em> and install Xcode : <a href="https://developer.apple.com/xcode/">https://developer.apple.com/xcode/</a></li>
<li><em>with</em> recent version of Xcode (for example 4.3.x) you need then to install the 'Command Line Tools' for Xcode. You can install them from inside Xcode's Download preferences. Finally, you also need to do that command: <div class="fragment"><pre class="fragment">sudo xcode-select -<span class="keywordflow">switch</span> /Applications/Xcode.app/Contents/Developer
</pre></div></li>
</ul>
<p>To install <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> dependencies, we can use any of the available package managers (MacPort, fink, homebrew). However, for <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a>, we recommend to use Homebrew (simpler, faster,...):</p>
<ul>
<li><em>download</em> and install <a href="http://mxcl.github.com/homebrew/">Homebrew</a> and then update it: <div class="fragment"><pre class="fragment">/usr/bin/ruby -e <span class="stringliteral">&quot;$(/usr/bin/curl -fsSL https://raw.github.com/mxcl/homebrew/master/Library/Contributions/install_homebrew.rb)&quot;</span>
brew update
</pre></div></li>
</ul>
<p>From a clean Mac OS X Lion (10.7) installation, you first need to do that to install all the dependencies: </p>
<div class="fragment"><pre class="fragment">brew install cmake doxygen graphviz boost
brew install gmp cairo libqglviewer graphicsmagick
</pre></div><p>Finally, for now, ITK is not available via Homebrew so you have to download <a href="http://www.itk.org/ITK/resources/software.html">this package</a> and then do: </p>
<div class="fragment"><pre class="fragment">tar zxvf InsightToolkit-4.1.0.tar.gz
cd InsightToolkit-4.1.0
mkdir build
cd build
cmake ..
make
sudo make install
</pre></div><p> <b>here</b> <b>4.1.0</b> is an example but you may need to adjust the version number...</p>
<p>Then, since recent Mac OS systems are unix-like operating systems, the easiest way to compile <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> with cmake/make is to follow Linux-based instructions.</p>
<h3><a class="anchor" id="win"></a>
Build on Windows / Visual Studio</h3>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Describe the process to compile or install dependencies (boost, gmp-mpir, cairo, qglviewer, qt, ...) for x86 (vs2008) and x64 (vs2010)</dd></dl>
<p>First, use the cmake Windows interface (cmake-gui) to generate your Visual Studio project. Again, a good practise is to specify a different build folder.</p>
<p>On windows, there are no specific locations in the folder tree where cmake could find the include files and DLLs shared libraries of the <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> dependencies. Hence, you will have to <b>manually</b> set the paths to find the dependencies.</p>
<p>For example, with cmake-gui,</p>
<ul>
<li><em>the</em> <b>boost</b> dependency must be set with a new <b>BOOST_ROOT</b> <b>path</b> option (with "+ Add Entry" button)</li>
<li><em>the</em> <b>gmp-mpir</b> dependency must be set with <b>GMPXX_LIBRARIES</b> (mpir.lib <b>and</b> <b>not</b> mpirxx.lib, important!) and <b>GMP_LIBRARIES</b> (mpir.lib too) <b>file</b> options and <b>GMP_INCLUDE_DIR</b> <b>path</b> option</li>
<li><em>the</em> <b>cairo</b> dependency must be set with <b>CAIRO_LIBRAIRIES</b> (cairo.lib <b>and</b> <b>not</b> cairo-static.lib, important!) <b>file</b> option and <b>CAIRO_INCLUDE_DIRS</b> <b>path</b> option</li>
<li><em>the</em> <b>qglviewer</b> dependency must be set with <b>QGLVIEWER_LIBRARY_DEBUG</b> (QGLViewerd2.lib) and <b>QGLVIEWER_LIBRARY_RELEASE</b> (QGLViewer2.lib) <b>file</b> options and <b>QGLVIEWER_INCLUDE_DIR</b> <b>path</b> option</li>
</ul>
<p>Important:</p>
<ul>
<li><em><b>BUILD_SHARED_LIBS</b> </em>(ON/OFF) must be <b>OFF</b> actually on <b>Windows!</b> </li>
</ul>
<p>Once the Visual Studio project as been created, you just have to simply open it with VS and compile it (but for the moment there are still compilation errors on Windows with some modules...).</p>
<h2><a class="anchor" id="cmakeDGtal"></a>
DGtal cmake options</h2>
<p>In <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> CMakeLists.txt, several options can be specified to custom the library build. First, cmake has predefined build options (<em>CMAKE_BUILD_TYPE</em>) such as:</p>
<ul>
<li><em>CMAKE_BUILD_TYPE</em> <ul>
<li><b>Debug:</b> debug mode (e.g. C++ debug flags, DEBUG variable, ...)</li>
<li><b>Release:</b> release build (e.g. optimized C++ compiler options, NDEBUG variable, ...)</li>
</ul>
</li>
<li><em>CMAKE_INSTALL_PREFIX:</em> a string containing the <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> install path (e.g. by default on some linux: "/usr/local/").</li>
</ul>
<p>Beside these options, user can also specify these options:</p>
<ul>
<li><em>BUILD_EXAMPLES</em> (ON/OFF): to build <a class="el" href="namespaceDGtal.html" title="Aim: Defines the concept describing a bidirectional const range.">DGtal</a> examples (default: ON)</li>
<li><em>BUILD_TESTING</em> (ON/OFF): to build the test suite (default: ON)</li>
</ul>
<ul>
<li><em>DEBUG_VERBOSE</em> (ON/OFF): to define the <em>DEBUG_VERBOSE</em> variable (default: OFF). If set to ON and in <b>Debug</b> build type, verbose debug messages are traced out.</li>
</ul>
<ul>
<li><em><b>BUILD_SHARED_LIBS</b> </em>(ON/OFF): to build the lib as a shared library (default: ON) but <b>must</b> be <b>OFF</b> actually on <b>Windows!</b> </li>
</ul>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 10 2012 16:09:54 for DGtal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
