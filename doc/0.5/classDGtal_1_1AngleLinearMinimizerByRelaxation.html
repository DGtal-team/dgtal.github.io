<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DGtal: DGtal::AngleLinearMinimizerByRelaxation Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DGtal
   &#160;<span id="projectnumber">0.5.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceDGtal.html">DGtal</a>      </li>
      <li class="navelem"><a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html">AngleLinearMinimizerByRelaxation</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">DGtal::AngleLinearMinimizerByRelaxation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="AngleLinearMinimizer_8h_source.html">AngleLinearMinimizer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DGtal::AngleLinearMinimizerByRelaxation:</div>
<div class="dyncontent">
<div class="center"><img src="classDGtal_1_1AngleLinearMinimizerByRelaxation__inherit__graph.png" border="0" usemap="#DGtal_1_1AngleLinearMinimizerByRelaxation_inherit__map" alt="Inheritance graph"/></div>
<map name="DGtal_1_1AngleLinearMinimizerByRelaxation_inherit__map" id="DGtal_1_1AngleLinearMinimizerByRelaxation_inherit__map">
<area shape="rect" id="node2" href="classDGtal_1_1AngleLinearMinimizer.html" title="Aim: Used to minimize the angle variation between different angles while taking into accounts min and..." alt="" coords="44,6,231,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for DGtal::AngleLinearMinimizerByRelaxation:</div>
<div class="dyncontent">
<div class="center"><img src="classDGtal_1_1AngleLinearMinimizerByRelaxation__coll__graph.png" border="0" usemap="#DGtal_1_1AngleLinearMinimizerByRelaxation_coll__map" alt="Collaboration graph"/></div>
<map name="DGtal_1_1AngleLinearMinimizerByRelaxation_coll__map" id="DGtal_1_1AngleLinearMinimizerByRelaxation_coll__map">
<area shape="rect" id="node2" href="classDGtal_1_1AngleLinearMinimizer.html" title="Aim: Used to minimize the angle variation between different angles while taking into accounts min and..." alt="" coords="44,105,231,135"/><area shape="rect" id="node4" href="structDGtal_1_1AngleLinearMinimizer_1_1ValueInfo.html" title="DGtal::AngleLinearMinimizer::ValueInfo" alt="" coords="13,6,261,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a01214b2a6c06657919b3d5333fd82768"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#a01214b2a6c06657919b3d5333fd82768">AngleLinearMinimizerByRelaxation</a> ()</td></tr>
<tr class="memitem:a1e717077e5c890a523d12f0d2d0b0554"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#a1e717077e5c890a523d12f0d2d0b0554">~AngleLinearMinimizerByRelaxation</a> ()</td></tr>
<tr class="memitem:aa16f61933ba1971678bb21674645acbd"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#aa16f61933ba1971678bb21674645acbd">lastDelta</a> () const </td></tr>
<tr class="memitem:ae9479fded7fb47be956b1448ead2bda2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#ae9479fded7fb47be956b1448ead2bda2">selfDisplay</a> (std::ostream &amp;aStream) const </td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3ea2e48f460407a52266621a8d41535e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#a3ea2e48f460407a52266621a8d41535e">oneStep</a> (unsigned int i1, unsigned int i2)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Specializes LinearMinimizer to optimize with a relaxation method. </p>

<p>Definition at line <a class="el" href="AngleLinearMinimizer_8h_source.html#l00372">372</a> of file <a class="el" href="AngleLinearMinimizer_8h_source.html">AngleLinearMinimizer.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a01214b2a6c06657919b3d5333fd82768"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#a01214b2a6c06657919b3d5333fd82768">DGtal::AngleLinearMinimizerByRelaxation::AngleLinearMinimizerByRelaxation</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default constructor. Does nothing. </p>

<p>Definition at line <a class="el" href="AngleLinearMinimizer_8ih_source.html#l00072">72</a> of file <a class="el" href="AngleLinearMinimizer_8ih_source.html">AngleLinearMinimizer.ih</a>.</p>
<div class="fragment"><pre class="fragment">{}
</pre></div>
</div>
</div>
<a class="anchor" id="a1e717077e5c890a523d12f0d2d0b0554"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#a1e717077e5c890a523d12f0d2d0b0554">DGtal::AngleLinearMinimizerByRelaxation::~AngleLinearMinimizerByRelaxation</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor. Does nothing. </p>

<p>Definition at line <a class="el" href="AngleLinearMinimizer_8ih_source.html#l00080">80</a> of file <a class="el" href="AngleLinearMinimizer_8ih_source.html">AngleLinearMinimizer.ih</a>.</p>
<div class="fragment"><pre class="fragment">{}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa16f61933ba1971678bb21674645acbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#aa16f61933ba1971678bb21674645acbd">DGtal::AngleLinearMinimizerByRelaxation::lastDelta</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Should be used to stop the minimization process. The smaller is this value, the more the optimization is at an end. May have several meanings, like the infinite norm of the last displacement or the infinite norm of the projected gradient.</p>
<dl class="section return"><dt>Returns:</dt><dd>an upper bound on the norm of the last displacement. </dd></dl>

<p>Reimplemented from <a class="el" href="classDGtal_1_1AngleLinearMinimizer.html#af4ec5988e698bd8fb5380a4afeec1113">DGtal::AngleLinearMinimizer</a>.</p>

<p>Definition at line <a class="el" href="AngleLinearMinimizer_8cpp_source.html#l00353">353</a> of file <a class="el" href="AngleLinearMinimizer_8cpp_source.html">AngleLinearMinimizer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#a1ce3c95dec6728d7953d29a63a6fcb22">max</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3ea2e48f460407a52266621a8d41535e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#a3ea2e48f460407a52266621a8d41535e">DGtal::AngleLinearMinimizerByRelaxation::oneStep</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The method which performs the optimization effectively. Use a relaxation technique. The optimization is performed on values [i1] included to [i2] excluded.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">i1</td><td>the first value to be optimized (between 0 and '<a class="el" href="classDGtal_1_1AngleLinearMinimizer.html#a70195238945bd916c230d500fc1306d8">size()</a>-1'). </td></tr>
    <tr><td class="paramname">i2</td><td>the value after the last to be optimized (between 0 and '<a class="el" href="classDGtal_1_1AngleLinearMinimizer.html#a70195238945bd916c230d500fc1306d8">size()</a>-1'). </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classDGtal_1_1AngleLinearMinimizer.html#a8281e8f5c18345c72129c4059e637278">DGtal::AngleLinearMinimizer</a>.</p>

<p>Definition at line <a class="el" href="AngleLinearMinimizer_8cpp_source.html#l00305">305</a> of file <a class="el" href="AngleLinearMinimizer_8cpp_source.html">AngleLinearMinimizer.cpp</a>.</p>

<p>References <a class="el" href="AngleComputer_8ih_source.html#l00054">DGtal::AngleComputer::cast()</a>, <a class="el" href="AngleComputer_8ih_source.html#l00105">DGtal::AngleComputer::deviation()</a>, <a class="el" href="AngleLinearMinimizer_8h_source.html#l00100">DGtal::AngleLinearMinimizer::ValueInfo::distToNext</a>, <a class="el" href="AngleComputer_8ih_source.html#l00072">DGtal::AngleComputer::less()</a>, <a class="el" href="AngleLinearMinimizer_8h_source.html#l00095">DGtal::AngleLinearMinimizer::ValueInfo::max</a>, <a class="el" href="AngleLinearMinimizer_8h_source.html#l00090">DGtal::AngleLinearMinimizer::ValueInfo::min</a>, <a class="el" href="ModuloComputer_8ih_source.html#l00092">DGtal::ModuloComputer&lt; TInteger &gt;::next()</a>, <a class="el" href="AngleLinearMinimizer_8h_source.html#l00085">DGtal::AngleLinearMinimizer::ValueInfo::oldValue</a>, <a class="el" href="ModuloComputer_8ih_source.html#l00106">DGtal::ModuloComputer&lt; TInteger &gt;::previous()</a>, and <a class="el" href="AngleLinearMinimizer_8h_source.html#l00080">DGtal::AngleLinearMinimizer::ValueInfo::value</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classDGtal_1_1ModuloComputer.html" title="implements basic functions on modular arithmetic.">ModuloComputer&lt;unsigned int&gt;</a> mc( <a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#a70195238945bd916c230d500fc1306d8">size</a>() );

  <span class="keywordtype">double</span> mid;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = i1; 
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iprev = mc.previous( i );
  <span class="keywordflow">do</span> 
    {
      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> inext = mc.next( i );
      ValueInfo &amp; vi = this-&gt;<a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#afaa9bf44762e600023155d4ec2d5d225">rw</a>( i );
      <span class="comment">//      vi.oldValue = vi.value;</span>
      <span class="keywordflow">if</span> ( <a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#a4bebeb64b543a00f33f7b37b137ad89a">myIsCurveOpen</a> &amp;&amp; ( i == ( <a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#a70195238945bd916c230d500fc1306d8">size</a>() - 1 ) ) )
        { <span class="comment">// free extremity to the front/right.</span>
          <span class="keyword">const</span> ValueInfo &amp; viprev = this-&gt;<a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#a0e0b0146d08582de715534e6ec63d799">ro</a>( iprev );
          mid = viprev.value; <span class="comment">// - viprev.delta;</span>
        }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#a4bebeb64b543a00f33f7b37b137ad89a">myIsCurveOpen</a> &amp;&amp; ( i ==  0 ) )
        { <span class="comment">// free extremity to the back/left.</span>
          <span class="keyword">const</span> ValueInfo &amp; vinext = this-&gt;<a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#a0e0b0146d08582de715534e6ec63d799">ro</a>( inext );
          mid = vinext.oldValue; <span class="comment">// + vi.delta;</span>
        }
      <span class="keywordflow">else</span>
        { <span class="comment">// standard case.</span>
          <span class="keyword">const</span> ValueInfo &amp; viprev = this-&gt;<a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#a0e0b0146d08582de715534e6ec63d799">ro</a>( iprev );
          <span class="keyword">const</span> ValueInfo &amp; vinext = this-&gt;<a class="code" href="classDGtal_1_1AngleLinearMinimizer.html#a0e0b0146d08582de715534e6ec63d799">ro</a>( inext );
          <span class="keywordtype">double</span> valp = viprev.value; <span class="comment">// - viprev.delta;</span>
          <span class="keywordtype">double</span> valn = vinext.value;
          
          <span class="comment">// old</span>
          <span class="keywordtype">double</span> y = <a class="code" href="structDGtal_1_1AngleComputer.html#af6d632e7121eae5fff6f4d568b6432a6">AngleComputer::deviation</a>( valn, valp );
          mid = ( viprev.distToNext * y )
            / ( vi.distToNext + viprev.distToNext );
          mid = <a class="code" href="structDGtal_1_1AngleComputer.html#a5f44ca259789ce0031ad03e7b4d7b10f">AngleComputer::cast</a>( mid + valp );
        }
      <span class="keywordflow">if</span> ( <a class="code" href="structDGtal_1_1AngleComputer.html#a1747122fb6147fbde4599cd6ec766e24">AngleComputer::less</a>( mid, vi.min ) ) mid = vi.min;
      <span class="keywordflow">if</span> ( <a class="code" href="structDGtal_1_1AngleComputer.html#a1747122fb6147fbde4599cd6ec766e24">AngleComputer::less</a>( vi.max, mid ) ) mid = vi.max;
      vi.value = mid;
      iprev = i;
      i = inext;
    }
  <span class="keywordflow">while</span> ( i != i2 );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae9479fded7fb47be956b1448ead2bda2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDGtal_1_1AngleLinearMinimizerByRelaxation.html#ae9479fded7fb47be956b1448ead2bda2">DGtal::AngleLinearMinimizerByRelaxation::selfDisplay</a> </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>aStream</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes/Displays the object on an output stream. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aStream</td><td>the output stream where the object is written. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classDGtal_1_1AngleLinearMinimizer.html#a3bb38479cd6111935b536db0d51cfe37">DGtal::AngleLinearMinimizer</a>.</p>

<p>Definition at line <a class="el" href="AngleLinearMinimizer_8cpp_source.html#l00485">485</a> of file <a class="el" href="AngleLinearMinimizer_8cpp_source.html">AngleLinearMinimizer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  aStream &lt;&lt; <span class="stringliteral">&quot;[LinearMinimizer::relaxation]&quot;</span>;
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AngleLinearMinimizer_8h_source.html">AngleLinearMinimizer.h</a></li>
<li><a class="el" href="AngleLinearMinimizer_8cpp_source.html">AngleLinearMinimizer.cpp</a></li>
<li><a class="el" href="AngleLinearMinimizer_8ih_source.html">AngleLinearMinimizer.ih</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 10 2012 16:10:07 for DGtal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
