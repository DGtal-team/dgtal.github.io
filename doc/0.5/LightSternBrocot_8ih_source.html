<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DGtal: LightSternBrocot.ih Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DGtal
   &#160;<span id="projectnumber">0.5.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a>      </li>
      <li class="navelem"><a class="el" href="dir_f2cd1aeea1cfa982bb13a5f95fa4218c.html">DGtal</a>      </li>
      <li class="navelem"><a class="el" href="dir_b5108e809fa67f729d044e06289c9bff.html">math</a>      </li>
      <li class="navelem"><a class="el" href="dir_9a3abf6a2c69d6015e0996e0d37dc12c.html">arithmetic</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">LightSternBrocot.ih</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;DGtal/math/arithmetic/IntegerComputer.h&quot;</span>
<a name="l00036"></a>00036 
<a name="l00038"></a>00038 <span class="comment">// IMPLEMENTATION of inline methods.</span>
<a name="l00040"></a>00040 <span class="comment"></span>
<a name="l00042"></a>00042 <span class="comment">// ----------------------- Standard services ------------------------------</span>
<a name="l00043"></a>00043 
<a name="l00045"></a>00045 <span class="comment">// DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Node </span>
<a name="l00046"></a>00046 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00047"></a>00047 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00048"></a>00048 <span class="keyword">inline</span>
<a name="l00049"></a>00049 <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#aa7fcb2bdd14988fb92412df38cd4920f">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Node::</a>
<a name="l00050"></a><a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#aa7fcb2bdd14988fb92412df38cd4920f">00050</a> <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#aa7fcb2bdd14988fb92412df38cd4920f">Node</a>( <a class="code" href="classDGtal_1_1LightSternBrocot.html#a442af560dbbdd21900debdc05907b947">Integer</a> p1, <a class="code" href="classDGtal_1_1LightSternBrocot.html#a442af560dbbdd21900debdc05907b947">Integer</a> q1, <a class="code" href="classDGtal_1_1LightSternBrocot.html#af4d28758914c89ca9c157e6b8db7fe68">Quotient</a> u1, <a class="code" href="classDGtal_1_1LightSternBrocot.html#af4d28758914c89ca9c157e6b8db7fe68">Quotient</a> k1, 
<a name="l00051"></a>00051       <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>* _ascendant )
<a name="l00052"></a>00052   : p( p1 ), q( q1 ), u( u1 ), k( k1 ), 
<a name="l00053"></a>00053     ascendant( _ascendant )
<a name="l00054"></a>00054 {
<a name="l00055"></a>00055   <span class="comment">//  if ( k == 0 )</span>
<a name="l00056"></a>00056   <span class="comment">//std::cerr &lt;&lt; &quot;(&quot; &lt;&lt; p1 &lt;&lt; &quot;/&quot; &lt;&lt; q1 &lt;&lt; &quot;,&quot; &lt;&lt; u1 &lt;&lt; &quot;,&quot; &lt;&lt; k1 &lt;&lt; &quot;)&quot;;</span>
<a name="l00057"></a>00057 }
<a name="l00058"></a>00058 
<a name="l00060"></a>00060 <span class="comment">// DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</span>
<a name="l00061"></a>00061 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00062"></a>00062 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00063"></a>00063 <span class="keyword">inline</span>
<a name="l00064"></a>00064 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00065"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#af2255ab9f8683e158c5f2d7cae4ce1c7">00065</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">Fraction</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> aP, <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> aQ, <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> )
<a name="l00066"></a>00066 {
<a name="l00067"></a>00067   <span class="comment">// special case 1/0</span>
<a name="l00068"></a>00068   <span class="keywordflow">if</span> ( ( aP == <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ONE</a> ) 
<a name="l00069"></a>00069        &amp;&amp; ( aQ == <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ZERO</a> ) ) 
<a name="l00070"></a>00070     this-&gt;<a class="code" href="classDGtal_1_1LightSternBrocot.html#ae2629f0af9cda5897f44ca7d13fd0cdd">operator=</a>( <a class="code" href="classDGtal_1_1LightSternBrocot.html#afc8b19bb8d58d5015cf339e98ecf8240">oneOverZero</a>() );
<a name="l00071"></a>00071   <span class="keywordflow">else</span>
<a name="l00072"></a>00072     {
<a name="l00073"></a>00073       <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> f = <a class="code" href="classDGtal_1_1LightSternBrocot.html#aba052e91ec5c9ce52c963c1e6bd10f26">zeroOverOne</a>();
<a name="l00074"></a>00074       <span class="keywordtype">bool</span> sup1 = aP &gt; aQ;
<a name="l00075"></a>00075       <span class="keywordflow">if</span> ( sup1 ) std::swap( aP, aQ );
<a name="l00076"></a>00076       <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> _quot, _rem;
<a name="l00077"></a>00077       <a class="code" href="classDGtal_1_1IntegerComputer.html">IntegerComputer&lt;Integer&gt;</a> ic;
<a name="l00078"></a>00078       <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> v;
<a name="l00079"></a>00079       <span class="keywordtype">bool</span> prec_was_one = <span class="keyword">false</span>;
<a name="l00080"></a>00080       <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> j = <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a>;
<a name="l00081"></a>00081       <span class="keywordflow">while</span> ( aQ != <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ZERO</a> )
<a name="l00082"></a>00082         {
<a name="l00083"></a>00083           ic.<a class="code" href="classDGtal_1_1IntegerComputer.html#aebd99377312cc6460d8b8e039478b239">getEuclideanDiv</a>( _quot, _rem, aP, aQ );
<a name="l00084"></a>00084           v = <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::castToInt64_t</a>( _quot );
<a name="l00085"></a>00085           <span class="keywordflow">if</span> ( f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#afb3571774fc1a45add922bbee787db91">k</a>() == j ) 
<a name="l00086"></a>00086             f = f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5bdca57d3cdd92eb5f91012aeb35c10e">next</a>( v );
<a name="l00087"></a>00087           <span class="keywordflow">else</span> 
<a name="l00088"></a>00088             f = f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a0d42466eef8293abf2e2ed88c08897c6">next1</a>( v );
<a name="l00089"></a>00089           <span class="keywordflow">if</span> ( v != 0 ) ++j;
<a name="l00090"></a>00090           aP = aQ;
<a name="l00091"></a>00091           aQ = _rem;
<a name="l00092"></a>00092         }
<a name="l00093"></a>00093       <span class="keywordflow">if</span> ( prec_was_one ) f = f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5bdca57d3cdd92eb5f91012aeb35c10e">next</a>( <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> );
<a name="l00094"></a>00094       this-&gt;<a class="code" href="classDGtal_1_1LightSternBrocot.html#ae2629f0af9cda5897f44ca7d13fd0cdd">operator=</a>( sup1 ? f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#abcbbf2f07cf8ad96609625b022e4e64b">inverse</a>() : f );
<a name="l00095"></a>00095     }
<a name="l00096"></a>00096 }
<a name="l00097"></a>00097 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00098"></a>00098 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00099"></a>00099 <span class="keyword">inline</span>
<a name="l00100"></a>00100 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00101"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a8b8d094db4a08b58c39c19f19710f369">00101</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">Fraction</a>( <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>* sb_node, <span class="keywordtype">bool</span> sup1 )
<a name="l00102"></a>00102   : myNode( sb_node ), mySup1( sup1 )
<a name="l00103"></a>00103 {
<a name="l00104"></a>00104 }
<a name="l00105"></a>00105 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00106"></a>00106 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00107"></a>00107 <span class="keyword">inline</span>
<a name="l00108"></a>00108 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00109"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a73d1b455f3905cebbb4e94632a28c60d">00109</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">Fraction</a>( <span class="keyword">const</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Self</a> &amp; other )
<a name="l00110"></a>00110   : myNode( other.myNode ), mySup1( other.mySup1 )
<a name="l00111"></a>00111 {
<a name="l00112"></a>00112 }
<a name="l00113"></a>00113 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00114"></a>00114 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00115"></a>00115 <span class="keyword">inline</span>
<a name="l00116"></a>00116 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a> &amp;
<a name="l00117"></a>00117 <a class="code" href="classDGtal_1_1LightSternBrocot.html#ae2629f0af9cda5897f44ca7d13fd0cdd">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00118"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a0d534821d55998e5cd056be01e35f68e">00118</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html#ae2629f0af9cda5897f44ca7d13fd0cdd">operator=</a>( <span class="keyword">const</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Self</a> &amp; other )
<a name="l00119"></a>00119 {
<a name="l00120"></a>00120   <span class="keywordflow">if</span> ( <span class="keyword">this</span> != &amp;other )
<a name="l00121"></a>00121     {
<a name="l00122"></a>00122       myNode = other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5059344d198c07ed3121c6331bfa066e">myNode</a>;
<a name="l00123"></a>00123       mySup1 = other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a503faecd785a6007856dacba6d4aa4ad" title="When &#39;true&#39;, the fraction is greater than 1/1 (to its right).">mySup1</a>;
<a name="l00124"></a>00124     }
<a name="l00125"></a>00125   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00126"></a>00126 }
<a name="l00127"></a>00127 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00128"></a>00128 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00129"></a>00129 <span class="keyword">inline</span>
<a name="l00130"></a>00130 <span class="keywordtype">bool</span> 
<a name="l00131"></a>00131 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00132"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a92bc004740c719bb5719f02305db8d61">00132</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">null</a>()<span class="keyword"> const</span>
<a name="l00133"></a>00133 <span class="keyword"></span>{
<a name="l00134"></a>00134   <span class="keywordflow">return</span> myNode == 0;
<a name="l00135"></a>00135 }
<a name="l00136"></a>00136 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00137"></a>00137 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00138"></a>00138 <span class="keyword">inline</span>
<a name="l00139"></a>00139 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot.html#a442af560dbbdd21900debdc05907b947">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Integer</a>
<a name="l00140"></a>00140 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00141"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a388e37451d0eab4f910624bb90c346c8">00141</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">p</a>()<span class="keyword"> const</span>
<a name="l00142"></a>00142 <span class="keyword"></span>{
<a name="l00143"></a>00143   <span class="keywordflow">return</span> myNode ? ( mySup1 ? myNode-&gt;q : myNode-&gt;p ) : 0;
<a name="l00144"></a>00144 }
<a name="l00145"></a>00145 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00146"></a>00146 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00147"></a>00147 <span class="keyword">inline</span>
<a name="l00148"></a>00148 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot.html#a442af560dbbdd21900debdc05907b947">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Integer</a>
<a name="l00149"></a>00149 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00150"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a6acaccfa8fe1548f7fb05dd2c7f7426c">00150</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">q</a>()<span class="keyword"> const</span>
<a name="l00151"></a>00151 <span class="keyword"></span>{
<a name="l00152"></a>00152   <span class="keywordflow">return</span> myNode ? ( mySup1 ? myNode-&gt;p : myNode-&gt;q ) : 0;
<a name="l00153"></a>00153 }
<a name="l00154"></a>00154 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00155"></a>00155 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00156"></a>00156 <span class="keyword">inline</span>
<a name="l00157"></a>00157 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot.html#af4d28758914c89ca9c157e6b8db7fe68">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Quotient</a>
<a name="l00158"></a>00158 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00159"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a0db1e991b202443a74cae1b8b8fac65a">00159</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">u</a>()<span class="keyword"> const</span>
<a name="l00160"></a>00160 <span class="keyword"></span>{
<a name="l00161"></a>00161   ASSERT( myNode != 0 );
<a name="l00162"></a>00162   <span class="keywordflow">return</span> myNode-&gt;u;
<a name="l00163"></a>00163 }
<a name="l00164"></a>00164 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00165"></a>00165 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00166"></a>00166 <span class="keyword">inline</span>
<a name="l00167"></a>00167 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot.html#af4d28758914c89ca9c157e6b8db7fe68">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Quotient</a>
<a name="l00168"></a>00168 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00169"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#afb3571774fc1a45add922bbee787db91">00169</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">k</a>()<span class="keyword"> const</span>
<a name="l00170"></a>00170 <span class="keyword"></span>{
<a name="l00171"></a>00171   ASSERT( myNode != 0 );
<a name="l00172"></a>00172   <span class="keywordflow">if</span> ( mySup1 )
<a name="l00173"></a>00173     {
<a name="l00174"></a>00174       <span class="comment">// if ( ( myNode-&gt;k == 0 ) </span>
<a name="l00175"></a>00175       <span class="comment">//      &amp;&amp; ( myNode != instance().myZeroOverOne )</span>
<a name="l00176"></a>00176       <span class="comment">//      &amp;&amp; ( myNode != instance().myOneOverOne ) )</span>
<a name="l00177"></a>00177       <span class="comment">//   {</span>
<a name="l00178"></a>00178       <span class="comment">//     std::cerr &lt;&lt; &quot;****ERROR**** &quot;</span>
<a name="l00179"></a>00179       <span class="comment">//               &lt;&lt; &quot; sup1=&quot; &lt;&lt; mySup1</span>
<a name="l00180"></a>00180       <span class="comment">//               &lt;&lt; &quot; p=&quot; &lt;&lt; myNode-&gt;p</span>
<a name="l00181"></a>00181       <span class="comment">//               &lt;&lt; &quot; q=&quot; &lt;&lt; myNode-&gt;q</span>
<a name="l00182"></a>00182       <span class="comment">//               &lt;&lt; &quot; k=&quot; &lt;&lt; myNode-&gt;k</span>
<a name="l00183"></a>00183       <span class="comment">//               &lt;&lt; &quot; u=&quot; &lt;&lt; myNode-&gt;u;</span>
<a name="l00184"></a>00184       <span class="comment">//     std::cerr &lt;&lt; std::endl;</span>
<a name="l00185"></a>00185       <span class="comment">//   }</span>
<a name="l00186"></a>00186       ASSERT( ( myNode-&gt;k != 0 ) 
<a name="l00187"></a>00187               || ( myNode == <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a> )
<a name="l00188"></a>00188               || ( myNode == <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#ab398283298fa763efc2c0587bfe4f22b">myOneOverOne</a> ) );
<a name="l00189"></a>00189       ASSERT( ( myNode-&gt;k != -1 ) 
<a name="l00190"></a>00190               || ( myNode == <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#a6cc228fbe1507c9bd8c4fb7e466e7b9c">myOneOverZero</a> ) );
<a name="l00191"></a>00191       <span class="keywordflow">if</span> ( myNode-&gt;k == -<a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> )
<a name="l00192"></a>00192         <span class="keywordflow">return</span> <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a>;
<a name="l00193"></a>00193       <span class="keywordflow">if</span> ( myNode == <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a> )
<a name="l00194"></a>00194         <span class="keywordflow">return</span> -<a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a>;
<a name="l00195"></a>00195       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( myNode == <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#ab398283298fa763efc2c0587bfe4f22b">myOneOverOne</a> )
<a name="l00196"></a>00196         <span class="keywordflow">return</span> <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a>;
<a name="l00197"></a>00197       <span class="keywordflow">else</span>
<a name="l00198"></a>00198         <span class="keywordflow">return</span> myNode-&gt;k - <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a>;
<a name="l00199"></a>00199     }
<a name="l00200"></a>00200   <span class="keywordflow">return</span> myNode-&gt;k;
<a name="l00201"></a>00201 }
<a name="l00202"></a>00202 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00203"></a>00203 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00204"></a>00204 <span class="keyword">inline</span>
<a name="l00205"></a>00205 <span class="keywordtype">bool</span>
<a name="l00206"></a>00206 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00207"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#ac81cc294b96b202db2c0d2539cbb9cec">00207</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">equals</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> p1, <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> q1 )<span class="keyword"> const</span>
<a name="l00208"></a>00208 <span class="keyword"></span>{
<a name="l00209"></a>00209   <span class="keywordflow">return</span> ( this-&gt;p() == p1 ) &amp;&amp; ( this-&gt;q() == q1 );
<a name="l00210"></a>00210 }
<a name="l00211"></a>00211 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00212"></a>00212 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00213"></a>00213 <span class="keyword">inline</span>
<a name="l00214"></a>00214 <span class="keywordtype">bool</span>
<a name="l00215"></a>00215 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00216"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a6353d58dae1262582d5b959dae17cf10">00216</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">lessThan</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> p1, <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> q1 )<span class="keyword"> const</span>
<a name="l00217"></a>00217 <span class="keyword"></span>{
<a name="l00218"></a>00218   <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> d = p() * q1 - q() * p1;
<a name="l00219"></a>00219   <span class="keywordflow">return</span> d &lt; NumberTraits&lt;Integer&gt;::ZERO;
<a name="l00220"></a>00220 }
<a name="l00221"></a>00221 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00222"></a>00222 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00223"></a>00223 <span class="keyword">inline</span>
<a name="l00224"></a>00224 <span class="keywordtype">bool</span>
<a name="l00225"></a>00225 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00226"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#ad19bb0418df0bbdf18b2b2c2e12d9adb">00226</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">moreThan</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> p1, <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> q1 )<span class="keyword"> const</span>
<a name="l00227"></a>00227 <span class="keyword"></span>{
<a name="l00228"></a>00228   <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a97a24f3ab264b731110b608d8ee91356">Integer</a> d = p() * q1 - q() * p1;
<a name="l00229"></a>00229   <span class="keywordflow">return</span> d &gt; <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ZERO</a>;
<a name="l00230"></a>00230 }
<a name="l00231"></a>00231 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00232"></a>00232 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00233"></a>00233 <span class="keyword">inline</span>
<a name="l00234"></a>00234 <span class="keywordtype">bool</span>
<a name="l00235"></a>00235 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00236"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#ac5de9c757e91ec5452028105b5bd5021">00236</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">operator==</a>( <span class="keyword">const</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> &amp; other )<span class="keyword"> const</span>
<a name="l00237"></a>00237 <span class="keyword"></span>{
<a name="l00238"></a>00238   <span class="keywordflow">if</span> ( mySup1 == other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a503faecd785a6007856dacba6d4aa4ad" title="When &#39;true&#39;, the fraction is greater than 1/1 (to its right).">mySup1</a> ) 
<a name="l00239"></a>00239     <span class="keywordflow">return</span> ( myNode == other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5059344d198c07ed3121c6331bfa066e">myNode</a> );
<a name="l00240"></a>00240   <span class="keywordflow">else</span>
<a name="l00241"></a>00241     <span class="keywordflow">return</span> ( ( myNode-&gt;p == other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5059344d198c07ed3121c6331bfa066e">myNode</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a4c5d4c74b5c35b44d2d76ca247e4ad00" title="the denominator;">q</a> )
<a name="l00242"></a>00242              &amp;&amp; ( myNode-&gt;q == other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5059344d198c07ed3121c6331bfa066e">myNode</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a29c49d72b704a097ca614a06b6c501bb" title="the numerator;">p</a> ) );
<a name="l00243"></a>00243 }
<a name="l00244"></a>00244 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00245"></a>00245 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00246"></a>00246 <span class="keyword">inline</span>
<a name="l00247"></a>00247 <span class="keywordtype">bool</span>
<a name="l00248"></a>00248 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00249"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a8706712e365b56562b6ac5f8fbc681a4">00249</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">operator!=</a>( <span class="keyword">const</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> &amp; other )<span class="keyword"> const</span>
<a name="l00250"></a>00250 <span class="keyword"></span>{
<a name="l00251"></a>00251   <span class="keywordflow">return</span> ! this-&gt;<a class="codeRef" href="namespaceLibBoard.html#ae493f4c9fd7b8059d9f9d48227b52fe1">operator==</a>( other );
<a name="l00252"></a>00252 }
<a name="l00253"></a>00253 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00254"></a>00254 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00255"></a>00255 <span class="keyword">inline</span>
<a name="l00256"></a>00256 <span class="keywordtype">bool</span>
<a name="l00257"></a>00257 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00258"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#ae275b560a002b81335faa0a07659a17a">00258</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">operator&lt;</a>( <span class="keyword">const</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> &amp; other )<span class="keyword"> const</span>
<a name="l00259"></a>00259 <span class="keyword"></span>{
<a name="l00260"></a>00260   <span class="keywordflow">return</span> this-&gt;lessThan( other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a388e37451d0eab4f910624bb90c346c8">p</a>(), other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a6acaccfa8fe1548f7fb05dd2c7f7426c">q</a>() );
<a name="l00261"></a>00261 }
<a name="l00262"></a>00262 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00263"></a>00263 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00264"></a>00264 <span class="keyword">inline</span>
<a name="l00265"></a>00265 <span class="keywordtype">bool</span>
<a name="l00266"></a>00266 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00267"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a8366bdb36562d1336e8dba5f8c66650c">00267</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">operator&gt;</a>( <span class="keyword">const</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> &amp; other )<span class="keyword"> const</span>
<a name="l00268"></a>00268 <span class="keyword"></span>{
<a name="l00269"></a>00269   <span class="keywordflow">return</span> this-&gt;moreThan( other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a388e37451d0eab4f910624bb90c346c8">p</a>(), other.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a6acaccfa8fe1548f7fb05dd2c7f7426c">q</a>() );
<a name="l00270"></a>00270 }
<a name="l00271"></a>00271 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00274"></a>00274 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00275"></a>00275 <span class="keyword">inline</span>
<a name="l00276"></a>00276 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00277"></a>00277 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00278"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5bdca57d3cdd92eb5f91012aeb35c10e">00278</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">next</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> v )<span class="keyword"> const</span>
<a name="l00279"></a>00279 <span class="keyword"></span>{
<a name="l00280"></a>00280   <span class="keyword">typedef</span> <span class="keyword">typename</span> MapQuotientToNode::iterator Iterator;
<a name="l00281"></a>00281   ASSERT( ! this-&gt;null() );
<a name="l00282"></a>00282   <span class="keywordflow">if</span> ( v == <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a> )
<a name="l00283"></a>00283     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00284"></a>00284   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( v == <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> ) 
<a name="l00285"></a>00285             &amp;&amp; ( this-&gt;myNode != <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a> ) )
<a name="l00286"></a>00286     { <span class="comment">// Specific case: same depth.</span>
<a name="l00287"></a>00287       v += u();
<a name="l00288"></a>00288       <span class="keywordtype">bool</span> anc_direct = isAncestorDirect();
<a name="l00289"></a>00289       Iterator itkey = anc_direct 
<a name="l00290"></a>00290         ? myNode-&gt;ascendant-&gt;descendant.find( v )
<a name="l00291"></a>00291         : myNode-&gt;ascendant-&gt;descendant2.find( v );
<a name="l00292"></a>00292       Iterator itend = anc_direct 
<a name="l00293"></a>00293         ? myNode-&gt;ascendant-&gt;descendant.end()
<a name="l00294"></a>00294         : myNode-&gt;ascendant-&gt;descendant2.end();
<a name="l00295"></a>00295       <span class="keywordflow">if</span> ( itkey != itend ) <span class="comment">// found</span>
<a name="l00296"></a>00296         <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( itkey-&gt;second, mySup1 );
<a name="l00297"></a>00297       <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>* new_node = <span class="keyword">new</span> <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>( myNode-&gt;p + myNode-&gt;ascendant-&gt;p,
<a name="l00298"></a>00298                                  myNode-&gt;q + myNode-&gt;ascendant-&gt;q,
<a name="l00299"></a>00299                                  v, myNode-&gt;k, myNode-&gt;ascendant );
<a name="l00300"></a>00300       <span class="keywordflow">if</span> (anc_direct ) myNode-&gt;ascendant-&gt;descendant[ v ] = new_node;
<a name="l00301"></a>00301       <span class="keywordflow">else</span>             myNode-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a6770d9cd94619c73f06d122e40fbd25b" title="A pointer to the node that is the preceding principal convergent.">ascendant</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#ab82ea67a34c160b35ee747bb35077867">descendant2</a>[ v ] = new_node;
<a name="l00302"></a>00302       ++( <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#aa862c6646c6a868396220da58ae5b429" title="The total number of fractions in the current tree.">nbFractions</a> );
<a name="l00303"></a>00303       <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( new_node, mySup1 );
<a name="l00304"></a>00304     }
<a name="l00305"></a>00305   <span class="keywordflow">else</span>
<a name="l00306"></a>00306     {
<a name="l00307"></a>00307       Iterator itkey = myNode-&gt;descendant.find( v );
<a name="l00308"></a>00308       <span class="keywordflow">if</span> ( itkey != myNode-&gt;descendant.end() ) <span class="comment">// found</span>
<a name="l00309"></a>00309         {
<a name="l00310"></a>00310           <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( itkey-&gt;second, mySup1 );
<a name="l00311"></a>00311         }
<a name="l00312"></a>00312       <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>* new_node = 
<a name="l00313"></a>00313         <span class="keyword">new</span> <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>( myNode-&gt;p * v + myNode-&gt;ascendant-&gt;p,
<a name="l00314"></a>00314                   myNode-&gt;q * v + myNode-&gt;ascendant-&gt;q,
<a name="l00315"></a>00315                   v, myNode-&gt;k + 1, myNode );
<a name="l00316"></a>00316       myNode-&gt;descendant[ v ] = new_node;
<a name="l00317"></a>00317       ++( <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#aa862c6646c6a868396220da58ae5b429" title="The total number of fractions in the current tree.">nbFractions</a> );
<a name="l00318"></a>00318       <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( new_node, mySup1 );
<a name="l00319"></a>00319     }
<a name="l00320"></a>00320 }
<a name="l00321"></a>00321 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00324"></a>00324 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00325"></a>00325 <span class="keyword">inline</span>
<a name="l00326"></a>00326 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00327"></a>00327 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00328"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a0d42466eef8293abf2e2ed88c08897c6">00328</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">next1</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> v )<span class="keyword"> const</span>
<a name="l00329"></a>00329 <span class="keyword"></span>{
<a name="l00330"></a>00330   <span class="keyword">typedef</span> <span class="keyword">typename</span> MapQuotientToNode::iterator Iterator;
<a name="l00331"></a>00331   ASSERT( ! this-&gt;null() );
<a name="l00332"></a>00332   <span class="keywordflow">if</span> ( v == <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a> )
<a name="l00333"></a>00333     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00334"></a>00334   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( v == <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> ) 
<a name="l00335"></a>00335     { <span class="comment">// Specific case: depth + 1.  [u_0, ..., u_n] =&gt; [u_0, ..., u_n -1, 2]</span>
<a name="l00336"></a>00336       <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> f = father();
<a name="l00337"></a>00337       <span class="keywordflow">if</span> ( f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5059344d198c07ed3121c6331bfa066e">myNode</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a515a921e58759c9c9755efad83588793" title="the depth (1+number of coefficients of its continued fraction).">k</a> == myNode-&gt;k )
<a name="l00338"></a>00338         <span class="keywordflow">return</span> father().next( 2 );
<a name="l00339"></a>00339       <span class="keywordflow">else</span>
<a name="l00340"></a>00340         <span class="keywordflow">return</span> father().next1( 2 );
<a name="l00341"></a>00341     }
<a name="l00342"></a>00342   <span class="keywordflow">else</span>
<a name="l00343"></a>00343     { <span class="comment">// Gen case:  [u_0, ..., u_n] =&gt; [u_0, ..., u_n -1, 1, v]</span>
<a name="l00344"></a>00344       Iterator itkey = myNode-&gt;descendant2.find( v );
<a name="l00345"></a>00345       <span class="keywordflow">if</span> ( itkey != myNode-&gt;descendant2.end() ) <span class="comment">// found</span>
<a name="l00346"></a>00346         <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( itkey-&gt;second, mySup1 );
<a name="l00347"></a>00347       <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>* new_node
<a name="l00348"></a>00348         = <span class="keyword">new</span> <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>( myNode-&gt;p * v + myNode-&gt;p - myNode-&gt;ascendant-&gt;p,
<a name="l00349"></a>00349                     myNode-&gt;q * v + myNode-&gt;q - myNode-&gt;ascendant-&gt;q,
<a name="l00350"></a>00350                     v, myNode-&gt;k + 2, myNode );
<a name="l00351"></a>00351       myNode-&gt;descendant2[ v ] = new_node;
<a name="l00352"></a>00352       ++( <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#aa862c6646c6a868396220da58ae5b429" title="The total number of fractions in the current tree.">nbFractions</a> );
<a name="l00353"></a>00353       <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( new_node, mySup1 );
<a name="l00354"></a>00354     }
<a name="l00355"></a>00355 }
<a name="l00356"></a>00356 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00357"></a>00357 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00358"></a>00358 <span class="keyword">inline</span>
<a name="l00359"></a>00359 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00360"></a>00360 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00361"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a98e47d868a4f282ed692734e94569c7c">00361</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">left</a>()<span class="keyword"> const</span>
<a name="l00362"></a>00362 <span class="keyword"></span>{
<a name="l00363"></a>00363   <span class="keywordflow">if</span> ( myNode-&gt;isSameDepthLeft() ) 
<a name="l00364"></a>00364     <span class="comment">// Use the fact that [...,u_n,1] = [...,u_n + 1]</span>
<a name="l00365"></a>00365     <span class="keywordflow">return</span> next( <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> );
<a name="l00366"></a>00366   <span class="keywordflow">else</span>
<a name="l00367"></a>00367     <span class="keywordflow">return</span> next1( <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> );
<a name="l00368"></a>00368 }
<a name="l00369"></a>00369 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00370"></a>00370 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00371"></a>00371 <span class="keyword">inline</span>
<a name="l00372"></a>00372 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00373"></a>00373 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00374"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#aa83d1a8ccb1ec6c2b809f3abfc7d8baf">00374</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">right</a>()<span class="keyword"> const</span>
<a name="l00375"></a>00375 <span class="keyword"></span>{
<a name="l00376"></a>00376   <span class="keywordflow">if</span> ( ! myNode-&gt;isSameDepthLeft() ) 
<a name="l00377"></a>00377     <span class="comment">// Use the fact that [...,u_n,1] = [...,u_n + 1]</span>
<a name="l00378"></a>00378     <span class="keywordflow">return</span> next( <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> );
<a name="l00379"></a>00379   <span class="keywordflow">else</span>
<a name="l00380"></a>00380     <span class="keywordflow">return</span> next1( <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> );
<a name="l00381"></a>00381 }
<a name="l00382"></a>00382 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00383"></a>00383 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00384"></a>00384 <span class="keyword">inline</span>
<a name="l00385"></a>00385 <span class="keywordtype">bool</span>
<a name="l00386"></a>00386 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00387"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#ae94982d4204954364f6014537ba36bf4">00387</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">even</a>()<span class="keyword"> const</span>
<a name="l00388"></a>00388 <span class="keyword"></span>{
<a name="l00389"></a>00389   <span class="keywordflow">return</span> <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::even</a>( k() );
<a name="l00390"></a>00390 }
<a name="l00391"></a>00391 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00392"></a>00392 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00393"></a>00393 <span class="keyword">inline</span>
<a name="l00394"></a>00394 <span class="keywordtype">bool</span>
<a name="l00395"></a>00395 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00396"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#aee53b9ab6387ec0e8ed9c2487e3b6696">00396</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">odd</a>()<span class="keyword"> const</span>
<a name="l00397"></a>00397 <span class="keyword"></span>{
<a name="l00398"></a>00398   <span class="keywordflow">return</span> <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::odd</a>( k() );
<a name="l00399"></a>00399 }
<a name="l00400"></a>00400 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00401"></a>00401 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00402"></a>00402 <span class="keyword">inline</span>
<a name="l00403"></a>00403 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00404"></a>00404 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00405"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#add20ee249fc03a14fbc55e291f245b2c">00405</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">ancestor</a>()<span class="keyword"> const</span>
<a name="l00406"></a>00406 <span class="keyword"></span>{
<a name="l00407"></a>00407   <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( myNode-&gt;ascendant, mySup1 );
<a name="l00408"></a>00408 }
<a name="l00409"></a>00409 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00410"></a>00410 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00411"></a>00411 <span class="keyword">inline</span>
<a name="l00412"></a>00412 <span class="keywordtype">bool</span> 
<a name="l00413"></a>00413 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00414"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a2486dd1992ce5343165c41b569f1465f">00414</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">isAncestorDirect</a>()<span class="keyword"> const</span>
<a name="l00415"></a>00415 <span class="keyword"></span>{
<a name="l00416"></a>00416   <span class="keywordflow">return</span> myNode-&gt;k == myNode-&gt;ascendant-&gt;k + <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a>;
<a name="l00417"></a>00417 }
<a name="l00418"></a>00418 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00419"></a>00419 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00420"></a>00420 <span class="keyword">inline</span>
<a name="l00421"></a>00421 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00422"></a>00422 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00423"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a527727561a814b2b49b8de761c21a31c">00423</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">father</a>()<span class="keyword"> const</span>
<a name="l00424"></a>00424 <span class="keyword"></span>{
<a name="l00425"></a>00425   <span class="keywordflow">if</span> ( isAncestorDirect() )
<a name="l00426"></a>00426     <span class="keywordflow">return</span> ancestor().next( u() - <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> );
<a name="l00427"></a>00427   <span class="keywordflow">else</span>
<a name="l00428"></a>00428     <span class="keywordflow">return</span> ancestor().next1( u() - <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> );
<a name="l00429"></a>00429 }
<a name="l00430"></a>00430 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00431"></a>00431 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00432"></a>00432 <span class="keyword">inline</span>
<a name="l00433"></a>00433 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00434"></a>00434 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00435"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a92d99fa4ec392eca45b1587df6e46a00">00435</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">father</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> m )<span class="keyword"> const</span>
<a name="l00436"></a>00436 <span class="keyword"></span>{
<a name="l00437"></a>00437   <span class="keywordflow">if</span> ( m &gt;= <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> ) <span class="comment">// &gt;= 1</span>
<a name="l00438"></a>00438     {
<a name="l00439"></a>00439       <span class="keywordflow">return</span> isAncestorDirect() 
<a name="l00440"></a>00440         ? ancestor().next( m )
<a name="l00441"></a>00441         : ancestor().next1( m );
<a name="l00442"></a>00442     }
<a name="l00443"></a>00443   <span class="keywordflow">else</span> <span class="comment">// == 0</span>
<a name="l00444"></a>00444     <span class="keywordflow">return</span> reduced( 2 );
<a name="l00445"></a>00445   <span class="comment">// isAncestorDirect() </span>
<a name="l00446"></a>00446   <span class="comment">//     ? ancestor().ancestor()</span>
<a name="l00447"></a>00447   <span class="comment">//     : ancestor();</span>
<a name="l00448"></a>00448 }
<a name="l00449"></a>00449 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00450"></a>00450 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00451"></a>00451 <span class="keyword">inline</span>
<a name="l00452"></a>00452 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00453"></a>00453 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00454"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a06a7ae6f7cfcce1d6449b782d5a94d91">00454</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">previousPartial</a>()<span class="keyword"> const</span>
<a name="l00455"></a>00455 <span class="keyword"></span>{
<a name="l00456"></a>00456   <span class="keywordflow">return</span> ancestor();
<a name="l00457"></a>00457 }
<a name="l00458"></a>00458 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00459"></a>00459 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00460"></a>00460 <span class="keyword">inline</span>
<a name="l00461"></a>00461 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00462"></a>00462 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00463"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#abcbbf2f07cf8ad96609625b022e4e64b">00463</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">inverse</a>()<span class="keyword"> const</span>
<a name="l00464"></a>00464 <span class="keyword"></span>{
<a name="l00465"></a>00465   <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( myNode, ! mySup1 );
<a name="l00466"></a>00466 }
<a name="l00467"></a>00467 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00468"></a>00468 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00469"></a>00469 <span class="keyword">inline</span>
<a name="l00470"></a>00470 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00471"></a>00471 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00472"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a0a5fb5f724ceb017c4cc9b016de0a3b1">00472</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">partial</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> kp )<span class="keyword"> const</span>
<a name="l00473"></a>00473 <span class="keyword"></span>{
<a name="l00474"></a>00474   ASSERT( ( ((<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a>)-2) &lt;= kp ) &amp;&amp; ( kp &lt;= myNode-&gt;k ) );
<a name="l00475"></a>00475   <span class="keywordflow">return</span> reduced( myNode-&gt;k - kp );
<a name="l00476"></a>00476 }
<a name="l00477"></a>00477 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00478"></a>00478 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00479"></a>00479 <span class="keyword">inline</span>
<a name="l00480"></a>00480 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00481"></a>00481 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00482"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5930e66c5c54149bc19fbef2760d7722">00482</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">reduced</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> i )<span class="keyword"> const</span>
<a name="l00483"></a>00483 <span class="keyword"></span>{
<a name="l00484"></a>00484   ASSERT( ( ((<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a>)0) &lt;= i ) &amp;&amp; ( i &lt;= ( myNode-&gt;k+((<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a>)2) ) ) );
<a name="l00485"></a>00485   <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> f( *<span class="keyword">this</span> );
<a name="l00486"></a>00486   <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> j = myNode-&gt;k;
<a name="l00487"></a>00487   <span class="keywordflow">for</span> ( ; i != <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a>; --i )
<a name="l00488"></a>00488     {
<a name="l00489"></a>00489       f = ( j == f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5059344d198c07ed3121c6331bfa066e">myNode</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a515a921e58759c9c9755efad83588793" title="the depth (1+number of coefficients of its continued fraction).">k</a> ) ? f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#add20ee249fc03a14fbc55e291f245b2c">ancestor</a>() : f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a527727561a814b2b49b8de761c21a31c">father</a>();
<a name="l00490"></a>00490       --j;
<a name="l00491"></a>00491     }
<a name="l00492"></a>00492   <span class="keywordflow">return</span> f;
<a name="l00493"></a>00493 }
<a name="l00494"></a>00494 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00495"></a>00495 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00496"></a>00496 <span class="keyword">inline</span>
<a name="l00497"></a>00497 <span class="keywordtype">void</span>
<a name="l00498"></a>00498 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00499"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#ab1f291941193d9ac875a8f38fc08afc3">00499</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">push_back</a>( <span class="keyword">const</span> std::pair&lt;Quotient, Quotient&gt; &amp; quotient )
<a name="l00500"></a>00500 {
<a name="l00501"></a>00501   pushBack( quotient );
<a name="l00502"></a>00502 }
<a name="l00503"></a>00503 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00504"></a>00504 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00505"></a>00505 <span class="keyword">inline</span>
<a name="l00506"></a>00506 <span class="keywordtype">void</span>
<a name="l00507"></a>00507 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00508"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#aa0a4b4c6d8289b4d86bb94149186bbaf">00508</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">pushBack</a>( <span class="keyword">const</span> std::pair&lt;Quotient, Quotient&gt; &amp; ) <span class="comment">//quotient )</span>
<a name="l00509"></a>00509 {
<a name="l00510"></a>00510   ASSERT( <span class="keyword">false</span> 
<a name="l00511"></a>00511           &amp;&amp; <span class="stringliteral">&quot;UNIMPLEMENTED. Use SternBrocot::Fraction or LighterSternBrocot::Fraction instead.&quot;</span> );
<a name="l00512"></a>00512 }
<a name="l00513"></a>00513 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00514"></a>00514 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00515"></a>00515 <span class="keyword">inline</span>
<a name="l00516"></a>00516 <span class="keywordtype">void</span>
<a name="l00517"></a>00517 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00518"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a3872d67db1bdebe5f39f85b4aad526d3">00518</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">getSplit</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> &amp; f1, <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> &amp; f2 )<span class="keyword"> const</span>
<a name="l00519"></a>00519 <span class="keyword"></span>{
<a name="l00520"></a>00520   <span class="keywordflow">if</span> ( odd() )
<a name="l00521"></a>00521     {
<a name="l00522"></a>00522       f1 = ancestor();
<a name="l00523"></a>00523       f2 = father();
<a name="l00524"></a>00524     }
<a name="l00525"></a>00525   <span class="keywordflow">else</span>
<a name="l00526"></a>00526     {
<a name="l00527"></a>00527       f1 = father();
<a name="l00528"></a>00528       f2 = ancestor();
<a name="l00529"></a>00529     }
<a name="l00530"></a>00530 }
<a name="l00531"></a>00531 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00532"></a>00532 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00533"></a>00533 <span class="keyword">inline</span>
<a name="l00534"></a>00534 <span class="keywordtype">void</span>
<a name="l00535"></a>00535 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00536"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a13c977a2e450a2e587cfb4277ed6f3c4">00536</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">getSplitBerstel</a>( <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> &amp; f1, <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> &amp; nb1, 
<a name="l00537"></a>00537                  <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> &amp; f2, <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> &amp; nb2 )<span class="keyword"> const</span>
<a name="l00538"></a>00538 <span class="keyword"></span>{
<a name="l00539"></a>00539   <span class="comment">// TODO</span>
<a name="l00540"></a>00540   <span class="keywordflow">if</span> ( odd() )
<a name="l00541"></a>00541     {
<a name="l00542"></a>00542       f1 = ancestor();
<a name="l00543"></a>00543       f2 = reduced( 2 );
<a name="l00544"></a>00544       nb1 = this-&gt;u();
<a name="l00545"></a>00545       nb2 = 1;
<a name="l00546"></a>00546     }
<a name="l00547"></a>00547   <span class="keywordflow">else</span>
<a name="l00548"></a>00548     {
<a name="l00549"></a>00549       f1 = reduced( 2 );
<a name="l00550"></a>00550       f2 = ancestor();
<a name="l00551"></a>00551       nb1 = 1;
<a name="l00552"></a>00552       nb2 = this-&gt;u();
<a name="l00553"></a>00553     }
<a name="l00554"></a>00554 }
<a name="l00555"></a>00555 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00556"></a>00556 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00557"></a>00557 <span class="keyword">inline</span>
<a name="l00558"></a>00558 <span class="keywordtype">void</span>
<a name="l00559"></a>00559 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00560"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a0f1e9730aa07f189d86c1d686eb200d3">00560</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">getCFrac</a>( std::vector&lt;Quotient&gt; &amp; quotients )<span class="keyword"> const</span>
<a name="l00561"></a>00561 <span class="keyword"></span>{
<a name="l00562"></a>00562   ASSERT( myNode-&gt;k &gt;= <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a> );
<a name="l00563"></a>00563   <a class="code" href="namespaceDGtal.html#a1c09e3f63904ff371f1b99f45069fc63" title="signed 94-bit integer.">int64_t</a> i = <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::castToInt64_t</a>( myNode-&gt;k );
<a name="l00564"></a>00564   <span class="keywordflow">if</span> ( null() ) <span class="keywordflow">return</span>;
<a name="l00565"></a>00565   <span class="keywordflow">if</span> ( mySup1 &amp;&amp; ( i &gt; 0 ) ) --i;
<a name="l00566"></a>00566   quotients.resize( i + 1 );
<a name="l00567"></a>00567   <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> f( *<span class="keyword">this</span> );
<a name="l00568"></a>00568   <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a88be05d2fd6a2581b3eb743100dd0a12">Quotient</a> j = myNode-&gt;k;
<a name="l00569"></a>00569   <span class="keywordflow">while</span> ( i &gt;= 0 &amp;&amp; ( f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5059344d198c07ed3121c6331bfa066e">myNode</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a515a921e58759c9c9755efad83588793" title="the depth (1+number of coefficients of its continued fraction).">k</a> &gt;= 0 ) )
<a name="l00570"></a>00570     {
<a name="l00571"></a>00571       quotients[ i ] = ( j == f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5059344d198c07ed3121c6331bfa066e">myNode</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a515a921e58759c9c9755efad83588793" title="the depth (1+number of coefficients of its continued fraction).">k</a> ) ? f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a0db1e991b202443a74cae1b8b8fac65a">u</a>() : <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a>;
<a name="l00572"></a>00572       f = ( j == f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a5059344d198c07ed3121c6331bfa066e">myNode</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a515a921e58759c9c9755efad83588793" title="the depth (1+number of coefficients of its continued fraction).">k</a> ) ? f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#add20ee249fc03a14fbc55e291f245b2c">ancestor</a>() : f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a527727561a814b2b49b8de761c21a31c">father</a>();
<a name="l00573"></a>00573       --i, --j;
<a name="l00574"></a>00574     }
<a name="l00575"></a>00575 }
<a name="l00576"></a>00576 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00577"></a>00577 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00578"></a>00578 <span class="keyword">inline</span>
<a name="l00579"></a>00579 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1InputIteratorWithRankOnSequence.html" title="Aim: Useful to create an iterator that returns a pair (value,rank) when visiting a sequence...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::ConstIterator</a>
<a name="l00580"></a>00580 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00581"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a18586b4f7318e8da4ee21c726283a8a6">00581</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">begin</a>()<span class="keyword"> const</span>
<a name="l00582"></a>00582 <span class="keyword"></span>{
<a name="l00583"></a>00583   <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#abc3a0d8a9a97a9fd08fcae4da111ae15">CFracSequence</a>* seq = <span class="keyword">new</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#abc3a0d8a9a97a9fd08fcae4da111ae15">CFracSequence</a>;
<a name="l00584"></a>00584   this-&gt;getCFrac( *seq );
<a name="l00585"></a>00585   <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1InputIteratorWithRankOnSequence.html" title="Aim: Useful to create an iterator that returns a pair (value,rank) when visiting a sequence...">ConstIterator</a>( seq, seq-&gt;begin() );
<a name="l00586"></a>00586 }
<a name="l00587"></a>00587 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00588"></a>00588 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00589"></a>00589 <span class="keyword">inline</span>
<a name="l00590"></a>00590 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1InputIteratorWithRankOnSequence.html" title="Aim: Useful to create an iterator that returns a pair (value,rank) when visiting a sequence...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::ConstIterator</a>
<a name="l00591"></a>00591 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00592"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#aaf1d3c92ed0112757b3bbfff2523628d">00592</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">end</a>()<span class="keyword"> const</span>
<a name="l00593"></a>00593 <span class="keyword"></span>{
<a name="l00594"></a>00594   <span class="keyword">static</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#abc3a0d8a9a97a9fd08fcae4da111ae15">CFracSequence</a> dummy;
<a name="l00595"></a>00595   <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1InputIteratorWithRankOnSequence.html" title="Aim: Useful to create an iterator that returns a pair (value,rank) when visiting a sequence...">ConstIterator</a>( 0, dummy.end() );
<a name="l00596"></a>00596 }
<a name="l00597"></a>00597 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00598"></a>00598 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00599"></a>00599 <span class="keyword">inline</span>
<a name="l00600"></a>00600 <span class="keywordtype">void</span>
<a name="l00601"></a>00601 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction::</a>
<a name="l00602"></a><a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a00178a1c6ba94acea153bc98a3f7612e">00602</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">selfDisplay</a>( std::ostream &amp; out )<span class="keyword"> const</span>
<a name="l00603"></a>00603 <span class="keyword"></span>{
<a name="l00604"></a>00604   <span class="keywordflow">if</span> ( this-&gt;null() ) out &lt;&lt; <span class="stringliteral">&quot;[Fraction null]&quot;</span>;
<a name="l00605"></a>00605   <span class="keywordflow">else</span>
<a name="l00606"></a>00606     {
<a name="l00607"></a>00607       out &lt;&lt; <span class="stringliteral">&quot;[Fraction f=&quot;</span> &lt;&lt; this-&gt;p() 
<a name="l00608"></a>00608           &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; this-&gt;q()
<a name="l00609"></a>00609           &lt;&lt; <span class="stringliteral">&quot; u=&quot;</span> &lt;&lt; this-&gt;u()
<a name="l00610"></a>00610           &lt;&lt; <span class="stringliteral">&quot; k=&quot;</span> &lt;&lt; this-&gt;k()
<a name="l00611"></a>00611           &lt;&lt; std::flush;
<a name="l00612"></a>00612       std::vector&lt;Quotient&gt; quotients;
<a name="l00613"></a>00613       <span class="keywordflow">if</span> ( this-&gt;k() &gt;= 0 )
<a name="l00614"></a>00614         {
<a name="l00615"></a>00615           this-&gt;getCFrac( quotients );
<a name="l00616"></a>00616           out &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; quotients[ 0 ];
<a name="l00617"></a>00617           <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; quotients.size(); ++i )
<a name="l00618"></a>00618             out &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; quotients[ i ];
<a name="l00619"></a>00619           out &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;
<a name="l00620"></a>00620         }
<a name="l00621"></a>00621       out &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;
<a name="l00622"></a>00622     }
<a name="l00623"></a>00623 }
<a name="l00624"></a>00624 
<a name="l00626"></a>00626 <span class="comment">// DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;</span>
<a name="l00627"></a>00627 
<a name="l00628"></a>00628 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00629"></a>00629 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00630"></a>00630 <span class="keyword">inline</span>
<a name="l00631"></a><a class="code" href="classDGtal_1_1LightSternBrocot.html#a1aa49f6d50f69bab8596789cad743204">00631</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html#a1aa49f6d50f69bab8596789cad743204">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::~LightSternBrocot</a>()
<a name="l00632"></a>00632 {
<a name="l00633"></a>00633   <span class="keywordflow">if</span> ( <a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a> != 0 ) <span class="keyword">delete</span> <a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a>;
<a name="l00634"></a>00634   <span class="keywordflow">if</span> ( <a class="code" href="classDGtal_1_1LightSternBrocot.html#a6cc228fbe1507c9bd8c4fb7e466e7b9c">myOneOverZero</a> != 0 ) <span class="keyword">delete</span> <a class="code" href="classDGtal_1_1LightSternBrocot.html#a6cc228fbe1507c9bd8c4fb7e466e7b9c">myOneOverZero</a>;
<a name="l00635"></a>00635   <span class="keywordflow">if</span> ( <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab398283298fa763efc2c0587bfe4f22b">myOneOverOne</a> != 0 ) <span class="keyword">delete</span> <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab398283298fa763efc2c0587bfe4f22b">myOneOverOne</a>;
<a name="l00636"></a>00636 }
<a name="l00637"></a>00637 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00638"></a>00638 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00639"></a>00639 <span class="keyword">inline</span>
<a name="l00640"></a><a class="code" href="classDGtal_1_1LightSternBrocot.html#a884d854f8078ab8282290d1c47332ced">00640</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html#a884d854f8078ab8282290d1c47332ced">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::LightSternBrocot</a>()
<a name="l00641"></a>00641 {
<a name="l00642"></a>00642   <span class="comment">// // Version 1/1 has depth 0.</span>
<a name="l00643"></a>00643   <span class="comment">// myOneOverZero = new Node( NumberTraits&lt;Integer&gt;::ONE,</span>
<a name="l00644"></a>00644   <span class="comment">//                           NumberTraits&lt;Integer&gt;::ZERO,</span>
<a name="l00645"></a>00645   <span class="comment">//                           NumberTraits&lt;Quotient&gt;::ZERO,</span>
<a name="l00646"></a>00646   <span class="comment">//                           -NumberTraits&lt;Quotient&gt;::ONE,</span>
<a name="l00647"></a>00647   <span class="comment">//                           0 );</span>
<a name="l00648"></a>00648   <span class="comment">// myZeroOverOne = new Node( NumberTraits&lt;Integer&gt;::ZERO,</span>
<a name="l00649"></a>00649   <span class="comment">//                           NumberTraits&lt;Integer&gt;::ONE,</span>
<a name="l00650"></a>00650   <span class="comment">//                           NumberTraits&lt;Quotient&gt;::ZERO,</span>
<a name="l00651"></a>00651   <span class="comment">//                           NumberTraits&lt;Quotient&gt;::ZERO,</span>
<a name="l00652"></a>00652   <span class="comment">//                           myOneOverZero );</span>
<a name="l00653"></a>00653   <span class="comment">// myOneOverZero-&gt;ascendant = 0; //myZeroOverOne;</span>
<a name="l00654"></a>00654   <span class="comment">// myOneOverOne = new Node( NumberTraits&lt;Integer&gt;::ONE,</span>
<a name="l00655"></a>00655   <span class="comment">//                          NumberTraits&lt;Integer&gt;::ONE,</span>
<a name="l00656"></a>00656   <span class="comment">//                          NumberTraits&lt;Quotient&gt;::ONE,</span>
<a name="l00657"></a>00657   <span class="comment">//                          NumberTraits&lt;Quotient&gt;::ZERO,</span>
<a name="l00658"></a>00658   <span class="comment">//                          myOneOverZero );</span>
<a name="l00659"></a>00659   <span class="comment">// myOneOverZero-&gt;descendant[ NumberTraits&lt;Quotient&gt;::ZERO ] = myZeroOverOne;</span>
<a name="l00660"></a>00660   <span class="comment">// myOneOverZero-&gt;descendant[ NumberTraits&lt;Quotient&gt;::ONE ] = myOneOverOne;</span>
<a name="l00661"></a>00661   <span class="comment">// nbFractions = 3;</span>
<a name="l00662"></a>00662 
<a name="l00663"></a>00663   <span class="comment">// Version 1/1 has depth 1.</span>
<a name="l00664"></a>00664   <a class="code" href="classDGtal_1_1LightSternBrocot.html#a6cc228fbe1507c9bd8c4fb7e466e7b9c">myOneOverZero</a> = <span class="keyword">new</span> <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>( <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ONE</a>,
<a name="l00665"></a>00665                             <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ZERO</a>,
<a name="l00666"></a>00666                             <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a>,
<a name="l00667"></a>00667                             -<a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a>,
<a name="l00668"></a>00668                             0 );
<a name="l00669"></a>00669   <a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a> = <span class="keyword">new</span> <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>( <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ZERO</a>,
<a name="l00670"></a>00670                             <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ONE</a>,
<a name="l00671"></a>00671                             <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a>,
<a name="l00672"></a>00672                             <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a>,
<a name="l00673"></a>00673                             <a class="code" href="classDGtal_1_1LightSternBrocot.html#a6cc228fbe1507c9bd8c4fb7e466e7b9c">myOneOverZero</a> );
<a name="l00674"></a>00674   <a class="code" href="classDGtal_1_1LightSternBrocot.html#a6cc228fbe1507c9bd8c4fb7e466e7b9c">myOneOverZero</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a6770d9cd94619c73f06d122e40fbd25b" title="A pointer to the node that is the preceding principal convergent.">ascendant</a> = 0;
<a name="l00675"></a>00675   <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab398283298fa763efc2c0587bfe4f22b">myOneOverOne</a> = <span class="keyword">new</span> <a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html">Node</a>( <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ONE</a>,
<a name="l00676"></a>00676                            <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Integer&gt;::ONE</a>,
<a name="l00677"></a>00677                            <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a>,
<a name="l00678"></a>00678                            <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a>,
<a name="l00679"></a>00679                            <a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a> );
<a name="l00680"></a>00680   <a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a55e0e1035e4a8a0017cbcbfd0f65e49e">descendant</a>[ <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> ] = <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab398283298fa763efc2c0587bfe4f22b">myOneOverOne</a>;
<a name="l00681"></a>00681   <a class="code" href="classDGtal_1_1LightSternBrocot.html#a6cc228fbe1507c9bd8c4fb7e466e7b9c">myOneOverZero</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a55e0e1035e4a8a0017cbcbfd0f65e49e">descendant</a>[ <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ZERO</a> ] = <a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a>;
<a name="l00682"></a>00682   <a class="code" href="classDGtal_1_1LightSternBrocot.html#a6cc228fbe1507c9bd8c4fb7e466e7b9c">myOneOverZero</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#a55e0e1035e4a8a0017cbcbfd0f65e49e">descendant</a>[ <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> ] = <a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a>;
<a name="l00683"></a>00683   <a class="code" href="classDGtal_1_1LightSternBrocot.html#a6cc228fbe1507c9bd8c4fb7e466e7b9c">myOneOverZero</a>-&gt;<a class="code" href="structDGtal_1_1LightSternBrocot_1_1Node.html#ab82ea67a34c160b35ee747bb35077867">descendant2</a>[ <a class="code" href="structDGtal_1_1NumberTraits.html" title="Aim: The traits class for all models of Cinteger.">NumberTraits&lt;Quotient&gt;::ONE</a> ] = <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab398283298fa763efc2c0587bfe4f22b">myOneOverOne</a>;
<a name="l00684"></a>00684   <a class="code" href="classDGtal_1_1LightSternBrocot.html#aa862c6646c6a868396220da58ae5b429" title="The total number of fractions in the current tree.">nbFractions</a> = 3;
<a name="l00685"></a>00685 }
<a name="l00686"></a>00686 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00687"></a>00687 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00688"></a>00688 <span class="keyword">inline</span>
<a name="l00689"></a>00689 <a class="code" href="classDGtal_1_1LightSternBrocot.html" title="Aim: The Stern-Brocot tree is the tree of irreducible fractions. This class allows to construct it pr...">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;</a> &amp;
<a name="l00690"></a><a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">00690</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::instance</a>()
<a name="l00691"></a>00691 {
<a name="l00692"></a>00692   <span class="keywordflow">if</span> ( <a class="code" href="classDGtal_1_1LightSternBrocot.html#aadc16d9b6f0ad3574542afd3552d0bef">singleton</a> == 0 )
<a name="l00693"></a>00693     <a class="code" href="classDGtal_1_1LightSternBrocot.html#aadc16d9b6f0ad3574542afd3552d0bef">singleton</a> = <span class="keyword">new</span> <a class="code" href="classDGtal_1_1LightSternBrocot.html#a884d854f8078ab8282290d1c47332ced">LightSternBrocot</a>;
<a name="l00694"></a>00694   <span class="keywordflow">return</span> *<a class="code" href="classDGtal_1_1LightSternBrocot.html#aadc16d9b6f0ad3574542afd3552d0bef">singleton</a>;
<a name="l00695"></a>00695 }
<a name="l00696"></a>00696 
<a name="l00697"></a>00697 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00698"></a>00698 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00699"></a>00699 <span class="keyword">inline</span>
<a name="l00700"></a>00700 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00701"></a><a class="code" href="classDGtal_1_1LightSternBrocot.html#aba052e91ec5c9ce52c963c1e6bd10f26">00701</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html#aba052e91ec5c9ce52c963c1e6bd10f26">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::zeroOverOne</a>()
<a name="l00702"></a>00702 {
<a name="l00703"></a>00703   <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a>, <span class="keyword">false</span> );
<a name="l00704"></a>00704 }
<a name="l00705"></a>00705 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00706"></a>00706 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00707"></a>00707 <span class="keyword">inline</span>
<a name="l00708"></a>00708 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00709"></a><a class="code" href="classDGtal_1_1LightSternBrocot.html#afc8b19bb8d58d5015cf339e98ecf8240">00709</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html#afc8b19bb8d58d5015cf339e98ecf8240">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::oneOverZero</a>()
<a name="l00710"></a>00710 {
<a name="l00711"></a>00711   <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( <a class="code" href="classDGtal_1_1LightSternBrocot.html#ab58202cc54060160df9d61c6b7883ae9">instance</a>().<a class="code" href="classDGtal_1_1LightSternBrocot.html#a157ca9142e232dcbffcdc3f6214f0250">myZeroOverOne</a>, <span class="keyword">true</span> );
<a name="l00712"></a>00712 }
<a name="l00713"></a>00713 
<a name="l00715"></a>00715 <span class="comment">// Interface - public :</span>
<a name="l00716"></a>00716 
<a name="l00721"></a>00721 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00722"></a>00722 <span class="keyword">inline</span>
<a name="l00723"></a>00723 <span class="keywordtype">void</span>
<a name="l00724"></a><a class="code" href="classDGtal_1_1LightSternBrocot.html#ae6d46b443fc857ca42dc41a821320f19">00724</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html#ae6d46b443fc857ca42dc41a821320f19">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::display</a>( std::ostream &amp; out, 
<a name="l00725"></a>00725                                               <span class="keyword">const</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> &amp; f )
<a name="l00726"></a>00726 {
<a name="l00727"></a>00727   <span class="keywordflow">if</span> ( f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a92bc004740c719bb5719f02305db8d61">null</a>() ) out &lt;&lt; <span class="stringliteral">&quot;[Fraction null]&quot;</span>;
<a name="l00728"></a>00728   <span class="keywordflow">else</span>
<a name="l00729"></a>00729     {
<a name="l00730"></a>00730       out &lt;&lt; <span class="stringliteral">&quot;[Fraction f=&quot;</span> &lt;&lt; f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a388e37451d0eab4f910624bb90c346c8">p</a>() 
<a name="l00731"></a>00731           &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a6acaccfa8fe1548f7fb05dd2c7f7426c">q</a>()
<a name="l00732"></a>00732           &lt;&lt; <span class="stringliteral">&quot; u=&quot;</span> &lt;&lt; f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a0db1e991b202443a74cae1b8b8fac65a">u</a>()
<a name="l00733"></a>00733           &lt;&lt; <span class="stringliteral">&quot; k=&quot;</span> &lt;&lt; f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#afb3571774fc1a45add922bbee787db91">k</a>()
<a name="l00734"></a>00734         <span class="comment">// &lt;&lt; &quot; s1=&quot; &lt;&lt; f.isSup1() </span>
<a name="l00735"></a>00735           &lt;&lt; std::flush;
<a name="l00736"></a>00736       std::vector&lt;Quotient&gt; quotients;
<a name="l00737"></a>00737       <span class="keywordflow">if</span> ( f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#afb3571774fc1a45add922bbee787db91">k</a>() &gt;= 0 )
<a name="l00738"></a>00738         {
<a name="l00739"></a>00739           f.<a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html#a0f1e9730aa07f189d86c1d686eb200d3">getCFrac</a>( quotients );
<a name="l00740"></a>00740           out &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; quotients[ 0 ];
<a name="l00741"></a>00741           <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; quotients.size(); ++i )
<a name="l00742"></a>00742             out &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; quotients[ i ];
<a name="l00743"></a>00743           out &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;
<a name="l00744"></a>00744         }
<a name="l00745"></a>00745       out &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;
<a name="l00746"></a>00746     }
<a name="l00747"></a>00747 }
<a name="l00748"></a>00748 
<a name="l00753"></a>00753 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00754"></a>00754 <span class="keyword">inline</span>
<a name="l00755"></a>00755 <span class="keywordtype">bool</span>
<a name="l00756"></a><a class="code" href="classDGtal_1_1LightSternBrocot.html#aa996715b04485afe15d670803b9b2e5a">00756</a> <a class="code" href="classDGtal_1_1LightSternBrocot.html#aa996715b04485afe15d670803b9b2e5a">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::isValid</a>()<span class="keyword"> const</span>
<a name="l00757"></a>00757 <span class="keyword"></span>{
<a name="l00758"></a>00758     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00759"></a>00759 }
<a name="l00760"></a>00760 
<a name="l00762"></a>00762 <span class="comment">// class LightSternBrocot</span>
<a name="l00764"></a>00764 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> TInteger, <span class="keyword">typename</span> TQuotient, <span class="keyword">typename</span> TMap&gt;
<a name="l00765"></a>00765 <span class="keyword">inline</span>
<a name="l00766"></a>00766 <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction</a>
<a name="l00767"></a>00767 <a class="code" href="classDGtal_1_1LightSternBrocot.html#a314697697112af96ecc3631690465316">DGtal::LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::fraction</a>
<a name="l00768"></a><a class="code" href="classDGtal_1_1LightSternBrocot.html#a314697697112af96ecc3631690465316">00768</a> ( <a class="code" href="classDGtal_1_1LightSternBrocot.html#a442af560dbbdd21900debdc05907b947">Integer</a> p, <a class="code" href="classDGtal_1_1LightSternBrocot.html#a442af560dbbdd21900debdc05907b947">Integer</a> q,
<a name="l00769"></a>00769   <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a> <span class="comment">// ancestor</span>
<a name="l00770"></a>00770   )
<a name="l00771"></a>00771 {
<a name="l00772"></a>00772   <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1LightSternBrocot_1_1Fraction.html" title="This fraction is a model of CPositiveIrreducibleFraction.">Fraction</a>( p, q );
<a name="l00773"></a>00773   <span class="comment">// // special case 1/0</span>
<a name="l00774"></a>00774   <span class="comment">// if ( ( p == NumberTraits&lt;Integer&gt;::ONE ) </span>
<a name="l00775"></a>00775   <span class="comment">//      &amp;&amp; ( q == NumberTraits&lt;Integer&gt;::ZERO ) ) </span>
<a name="l00776"></a>00776   <span class="comment">//   return oneOverZero();</span>
<a name="l00777"></a>00777   <span class="comment">// Fraction f = zeroOverOne();</span>
<a name="l00778"></a>00778   <span class="comment">// bool sup1 = p &gt; q;</span>
<a name="l00779"></a>00779   <span class="comment">// if ( sup1 ) std::swap( p, q );</span>
<a name="l00780"></a>00780   <span class="comment">// Integer _quot, _rem;</span>
<a name="l00781"></a>00781   <span class="comment">// IntegerComputer&lt;Integer&gt; ic;</span>
<a name="l00782"></a>00782   <span class="comment">// Quotient v;</span>
<a name="l00783"></a>00783   <span class="comment">// bool prec_was_one = false;</span>
<a name="l00784"></a>00784   <span class="comment">// Quotient j = NumberTraits&lt;Quotient&gt;::ZERO;</span>
<a name="l00785"></a>00785   <span class="comment">// while ( q != NumberTraits&lt;Integer&gt;::ZERO )</span>
<a name="l00786"></a>00786   <span class="comment">//   {</span>
<a name="l00787"></a>00787   <span class="comment">//     ic.getEuclideanDiv( _quot, _rem, p, q );</span>
<a name="l00788"></a>00788   <span class="comment">//     v = NumberTraits&lt;Integer&gt;::castToInt64_t( _quot );</span>
<a name="l00789"></a>00789   <span class="comment">//     if ( f.k() == j ) </span>
<a name="l00790"></a>00790   <span class="comment">//       f = f.next( v );</span>
<a name="l00791"></a>00791   <span class="comment">//     else </span>
<a name="l00792"></a>00792   <span class="comment">//       f = f.next1( v );</span>
<a name="l00793"></a>00793   <span class="comment">//     if ( v != 0 ) ++j;</span>
<a name="l00794"></a>00794   <span class="comment">//     p = q;</span>
<a name="l00795"></a>00795   <span class="comment">//     q = _rem;</span>
<a name="l00796"></a>00796   <span class="comment">//   }</span>
<a name="l00797"></a>00797   <span class="comment">// if ( prec_was_one ) f = f.next( NumberTraits&lt;Quotient&gt;::ONE );</span>
<a name="l00798"></a>00798   <span class="comment">// return sup1 ? f.inverse() : f;</span>
<a name="l00799"></a>00799 }
<a name="l00800"></a>00800 
<a name="l00801"></a>00801 
<a name="l00803"></a>00803 <span class="comment">// Implementation of inline functions                                        //</span>
<a name="l00804"></a>00804 
<a name="l00805"></a>00805 <span class="comment">// JOL: invalid overloading</span>
<a name="l00806"></a>00806 <span class="comment">// template &lt;typename TInteger, typename TQuotient, typename TMap&gt;</span>
<a name="l00807"></a>00807 <span class="comment">// inline</span>
<a name="l00808"></a>00808 <span class="comment">// std::ostream&amp;</span>
<a name="l00809"></a>00809 <span class="comment">// DGtal::operator&lt;&lt; ( std::ostream &amp; out, </span>
<a name="l00810"></a>00810 <span class="comment">//                     const typename LightSternBrocot&lt;TInteger, TQuotient, TMap&gt;::Fraction &amp; object )</span>
<a name="l00811"></a>00811 <span class="comment">// {</span>
<a name="l00812"></a>00812 <span class="comment">//   typedef LightSternBrocot&lt;TInteger, TQuotient, TMap&gt; SB;</span>
<a name="l00813"></a>00813 <span class="comment">//   SB::display( out, object );</span>
<a name="l00814"></a>00814 <span class="comment">//   return out;</span>
<a name="l00815"></a>00815 <span class="comment">// }</span>
<a name="l00816"></a>00816 
<a name="l00817"></a>00817 <span class="comment">//                                                                           //</span>
<a name="l00819"></a>00819 <span class="comment"></span>
<a name="l00820"></a>00820 
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 10 2012 16:09:12 for DGtal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
