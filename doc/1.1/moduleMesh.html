<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DGtal: Manipulating Simple Mesh</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="modern-doxygen-blue.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DGtal
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Manipulating Simple <a class="el" href="classDGtal_1_1Mesh.html" title="Aim: This class is defined to represent a surface mesh through a set of vertices and faces....">Mesh</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#sectmoduleMesh1">Simple Mesh Class</a><ul><li class="level2"><a href="#subsect2moduleMesh">Mesh Construction</a></li>
<li class="level2"><a href="#subsect2moduleMeshIO">Mesh IO</a></li>
</ul>
</li>
<li class="level1"><a href="#sectmoduleMesh2">Generating Basic Mesh</a></li>
<li class="level1"><a href="#sectmoduleMesh3">Converting to/from TriangulatedSurface and PolygonalSurface</a></li>
</ul>
</div>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Bertrand Kerautret</dd></dl>
<h1><a class="anchor" id="sectmoduleMesh1"></a>
Simple Mesh Class</h1>
<p>The aim of this class is to handle basic simple mesh mainly for basic tasks such as to import/export/display of digital surface. This class is able to deal with triangulated, quad or polygonal faces and can include specific colors to display faces. It also provides several static tools to generate simple shapes like tubular objects or the 3d surface from height map.</p>
<p>The mesh object stores explicitly the vertices and each face is represented as a list of vertex indices. <br  />
</p>
<h2><a class="anchor" id="subsect2moduleMesh"></a>
Mesh Construction</h2>
<p>To construct a <a class="el" href="classDGtal_1_1Mesh.html" title="Aim: This class is defined to represent a surface mesh through a set of vertices and faces....">Mesh</a> object you need first to include the associated header file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/shapes/Mesh.h&quot;</span></div>
</div><!-- fragment --><p>Then the mesh construction is very simple, for instance you start constructing an empty mesh input and specify if you want to store or not the vertex colors in the mesh:</p>
<div class="fragment"><div class="line">  Mesh&lt;Point&gt; aMesh(<span class="keyword">true</span>);</div>
</div><!-- fragment --><p> Then you can add some vertices mesh:</p>
<div class="fragment"><div class="line">  aMesh.addVertex(<a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(0,0,0));</div>
<div class="line">  aMesh.addVertex(<a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(1,0,0));</div>
<div class="line">  aMesh.addVertex(<a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(1,1,0));</div>
</div><!-- fragment --><p>and add some triangular/quad faces from the vertex indices:</p>
<div class="fragment"><div class="line">  aMesh.addTriangularFace(0, 1, 2, Color(150,0,150,104));</div>
<div class="line">  aMesh.addQuadFace(6,5,4,3, <a class="code" href="classDGtal_1_1Color.html#abf76f3f60747766c469ceb8e9bbfe68b">Color::Blue</a>);</div>
</div><!-- fragment --><p>You can also insert some polygonal faces by defining a vector containing the vertices of the face:</p>
<div class="fragment"><div class="line">  vector&lt;unsigned int&gt; listIndex;</div>
<div class="line">  listIndex.push_back(7);</div>
<div class="line">  listIndex.push_back(8);</div>
<div class="line">  listIndex.push_back(9);</div>
<div class="line">  listIndex.push_back(10);</div>
<div class="line">  listIndex.push_back(11);</div>
<div class="line">  listIndex.push_back(12);</div>
<div class="line">  aMesh.addFace(listIndex, Color(150,150,0,54));</div>
</div><!-- fragment --><p> An example of mesh construction is given here: <a class="el" href="mesh3DConstructionAndVisualisation_8cpp.html">mesh3DConstructionAndVisualisation.cpp</a> and will produce the following faces:</p>
<div class="image">
<img src="example3dMeshConstruction.png" alt=""/>
<div class="caption">
Simple example of 3D mesh construction.</div></div>
<h2><a class="anchor" id="subsect2moduleMeshIO"></a>
Mesh IO</h2>
<p>The <a class="el" href="classDGtal_1_1Mesh.html" title="Aim: This class is defined to represent a surface mesh through a set of vertices and faces....">Mesh</a> object is integrated in the main IO framework of <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a>. You can for instance display a <a class="el" href="classDGtal_1_1Mesh.html" title="Aim: This class is defined to represent a surface mesh through a set of vertices and faces....">Mesh</a> object directly through a Viewer3d object:</p>
<div class="fragment"><div class="line">  viewer.setLineColor(Color(150,0,0,254));</div>
<div class="line">  viewer &lt;&lt; aMesh;</div>
<div class="line">  viewer &lt;&lt; Viewer3D&lt;&gt;::updateDisplay;</div>
</div><!-- fragment --><p> (See complete example in <a class="el" href="mesh3DConstructionAndVisualisation_8cpp.html">mesh3DConstructionAndVisualisation.cpp</a>)</p>
<p>You can also export a mesh by using the <a class="el" href="structDGtal_1_1MeshWriter.html" title="Aim: Export a Mesh (Mesh object) in different format as OFF and OBJ).">MeshWriter</a> class given in the header file: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/shapes/Mesh.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;DGtal/io/writers/MeshWriter.h&quot;</span></div>
</div><!-- fragment --><p>and export it: </p><div class="fragment"><div class="line">  <span class="keywordtype">bool</span> isOK = aMesh &gt;&gt; <span class="stringliteral">&quot;test.off&quot;</span>;</div>
</div><!-- fragment --><p>The mesh import is also simple:</p>
<ul>
<li>First add the <a class="el" href="structDGtal_1_1MeshReader.html" title="Aim: Defined to import OFF and OFS surface mesh. It allows to import a Mesh object and takes into acc...">MeshReader</a> file: <div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/io/readers/MeshReader.h&quot;</span></div>
</div><!-- fragment --></li>
<li>import the mesh: <div class="fragment"><div class="line">  std::string inputFilename = examplesPath + <span class="stringliteral">&quot;samples/tref.off&quot;</span>;</div>
<div class="line">  <span class="comment">// Since the input points are not necessary integers we use the PointD3D from Display3D.</span></div>
<div class="line">  <a class="code" href="classDGtal_1_1Mesh.html#a04747dc4c48aed185f3c387a19c4c43e">Mesh&lt;Viewer3D&lt;&gt;::RealPoint</a>&gt; anImportedMesh;</div>
<div class="line">  anImportedMesh &lt;&lt; inputFilename;</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="sectmoduleMesh2"></a>
Generating Basic Mesh</h1>
<p>The <a class="el" href="classDGtal_1_1Mesh.html" title="Aim: This class is defined to represent a surface mesh through a set of vertices and faces....">Mesh</a> class also provides some methods to generate shape mesh associated to tubular object or 3d surface from height map.</p>
<p>For instance you can first define the vector of the 3D skeleton points: </p><div class="fragment"><div class="line">  std::vector&lt;Z3i::RealPoint&gt; aSkeleton;</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(0.0, 0.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(10.0, 0.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(20.0, 0.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(30.0, 0.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(35.0, 5.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 10.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 20.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 30.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 35.0, 5.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 40.0, 10.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 40.0, 20.0));</div>
</div><!-- fragment --><p> Then you can reconstruct a tubular mesh with a given radius: </p><div class="fragment"><div class="line">  Mesh&lt;Z3i::RealPoint&gt; aMesh(<span class="keyword">true</span>);</div>
<div class="line">  <a class="code" href="classDGtal_1_1Mesh.html#afbcedad499d5dd249be7ffc715c610c1">Mesh&lt;Z3i::RealPoint&gt;::createTubularMesh</a>(aMesh, aSkeleton, 0.5, 0.2, <a class="code" href="classDGtal_1_1Color.html#abf76f3f60747766c469ceb8e9bbfe68b">DGtal::Color::Blue</a>);</div>
</div><!-- fragment --><p> You will obtain such a tube display: </p><div class="image">
<img src="testMeshVisu3d.png" alt=""/>
<div class="caption">
Resulting mesh of tubular object.</div></div>
 <p>Another example is given in <a class="el" href="testMesh_8cpp.html">testMesh.cpp</a> which generates an height field from a sequence of height values. In the same way than the previous example, you can construct your input height vector:</p>
<div class="fragment"><div class="line">  std::vector&lt;double&gt; heightSequence;</div>
<div class="line">  heightSequence.push_back(0.1);</div>
<div class="line">  heightSequence.push_back(0.2);</div>
<div class="line">  heightSequence.push_back(0.15);</div>
<div class="line"> </div>
<div class="line">  heightSequence.push_back(1.1);</div>
<div class="line">  heightSequence.push_back(2.2);</div>
<div class="line">  heightSequence.push_back(1.15);</div>
<div class="line"> </div>
<div class="line">  heightSequence.push_back(0.1);</div>
<div class="line">  heightSequence.push_back(0.2);</div>
<div class="line">  heightSequence.push_back(0.15);</div>
</div><!-- fragment --><p> and then construct the height field mesh:</p>
<div class="fragment"><div class="line">  <a class="code" href="classDGtal_1_1Mesh.html#a98872e945ebabfd84d5e68f9ddcf7f26">Mesh&lt;Z3i::RealPoint&gt;::createMeshFromHeightSequence</a>(aMesh, heightSequence, 3, 10, 10, 3, <a class="code" href="classDGtal_1_1Color.html#a35033e3e774db6782e0f030179a9f7cf">DGtal::Color::Yellow</a>);</div>
</div><!-- fragment --><p>You will obtain such a small height field display (with previous tube mesh):</p>
<div class="image">
<img src="testMeshVisu3dBis.png" alt=""/>
<div class="caption">
Resulting mesh of tubular object and height field.</div></div>
 <dl class="section see"><dt>See also</dt><dd><a class="el" href="testMesh_8cpp.html">tests/shapes/testMesh.cpp</a></dd></dl>
<h1><a class="anchor" id="sectmoduleMesh3"></a>
Converting to/from TriangulatedSurface and PolygonalSurface</h1>
<p>Class <a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> does not provide a topology between the face elements. If you wish to do so, you should consider using classes <a class="el" href="classDGtal_1_1TriangulatedSurface.html">TriangulatedSurface</a> and <a class="el" href="classDGtal_1_1PolygonalSurface.html">PolygonalSurface</a>. You can also use conversions:</p><ul>
<li><a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> toward <a class="el" href="classDGtal_1_1TriangulatedSurface.html">TriangulatedSurface</a> with <a class="el" href="classDGtal_1_1MeshHelpers.html#a134812dbf9957a26ad4021da2511f2b3">MeshHelpers::mesh2TriangulatedSurface</a></li>
<li><a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> toward <a class="el" href="classDGtal_1_1PolygonalSurface.html">PolygonalSurface</a> with <a class="el" href="classDGtal_1_1MeshHelpers.html#ae75be28e0deaa72b405cc7ccbb6618a7">MeshHelpers::mesh2PolygonalSurface</a></li>
<li><a class="el" href="classDGtal_1_1TriangulatedSurface.html">TriangulatedSurface</a> toward <a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> with <a class="el" href="classDGtal_1_1MeshHelpers.html#addda5f3d0d685e76d545eb7fa42cc487">MeshHelpers::triangulatedSurface2Mesh</a></li>
<li><a class="el" href="classDGtal_1_1PolygonalSurface.html">PolygonalSurface</a> toward <a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> with <a class="el" href="classDGtal_1_1MeshHelpers.html#a4f6a5df120fabbbb1302b35feb820492">MeshHelpers::polygonalSurface2Mesh</a></li>
</ul>
<p>See also <a class="el" href="moduleShortcuts.html">Shortcuts (for the impatient developper)</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Classes <a class="el" href="classDGtal_1_1TriangulatedSurface.html">TriangulatedSurface</a> and <a class="el" href="classDGtal_1_1PolygonalSurface.html">PolygonalSurface</a> have also specialized methods to export them as OBJ files,. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="aclassDGtal_1_1Color_html_a35033e3e774db6782e0f030179a9f7cf"><div class="ttname"><a href="classDGtal_1_1Color.html#a35033e3e774db6782e0f030179a9f7cf">DGtal::Color::Yellow</a></div><div class="ttdeci">static const Color Yellow</div><div class="ttdef"><b>Definition:</b> <a href="Color_8h_source.html#l00406">Color.h:406</a></div></div>
<div class="ttc" id="aclassDGtal_1_1Mesh_html_afbcedad499d5dd249be7ffc715c610c1"><div class="ttname"><a href="classDGtal_1_1Mesh.html#afbcedad499d5dd249be7ffc715c610c1">DGtal::Mesh::createTubularMesh</a></div><div class="ttdeci">static void createTubularMesh(Mesh&lt; TPoint &gt; &amp;aMesh, const std::vector&lt; TPoint &gt; &amp;aSkeleton, const double aRadius, const double angleStep=0.2, const DGtal::Color &amp;aMeshColor=DGtal::Color::White)</div></div>
<div class="ttc" id="aclassDGtal_1_1Color_html_abf76f3f60747766c469ceb8e9bbfe68b"><div class="ttname"><a href="classDGtal_1_1Color.html#abf76f3f60747766c469ceb8e9bbfe68b">DGtal::Color::Blue</a></div><div class="ttdeci">static const Color Blue</div><div class="ttdef"><b>Definition:</b> <a href="Color_8h_source.html#l00403">Color.h:403</a></div></div>
<div class="ttc" id="aclassDGtal_1_1Mesh_html_a04747dc4c48aed185f3c387a19c4c43e"><div class="ttname"><a href="classDGtal_1_1Mesh.html#a04747dc4c48aed185f3c387a19c4c43e">DGtal::Mesh::RealPoint</a></div><div class="ttdeci">DGtal::PointVector&lt; TPoint::dimension, double &gt; RealPoint</div><div class="ttdef"><b>Definition:</b> <a href="Mesh_8h_source.html#l00109">Mesh.h:109</a></div></div>
<div class="ttc" id="anamespaceDGtal_1_1Z3i_html_a5f087066515ecd33cefd7bd080ef8114"><div class="ttname"><a href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">DGtal::Z3i::RealPoint</a></div><div class="ttdeci">Space::RealPoint RealPoint</div><div class="ttdef"><b>Definition:</b> <a href="StdDefs_8h_source.html#l00170">StdDefs.h:170</a></div></div>
<div class="ttc" id="aclassDGtal_1_1Mesh_html_a98872e945ebabfd84d5e68f9ddcf7f26"><div class="ttname"><a href="classDGtal_1_1Mesh.html#a98872e945ebabfd84d5e68f9ddcf7f26">DGtal::Mesh::createMeshFromHeightSequence</a></div><div class="ttdeci">static void createMeshFromHeightSequence(Mesh&lt; TPoint &gt; &amp;aMesh, const std::vector&lt; TValue &gt; &amp;anValueSequence, const unsigned int lengthSequence, double stepX, double stepY, double stepZ, const DGtal::Color &amp;aMeshColor=DGtal::Color::White)</div></div>
<div class="ttc" id="atestClone2_8cpp_html_a15e9592ccc512dc691b46185e6814758"><div class="ttname"><a href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a></div><div class="ttdeci">MyPointD Point</div><div class="ttdef"><b>Definition:</b> <a href="testClone2_8cpp_source.html#l00383">testClone2.cpp:383</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 6 2020 14:17:09 for DGtal by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
