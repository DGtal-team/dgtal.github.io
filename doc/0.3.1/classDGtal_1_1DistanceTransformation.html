<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DGtal: DGtal::DistanceTransformation&lt; Image, p, IntegerLong &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DGtal&#160;<span id="projectnumber">0.4.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceDGtal.html">DGtal</a>      </li>
      <li class="navelem"><a class="el" href="classDGtal_1_1DistanceTransformation.html">DistanceTransformation</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>DGtal::DistanceTransformation&lt; Image, p, IntegerLong &gt; Class Template Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="DGtal::DistanceTransformation" -->
<p>Aim: Implementation of the linear in time distance transformation.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Collaboration diagram for DGtal::DistanceTransformation&lt; Image, p, IntegerLong &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDGtal_1_1DistanceTransformation__coll__graph.png" border="0" usemap="#DGtal_1_1DistanceTransformation_3_01Image_00_01p_00_01IntegerLong_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="DGtal_1_1DistanceTransformation_3_01Image_00_01p_00_01IntegerLong_01_4_coll__map" id="DGtal_1_1DistanceTransformation_3_01Image_00_01p_00_01IntegerLong_01_4_coll__map">
<area shape="rect" id="node2" href="structDGtal_1_1SeparableMetricTraits.html" title="DGtal::SeparableMetricTraits\&lt; Abscissa, IntegerLong, p \&gt;" alt="" coords="19,105,376,135"/><area shape="rect" id="node4" href="structDGtal_1_1SeparableMetricTraits.html" title="Aim: Implements basic functions associated to metrics used by separable volumetric algorithms..." alt="" coords="5,6,389,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDGtal_1_1DistanceTransformation_1_1DefaultForegroundPredicate.html">DefaultForegroundPredicate</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak"/>
<a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">ImageContainerBySTLVector</a><br class="typebreak"/>
&lt; <a class="el" href="classDGtal_1_1HyperRectDomain.html">HyperRectDomain</a>&lt; typename <br class="typebreak"/>
Image::Domain::Space &gt;<br class="typebreak"/>
, IntegerLong &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a01875821fcfd395cee6b2282275d84af">OutputImage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Image::Value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a587e3b9a1bf85c638bbc958e514c50b1">Value</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Image::Vector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a2633dfb4db02a481db836d90e9be84ed">Vector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Image::Point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Image::Dimension&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#ac427e5427bded159a776407fed27e592">Dimension</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Image::Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a85f2f97a23a06e1cba4f717224f52b7a">Size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Image::Domain&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#ac0ea63f416e611461bc13fbf474f80f0">Domain</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak"/>
Image::Domain::Space::Point::Coordinate&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structDGtal_1_1SeparableMetricTraits.html">SeparableMetricTraits</a><br class="typebreak"/>
&lt; <a class="el" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a>, IntegerLong, p &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#ae14bbfb7b5730ec7a627f917d85e9ffd">SeparableMetric</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#adcda9776ea99d0eb5106472860c1b787">BOOST_CONCEPT_ASSERT</a> ((<a class="el" href="structDGtal_1_1CImageContainer.html">CImageContainer</a>&lt; Image &gt;))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a6d7981ba715d67e971203c4dbb1e5600">BOOST_CONCEPT_ASSERT</a> ((<a class="el" href="structDGtal_1_1CSignedInteger.html">CSignedInteger</a>&lt; IntegerLong &gt;))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a302402aac9823449ed063e874aaa124d">DistanceTransformation</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a50d5af7dffed6628043dd8e1e5979190">~DistanceTransformation</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#af8a9289a9cd2a8d5b8159d5bba112143">checkTypesValidity</a> (const Image &amp;aImage)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename ForegroundPredicate &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a22b1283ca9092952f4c993fe86c31e78">compute</a> (const Image &amp;inputImage, const ForegroundPredicate &amp;predicate)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a558b611938fbc86c5a902707e57055d7">compute</a> (const Image &amp;inputImage)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename DigitalSet &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a41975085112ba75bdf18c342b68b809f">compute</a> (const DigitalSet &amp;inputSet, const bool addBoundary=true)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename Functor &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a><br class="typebreak"/>
&lt; I, p, IntLong &gt;::<a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a74d0a91ca774ba6a48666c78c1c436cf">compute</a> (const I &amp;aImage, const Functor &amp;predicate)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename Functor &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#af74631d484712de8256dc20846b1c0c6">computeFirstStep</a> (const I &amp;aImage, <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;output, const Functor &amp;predicate) const </td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename ForegroundPredicate &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a2a06c47842eb40fd7a6f496083e1e61f">computeFirstStep</a> (const Image &amp;aImage, <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;output, const ForegroundPredicate &amp;predicate) const </td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename ForegroundPredicate &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a1ab440949b1574100211da677f6e46de">computeFirstStep1D</a> (const Image &amp;aImage, <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;output, const <a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a> &amp;startingPoint, const ForegroundPredicate &amp;predicate) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#adebed874f7facdcb81a6c9a46ee4e64b">computeOtherSteps</a> (const <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;inputImage, <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;output, const <a class="el" href="classDGtal_1_1DistanceTransformation.html#ac427e5427bded159a776407fed27e592">Dimension</a> dim) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#ababa154bafed6b1ce617368461b07296">computeOtherStep1D</a> (const <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;input, <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;output, const <a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a> &amp;row, const <a class="el" href="classDGtal_1_1DistanceTransformation.html#a85f2f97a23a06e1cba4f717224f52b7a">Size</a> dim, <a class="el" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a> s[], <a class="el" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a> t[]) const </td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDGtal_1_1SeparableMetricTraits.html">SeparableMetric</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#ac6f3245ceda075ca636789733de8cd69">myMetric</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5">myLowerBoundCopy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034">myUpperBoundCopy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a2633dfb4db02a481db836d90e9be84ed">Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#ad72cc72d55ffaa89c0fad26956e1ece2">myDisplacementVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#aea76fca0ef03e980124fd5b1120bbe15">myExtent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">IntegerLong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a1130efe42d6feb73c3f84f48a5e2d827">myInfinity</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt;<br/>
 class DGtal::DistanceTransformation&lt; Image, p, IntegerLong &gt;</h3>

<p>Aim: Implementation of the linear in time distance transformation. </p>
<p>Description of template class 'DistanceTransformation' </p>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">Image</td><td>an input image type. </td></tr>
    <tr><td class="paramname">p</td><td>the static integer value to define the l_p metric. </td></tr>
    <tr><td class="paramname">IntegerLong</td><td>(optional) type used to represent exact distance value according to p (default: <a class="el" href="namespaceDGtal.html#ab33c0c25b8cc3cd86de343bca34329f5" title="unsigned 64-bit integer.">DGtal::uint64_t</a>)</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p>
<div class="fragment"><pre class="fragment"> <span class="comment">//Types definition</span>
 <span class="keyword">typedef</span> ImageSelector&lt;Domain, unsigned int&gt;::Type Image; <span class="comment">//image with &quot;unsigned in value type</span>

 <span class="comment">//Distance transformation for the l_2 metric</span>
 <span class="keyword">typedef</span> DistanceTransformation&lt;Image, 2&gt; DTl2; 
 DTl2 dt; 

 <span class="comment">// ...</span>
 <span class="comment">//Construction of an instance &quot;image&quot; of Image (with an io reader for instance)</span>
 <span class="comment">// ...</span>

 <span class="comment">//EDT computation</span>
 DTl2::OutputImage result = dt.compute(image);
</pre></div> <dl><dt><b>Examples: </b></dt><dd>
<p><a class="el" href="distancetransform3D_8cpp-example.html#_a6">distancetransform3D.cpp</a>.</p>
</dd>
</dl>
<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00091">91</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="aacedcc90f522da6aaeb97e837d7d3867"></a><!-- doxytag: member="DGtal::DistanceTransformation::Abscissa" ref="aacedcc90f522da6aaeb97e837d7d3867" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Image::Domain::Space::Point::Coordinate <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00109">109</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac427e5427bded159a776407fed27e592"></a><!-- doxytag: member="DGtal::DistanceTransformation::Dimension" ref="ac427e5427bded159a776407fed27e592" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Image::Dimension <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#ac427e5427bded159a776407fed27e592">Dimension</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00106">106</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac0ea63f416e611461bc13fbf474f80f0"></a><!-- doxytag: member="DGtal::DistanceTransformation::Domain" ref="ac0ea63f416e611461bc13fbf474f80f0" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Image::Domain <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#ac0ea63f416e611461bc13fbf474f80f0">Domain</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00108">108</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="a01875821fcfd395cee6b2282275d84af"></a><!-- doxytag: member="DGtal::DistanceTransformation::OutputImage" ref="a01875821fcfd395cee6b2282275d84af" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">ImageContainerBySTLVector</a>&lt; <a class="el" href="classDGtal_1_1HyperRectDomain.html">HyperRectDomain</a>&lt;typename Image::Domain::Space&gt; , IntegerLong &gt; <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of resulting image. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00101">101</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="a310ac9b23e8d73d543334b903730233f"></a><!-- doxytag: member="DGtal::DistanceTransformation::Point" ref="a310ac9b23e8d73d543334b903730233f" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Image::Point <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00105">105</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae14bbfb7b5730ec7a627f917d85e9ffd"></a><!-- doxytag: member="DGtal::DistanceTransformation::SeparableMetric" ref="ae14bbfb7b5730ec7a627f917d85e9ffd" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structDGtal_1_1SeparableMetricTraits.html">SeparableMetricTraits</a>&lt; <a class="el" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a> , IntegerLong , p &gt; <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="structDGtal_1_1SeparableMetricTraits.html">SeparableMetric</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>We construct the type associated to the separable metric. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00112">112</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="a85f2f97a23a06e1cba4f717224f52b7a"></a><!-- doxytag: member="DGtal::DistanceTransformation::Size" ref="a85f2f97a23a06e1cba4f717224f52b7a" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Image::Size <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#a85f2f97a23a06e1cba4f717224f52b7a">Size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00107">107</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="a587e3b9a1bf85c638bbc958e514c50b1"></a><!-- doxytag: member="DGtal::DistanceTransformation::Value" ref="a587e3b9a1bf85c638bbc958e514c50b1" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Image::Value <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#a587e3b9a1bf85c638bbc958e514c50b1">Value</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00103">103</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2633dfb4db02a481db836d90e9be84ed"></a><!-- doxytag: member="DGtal::DistanceTransformation::Vector" ref="a2633dfb4db02a481db836d90e9be84ed" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Image::Vector <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#a2633dfb4db02a481db836d90e9be84ed">Vector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00104">104</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a302402aac9823449ed063e874aaa124d"></a><!-- doxytag: member="DGtal::DistanceTransformation::DistanceTransformation" ref="a302402aac9823449ed063e874aaa124d" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename I , DGtal::uint32_t p, typename IntLong &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; I, p, IntLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html">DistanceTransformation</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default Constructor</p>
<p>Constructor. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8ih_source.html#l00047">47</a> of file <a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a>.</p>
<div class="fragment"><pre class="fragment">{
}
</pre></div>
</div>
</div>
<a class="anchor" id="a50d5af7dffed6628043dd8e1e5979190"></a><!-- doxytag: member="DGtal::DistanceTransformation::~DistanceTransformation" ref="a50d5af7dffed6628043dd8e1e5979190" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename I , DGtal::uint32_t p, typename IntLong &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; I, p, IntLong &gt;::~<a class="el" href="classDGtal_1_1DistanceTransformation.html">DistanceTransformation</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default destructor</p>
<p>Destructor. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8ih_source.html#l00056">56</a> of file <a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a>.</p>
<div class="fragment"><pre class="fragment">{
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="adcda9776ea99d0eb5106472860c1b787"></a><!-- doxytag: member="DGtal::DistanceTransformation::BOOST_CONCEPT_ASSERT" ref="adcda9776ea99d0eb5106472860c1b787" args="((CImageContainer&lt; Image &gt;))" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::BOOST_CONCEPT_ASSERT </td>
          <td>(</td>
          <td class="paramtype">(<a class="el" href="structDGtal_1_1CImageContainer.html">CImageContainer</a>&lt; Image &gt;)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6d7981ba715d67e971203c4dbb1e5600"></a><!-- doxytag: member="DGtal::DistanceTransformation::BOOST_CONCEPT_ASSERT" ref="a6d7981ba715d67e971203c4dbb1e5600" args="((CSignedInteger&lt; IntegerLong &gt;))" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::BOOST_CONCEPT_ASSERT </td>
          <td>(</td>
          <td class="paramtype">(<a class="el" href="structDGtal_1_1CSignedInteger.html">CSignedInteger</a>&lt; IntegerLong &gt;)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af8a9289a9cd2a8d5b8159d5bba112143"></a><!-- doxytag: member="DGtal::DistanceTransformation::checkTypesValidity" ref="af8a9289a9cd2a8d5b8159d5bba112143" args="(const Image &amp;aImage)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename I, DGtal::uint32_t p, typename IntLong &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; I, p, IntLong &gt;::checkTypesValidity </td>
          <td>(</td>
          <td class="paramtype">const I &amp;&#160;</td>
          <td class="paramname"><em>aImage</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check the validity of the transformation. For instance, we check that the output image pixel range is ok with respect to the input image range and the SeparableMetric.</p>
<p>Warning and advices are printed in the trace system.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aImage</td><td>the image used to check the type consistency. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if a warning has been raised. </dd></dl>

<p>Definition at line <a class="el" href="DistanceTransformation_8ih_source.html#l00066">66</a> of file <a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a>.</p>

<p>References <a class="el" href="Common_8h_source.html#l00101">DGtal::trace</a>, and <a class="el" href="Trace_8ih_source.html#l00176">DGtal::Trace::warning()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">typename</span> I::Point::UnsignedComponent maxExtent = ( aImage.upperBound() - aImage.lowerBound() ).normInfinity();

  <span class="comment">//Estimate worst-case bit size (special case for p=0 == Linfinity</span>
  <span class="keywordtype">double</span> bitSize;

  <span class="keywordflow">if</span> (<a class="code" href="structDGtal_1_1SeparableMetricTraits.html#aef07e245d35a74e2ecfd1e8fb2146537">SeparableMetric::p</a> != 0)
    bitSize = <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#aef07e245d35a74e2ecfd1e8fb2146537">SeparableMetric::p</a> * (log ((<span class="keywordtype">double</span>) I::dimension * 2 * maxExtent ) / log(2.0));
  <span class="keywordflow">else</span>
    bitSize =  <span class="keyword">sizeof</span> ( <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1DistanceTransformation.html#a587e3b9a1bf85c638bbc958e514c50b1">I::Value</a> ) * 8;

  <span class="keywordflow">if</span> ( bitSize &gt; <span class="keyword">sizeof</span> ( <span class="keyword">typename</span> <a class="code" href="classDGtal_1_1ImageContainerBySTLVector.html#a969107fe40d0efab29fe28f72813cb66">OutputImage::Value</a> ) * 8 )
    {
      <a class="code" href="namespaceDGtal.html#a604c07ec391ad12a1f3fb6479993f112">trace</a>.warning() &lt;&lt; <span class="stringliteral">&quot;(DistanceTransformation) The output image Value range may&quot;</span>
          &lt;&lt;<span class="stringliteral">&quot; not be sufficient to store the exact values  according to&quot;</span>
          &lt;&lt;<span class="stringliteral">&quot; the input image extent.&quot;</span> &lt;&lt; endl;
      <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a22b1283ca9092952f4c993fe86c31e78"></a><!-- doxytag: member="DGtal::DistanceTransformation::compute" ref="a22b1283ca9092952f4c993fe86c31e78" args="(const Image &amp;inputImage, const ForegroundPredicate &amp;predicate)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
<div class="memtemplate">
template&lt;typename ForegroundPredicate &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::compute </td>
          <td>(</td>
          <td class="paramtype">const Image &amp;&#160;</td>
          <td class="paramname"><em>inputImage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ForegroundPredicate &amp;&#160;</td>
          <td class="paramname"><em>predicate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the Distance Transformation of an image with the SeparableMetric metric. The method associates to each point with value satisfying the foreground predicate, its distance to the closest background point. This algorithm is O(d.|inputImage|).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">inputImage</td><td>the input image </td></tr>
    <tr><td class="paramname">foregroundPredicate</td><td>a predicate to detect foreground point from the image valuetype </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the distance transformation image with the Internal format. </dd></dl>

</div>
</div>
<a class="anchor" id="a558b611938fbc86c5a902707e57055d7"></a><!-- doxytag: member="DGtal::DistanceTransformation::compute" ref="a558b611938fbc86c5a902707e57055d7" args="(const Image &amp;inputImage)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::compute </td>
          <td>(</td>
          <td class="paramtype">const Image &amp;&#160;</td>
          <td class="paramname"><em>inputImage</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the Distance Transformation of an image with the SeparableMetric metric. The method associates to each point with value satisfying the foreground predicate, its distance to the closest background point. This algorithm is O(d.|inputImage|).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">inputImage</td><td>the input image </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the distance transformation image with the Internal format. </dd></dl>

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00196">196</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>
<div class="fragment"><pre class="fragment">    {
      <span class="keywordflow">return</span> compute&lt;DefaultForegroundPredicate&gt;(inputImage, DefaultForegroundPredicate());
    };
</pre></div>
</div>
</div>
<a class="anchor" id="a74d0a91ca774ba6a48666c78c1c436cf"></a><!-- doxytag: member="DGtal::DistanceTransformation::compute" ref="a74d0a91ca774ba6a48666c78c1c436cf" args="(const I &amp;aImage, const Functor &amp;predicate)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
<div class="memtemplate">
template&lt;typename Functor &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt;I, p, IntLong&gt;::<a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::compute </td>
          <td>(</td>
          <td class="paramtype">const I &amp;&#160;</td>
          <td class="paramname"><em>aImage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Functor &amp;&#160;</td>
          <td class="paramname"><em>predicate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DistanceTransformation_8ih_source.html#l00106">106</a> of file <a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a>.</p>

<p>References <a class="el" href="ImageContainerBySTLVector_8h_source.html#l00236">DGtal::ImageContainerBySTLVector&lt; TDomain, TValue &gt;::translateDomain()</a>.</p>
<div class="fragment"><pre class="fragment">{

  <span class="comment">//We trace type validdity check result;</span>
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#af8a9289a9cd2a8d5b8159d5bba112143">checkTypesValidity</a> ( aImage );

  <span class="comment">//We copy the image extent and translate the image domains to (0,..0)x(Upper-Lower)</span>
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a> = <a class="code" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a>(); <span class="comment">//(O,O,...O)</span>
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a> = aImage.upperBound() - aImage.lowerBound();
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#ad72cc72d55ffaa89c0fad26956e1ece2" title="Displacement vector to translate temporary images.">myDisplacementVector</a> = aImage.lowerBound();

  <a class="code" href="classDGtal_1_1DistanceTransformation.html#aea76fca0ef03e980124fd5b1120bbe15" title="Copy of the image extent.">myExtent</a> = <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a> - <a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a>;
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#a1130efe42d6feb73c3f84f48a5e2d827" title="Value to act as a +infinity value.">myInfinity</a>  = <a class="code" href="classDGtal_1_1DistanceTransformation.html#ac6f3245ceda075ca636789733de8cd69" title="The separable metric instance.">myMetric</a>.<a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a2d328ef303d129e8877a29415bb62e72">power</a>(static_cast&lt;typename I::Integer&gt;(I::dimension) * <a class="code" href="classDGtal_1_1DistanceTransformation.html#aea76fca0ef03e980124fd5b1120bbe15" title="Copy of the image extent.">myExtent</a>.normInfinity() + 1);

  
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#a01875821fcfd395cee6b2282275d84af" title="Type of resulting image.">OutputImage</a> output ( myLowerBoundCopy, <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a> );
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#a01875821fcfd395cee6b2282275d84af" title="Type of resulting image.">OutputImage</a> swap ( myLowerBoundCopy, <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a> );
  <span class="keywordtype">bool</span> isSwap = <span class="keyword">true</span>;

  <span class="comment">//First step</span>
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#a2a06c47842eb40fd7a6f496083e1e61f">computeFirstStep</a> ( aImage, output, predicate );

  <span class="comment">//We process the dimensions swaping the temporary buffers</span>
  <span class="keywordflow">for</span> ( <a class="code" href="classDGtal_1_1DistanceTransformation.html#ac427e5427bded159a776407fed27e592">Dimension</a> dim = 1; dim &lt; I::dimension ; dim++ )
    {
      <span class="keywordflow">if</span> ( isSwap )
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#adebed874f7facdcb81a6c9a46ee4e64b">computeOtherSteps</a> ( output, swap, dim );
      <span class="keywordflow">else</span>
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#adebed874f7facdcb81a6c9a46ee4e64b">computeOtherSteps</a> ( swap, output, dim );

      isSwap = !isSwap;
    }

  <span class="comment">//We translate the output image to the correct position and return.</span>
  <span class="keywordflow">if</span> ( !isSwap )
    {
      swap.translateDomain(<a class="code" href="classDGtal_1_1DistanceTransformation.html#ad72cc72d55ffaa89c0fad26956e1ece2" title="Displacement vector to translate temporary images.">myDisplacementVector</a>);
      <span class="keywordflow">return</span> swap;
    }

  <span class="keywordflow">else</span>
    {
      output.translateDomain(<a class="code" href="classDGtal_1_1DistanceTransformation.html#ad72cc72d55ffaa89c0fad26956e1ece2" title="Displacement vector to translate temporary images.">myDisplacementVector</a>);
      <span class="keywordflow">return</span> output;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a41975085112ba75bdf18c342b68b809f"></a><!-- doxytag: member="DGtal::DistanceTransformation::compute" ref="a41975085112ba75bdf18c342b68b809f" args="(const DigitalSet &amp;inputSet, const bool addBoundary=true)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename I, DGtal::uint32_t p, typename IntLong &gt; </div>
<div class="memtemplate">
template&lt;typename DigitalSet &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; I, p, IntLong &gt;::<a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; I, p, IntLong &gt;::compute </td>
          <td>(</td>
          <td class="paramtype">const DigitalSet &amp;&#160;</td>
          <td class="paramname"><em>inputSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>addBoundary</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the Distance Transformation of a Set with the SeparableMetric metric. This method first converts the digital set of an image and compute the DT in O(d.N) where N is the number of grid points of the bounding box of the set (and d the dimension). The bounding box is enlarged by 1 point in each direction if the addBoundary parameter is true (default value).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">inputSet</td><td>the input set of grid points. </td></tr>
    <tr><td class="paramname">addBoundary</td><td>if true (default value), we add a boundary of thickness one to the bounding box (to make sure that all grid points of aSet belonging to the boundary have a DT of value 1 (for the L2 and L1 case).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the distance transformation image with the Internal format. </dd></dl>

<p>Definition at line <a class="el" href="DistanceTransformation_8ih_source.html#l00092">92</a> of file <a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a>.</p>

<p>References <a class="el" href="Trace_8ih_source.html#l00213">DGtal::Trace::info()</a>, and <a class="el" href="Common_8h_source.html#l00101">DGtal::trace</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">//We convert the set to an image and run the image-based algorithm</span>
  I image = ImageFromSet&lt;I&gt;::template create&lt;DigitalSet&gt;(aSet, 128, addBoundary);
  <a class="code" href="namespaceDGtal.html#a604c07ec391ad12a1f3fb6479993f112">trace</a>.info() &lt;&lt;<span class="stringliteral">&quot;Temp image=&quot;</span>&lt;&lt;image&lt;&lt;std::endl;
  <span class="keywordflow">return</span> <a class="code" href="classDGtal_1_1DistanceTransformation.html#a22b1283ca9092952f4c993fe86c31e78">compute</a>( image  );
}
</pre></div>
</div>
</div>
<a class="anchor" id="af74631d484712de8256dc20846b1c0c6"></a><!-- doxytag: member="DGtal::DistanceTransformation::computeFirstStep" ref="af74631d484712de8256dc20846b1c0c6" args="(const I &amp;aImage, OutputImage &amp;output, const Functor &amp;predicate) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
<div class="memtemplate">
template&lt;typename Functor &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::computeFirstStep </td>
          <td>(</td>
          <td class="paramtype">const I &amp;&#160;</td>
          <td class="paramname"><em>aImage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Functor &amp;&#160;</td>
          <td class="paramname"><em>predicate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DistanceTransformation_8ih_source.html#l00159">159</a> of file <a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a>.</p>

<p>References <a class="el" href="Trace_8ih_source.html#l00120">DGtal::Trace::beginBlock()</a>, <a class="el" href="Trace_8ih_source.html#l00145">DGtal::Trace::endBlock()</a>, and <a class="el" href="Common_8h_source.html#l00101">DGtal::trace</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="namespaceDGtal.html#a604c07ec391ad12a1f3fb6479993f112">trace</a>.beginBlock ( <span class="stringliteral">&quot;DT dimension 0&quot;</span> );
  Point startingPoint = <a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a>;

  <span class="keyword">typedef</span> <span class="keyword">typename</span> Domain::ConstSubRange::ConstIterator ConstDomIt;
  
  <span class="comment">//We setup the subdomain iterator</span>
  <span class="comment">//the iterator will scan dimension using the order:</span>
  <span class="comment">// {n-1, n-2, ... 1} (we skip the &#39;0&#39; dimension.</span>
  std::vector&lt;Size&gt; subdomain;
  subdomain.reserve(I::dimension - 1);
  <span class="keywordflow">for</span> (<a class="code" href="classDGtal_1_1DistanceTransformation.html#ac427e5427bded159a776407fed27e592">Dimension</a> k = I::dimension-1; k&gt;0 ; --k)
    subdomain.push_back( k );

  <a class="code" href="classDGtal_1_1DistanceTransformation.html#ac0ea63f416e611461bc13fbf474f80f0">Domain</a> localDomain(<a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a>, <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>);

  <span class="comment">//We process the dimensions to construct a Point</span>
  <span class="keywordflow">for</span> (ConstDomIt it = localDomain.subRange( subdomain ).begin(),
   itend = localDomain.subRange( subdomain ).end(); it != itend; ++it)
    {
      <span class="comment">// trace.info()  &lt;&lt; &quot;Processing 1D slice starting at =&quot; &lt;&lt; (*it) &lt;&lt; endl;</span>
      <a class="code" href="classDGtal_1_1DistanceTransformation.html#a1ab440949b1574100211da677f6e46de">computeFirstStep1D</a> ( aImage, output, (*it), predicate );
    }

  <a class="code" href="namespaceDGtal.html#a604c07ec391ad12a1f3fb6479993f112">trace</a>.endBlock();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2a06c47842eb40fd7a6f496083e1e61f"></a><!-- doxytag: member="DGtal::DistanceTransformation::computeFirstStep" ref="a2a06c47842eb40fd7a6f496083e1e61f" args="(const Image &amp;aImage, OutputImage &amp;output, const ForegroundPredicate &amp;predicate) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
<div class="memtemplate">
template&lt;typename ForegroundPredicate &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::computeFirstStep </td>
          <td>(</td>
          <td class="paramtype">const Image &amp;&#160;</td>
          <td class="paramname"><em>aImage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ForegroundPredicate &amp;&#160;</td>
          <td class="paramname"><em>predicate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the first step of the separable distance transformation.</p>
<p>b * </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aImage</td><td>the input image </td></tr>
    <tr><td class="paramname">output</td><td>the output image with the first step DT values </td></tr>
    <tr><td class="paramname">predicate</td><td>the predicate to characterize the foreground (e.g. !=0, see <a class="el" href="structDGtal_1_1DistanceTransformation_1_1DefaultForegroundPredicate.html">DefaultForegroundPredicate</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1ab440949b1574100211da677f6e46de"></a><!-- doxytag: member="DGtal::DistanceTransformation::computeFirstStep1D" ref="a1ab440949b1574100211da677f6e46de" args="(const Image &amp;aImage, OutputImage &amp;output, const Point &amp;startingPoint, const ForegroundPredicate &amp;predicate) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename I, DGtal::uint32_t p, typename IntLong &gt; </div>
<div class="memtemplate">
template&lt;typename ForegroundPredicate &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; I, p, IntLong &gt;::computeFirstStep1D </td>
          <td>(</td>
          <td class="paramtype">const I &amp;&#160;</td>
          <td class="paramname"><em>aImage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>startingPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ForegroundPredicate &amp;&#160;</td>
          <td class="paramname"><em>predicate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the 1D DT associated to the first step.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aImage</td><td>the input image </td></tr>
    <tr><td class="paramname">output</td><td>the output image with the first step DT values </td></tr>
    <tr><td class="paramname">startingPoint</td><td>a point to specify the starting point of the 1D row </td></tr>
    <tr><td class="paramname">predicate</td><td>the predicate to characterize the foreground (e.g. !=0, see <a class="el" href="structDGtal_1_1DistanceTransformation_1_1DefaultForegroundPredicate.html">DefaultForegroundPredicate</a>) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DistanceTransformation_8ih_source.html#l00241">241</a> of file <a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a>.</p>

<p>References <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html#a2d2319747496a8b74d6dd5aa8d196247">DGtal::ImageContainerBySTLVector&lt; TDomain, TValue &gt;::setValue()</a>.</p>
<div class="fragment"><pre class="fragment">{
  Point prec = startingPoint;
  Point point = startingPoint;

  <span class="comment">//PRECOND : output can store 2*(myUpperBoundCopy[0] -  myLowerBoundCopy[0]) in its valuetype</span>
  <span class="comment">//INFTY = something &gt; myUpperBoundCopy[0] -  myLowerBoundCopy[0]</span>
  <span class="keywordflow">if</span> ( isForeground ( aImage, point + <a class="code" href="classDGtal_1_1DistanceTransformation.html#ad72cc72d55ffaa89c0fad26956e1ece2" title="Displacement vector to translate temporary images.">myDisplacementVector</a> ) )
    output.setValue ( point, <a class="code" href="classDGtal_1_1DistanceTransformation.html#a1130efe42d6feb73c3f84f48a5e2d827" title="Value to act as a +infinity value.">myInfinity</a> );
  <span class="keywordflow">else</span>
    output.setValue ( point, 0 );

  <span class="comment">//Forward scan </span>
  <span class="keywordflow">for</span> ( point[0] = 1; point[0] &lt;= <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>[0]; point[0]++ )
    {
      <span class="comment">// trace.warning() &lt;&lt; point &lt;&lt; &quot; &quot;;</span>
      <span class="keywordflow">if</span> ( isForeground ( aImage, point  + <a class="code" href="classDGtal_1_1DistanceTransformation.html#ad72cc72d55ffaa89c0fad26956e1ece2" title="Displacement vector to translate temporary images.">myDisplacementVector</a> ))
  output.setValue ( point, 1 + output ( prec ) );
      <span class="keywordflow">else</span>
  output.setValue ( point, 0 );

      prec[0] = point[0];
    }


  <span class="comment">//prec is the the rightmost point of &quot;point&#39;</span>
  prec[0] =  <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>[0];

  <span class="comment">//Backward scan</span>
  <span class="keywordflow">for</span> ( point[0] = <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>[0] - 1; point[0] &gt;= 0 ; point[0]-- )
    {
      <span class="keywordflow">if</span> ( output ( prec ) &lt; output ( point ) )
  output.setValue ( point, 1 + output ( prec ) );
      prec[0] = point[0];
    }

  <span class="comment">//final computation</span>
  <span class="keywordflow">for</span> ( point[0] = 0; point[0] &lt;= <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>[0]; point[0]++ )
    <span class="keywordflow">if</span> (output( point ) &lt; <a class="code" href="classDGtal_1_1DistanceTransformation.html#a1130efe42d6feb73c3f84f48a5e2d827" title="Value to act as a +infinity value.">myInfinity</a>)
      output.setValue ( point, <a class="code" href="classDGtal_1_1DistanceTransformation.html#ac6f3245ceda075ca636789733de8cd69" title="The separable metric instance.">myMetric</a>.<a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a2d328ef303d129e8877a29415bb62e72">power</a>( output ( point ) ));
    <span class="keywordflow">else</span>
      output.setValue ( point, <a class="code" href="classDGtal_1_1DistanceTransformation.html#a1130efe42d6feb73c3f84f48a5e2d827" title="Value to act as a +infinity value.">myInfinity</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ababa154bafed6b1ce617368461b07296"></a><!-- doxytag: member="DGtal::DistanceTransformation::computeOtherStep1D" ref="ababa154bafed6b1ce617368461b07296" args="(const OutputImage &amp;input, OutputImage &amp;output, const Point &amp;row, const Size dim, Abscissa s[], Abscissa t[]) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename I , DGtal::uint32_t p, typename IntLong &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; I, p, IntLong &gt;::computeOtherStep1D </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDGtal_1_1DistanceTransformation.html#a85f2f97a23a06e1cba4f717224f52b7a">Size</a>&#160;</td>
          <td class="paramname"><em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a>&#160;</td>
          <td class="paramname"><em>s</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a>&#160;</td>
          <td class="paramname"><em>t</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the 1D DT associated to the steps except the first one.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aImage</td><td>the input image </td></tr>
    <tr><td class="paramname">output</td><td>the output image with the DT values </td></tr>
    <tr><td class="paramname">row</td><td>a point to specify the starting point of the 1D row </td></tr>
    <tr><td class="paramname">dim</td><td>the dimension to process </td></tr>
    <tr><td class="paramname">predicate</td><td>the predicate to characterize the foreground (e.g. !=0, see <a class="el" href="structDGtal_1_1DistanceTransformation_1_1DefaultForegroundPredicate.html">DefaultForegroundPredicate</a>) </td></tr>
  </table>
  </dd>
</dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000021">Todo:</a></b></dt><dd>optimize the test here </dd></dl>
</p>

<p>Definition at line <a class="el" href="DistanceTransformation_8ih_source.html#l00293">293</a> of file <a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a>.</p>

<p>References <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html#a2d2319747496a8b74d6dd5aa8d196247">DGtal::ImageContainerBySTLVector&lt; TDomain, TValue &gt;::setValue()</a>, <a class="el" href="ImageContainerBySTLVector_8h_source.html#l00429">DGtal::ImageContainerBySTLVector&lt; TDomain, TValue &gt;::spanBegin()</a>, and <a class="el" href="ImageContainerBySTLVector_8h_source.html#l00444">DGtal::ImageContainerBySTLVector&lt; TDomain, TValue &gt;::spanEnd()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a> w;
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a> q = 0;  <span class="comment">//index for the stack &quot;head&quot;</span>
  
  Point sQ = startingPoint;
  Point pU = startingPoint;

  <span class="comment">// We look for the first point in the 1D column with distance different from</span>
  <span class="comment">// myInfinity</span>
  pU[dim] = <a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a>[dim];
  <span class="keywordflow">while</span> ((pU[dim] &lt;= <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>[dim]) &amp;&amp; (input ( pU ) == <a class="code" href="classDGtal_1_1DistanceTransformation.html#a1130efe42d6feb73c3f84f48a5e2d827" title="Value to act as a +infinity value.">myInfinity</a>))
    pU[dim] ++;


  <span class="comment">// All points are set to +infinity, we just copy the infinity value and return</span>
  <span class="keywordflow">if</span> ( pU[dim] &gt; <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>[dim] )
    {
      <span class="keywordflow">for</span>(<span class="keyword">typename</span> OutputImage::SpanIterator it= output.spanBegin(startingPoint,dim), 
      itend=output.spanEnd(startingPoint,dim); 
    it != itend; ++it)
  output.setValue(it, <a class="code" href="classDGtal_1_1DistanceTransformation.html#a1130efe42d6feb73c3f84f48a5e2d827" title="Value to act as a +infinity value.">myInfinity</a>);
      <span class="keywordflow">return</span>;
    }
  
  <span class="comment">//Stack structure</span>
  q = 0;
  s[q] = pU[dim]; <span class="comment">// first point with DT!=infinity</span>
  sQ[dim] = s[q]; <span class="comment">// nD Point corresponding to the head of the stack</span>
  t[q] = <a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a>[dim]; 

  <span class="comment">//Forward Scan </span>
  <span class="comment">//We scan all the pixels</span>
  <span class="keywordflow">for</span> ( <a class="code" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a> u = pU[dim] + 1; u &lt;= <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>[dim] ; u++ )
    {
      pU[ dim ] = u;
      <span class="keywordflow">if</span> ( input( pU ) == <a class="code" href="classDGtal_1_1DistanceTransformation.html#a1130efe42d6feb73c3f84f48a5e2d827" title="Value to act as a +infinity value.">myInfinity</a> )
  {
    <span class="keywordflow">continue</span>;
  }
      
      <span class="keywordflow">while</span> ( ( q &gt;= 0 ) &amp;&amp;
        ( <a class="code" href="classDGtal_1_1DistanceTransformation.html#ac6f3245ceda075ca636789733de8cd69" title="The separable metric instance.">myMetric</a>.<a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ae5c51c3c3bd9c18e7031ff46d103d1a9">F</a> ( t[q], s[q], input ( sQ ) ) &gt;
    <a class="code" href="classDGtal_1_1DistanceTransformation.html#ac6f3245ceda075ca636789733de8cd69" title="The separable metric instance.">myMetric</a>.<a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ae5c51c3c3bd9c18e7031ff46d103d1a9">F</a> ( t[q], u, input ( pU ) ) ) )
  {
    q--;
    <span class="keywordflow">if</span> (q&gt;=0)
      sQ[dim] = s[q];
  }
      
      <span class="keywordflow">if</span> ( q &lt; 0 )
  {
    q = 0;
    s[0] = u;
    sQ[dim] = u;
    t[0] = <a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a>[dim];
  }
      <span class="keywordflow">else</span>
  {
    sQ[dim] = s[q];
    w = 1 + <a class="code" href="classDGtal_1_1DistanceTransformation.html#ac6f3245ceda075ca636789733de8cd69" title="The separable metric instance.">myMetric</a>.<a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a09204a380af06566e62d4c7e05ecd8a0">Sep</a> ( s[q],
         input ( sQ ),
         u,
         input ( pU ) );
    
    <span class="keywordflow">if</span> (( w &lt;= <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>[dim] ) 
        &amp;&amp; (w&gt;= <a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a>[dim]))
      {
        q++;
        s[q] = u;
        sQ[dim] = u;
        t[q] = w;
      }
  }
    }
  
  Point last = startingPoint;
  
  ASSERT(q&gt;=0);
  
  sQ[dim] = s[q];
  
  <span class="comment">//Backward Scan</span>
  <span class="keywordflow">for</span> (last[dim] = <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>[dim];
       last[dim] &gt;= <a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a>[dim] ;
       last[dim]-- )
    {
      output.setValue ( last, <a class="code" href="classDGtal_1_1DistanceTransformation.html#ac6f3245ceda075ca636789733de8cd69" title="The separable metric instance.">myMetric</a>.<a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ae5c51c3c3bd9c18e7031ff46d103d1a9">F</a> ( last[dim] , s[q], input ( sQ ) ) );
      <span class="keywordflow">if</span> (( last[dim] == t[q] ) &amp;&amp; (q &gt; 0))
  {
    q--;
    sQ[dim] = s[q];
  }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="adebed874f7facdcb81a6c9a46ee4e64b"></a><!-- doxytag: member="DGtal::DistanceTransformation::computeOtherSteps" ref="adebed874f7facdcb81a6c9a46ee4e64b" args="(const OutputImage &amp;inputImage, OutputImage &amp;output, const Dimension dim) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename I , DGtal::uint32_t p, typename IntLong &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; I, p, IntLong &gt;::computeOtherSteps </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;&#160;</td>
          <td class="paramname"><em>inputImage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDGtal_1_1ImageContainerBySTLVector.html">OutputImage</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDGtal_1_1DistanceTransformation.html#ac427e5427bded159a776407fed27e592">Dimension</a>&#160;</td>
          <td class="paramname"><em>dim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the other steps of the separable distance transformation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">inputImage</td><td>the image resulting of the first (or intermediate) step </td></tr>
    <tr><td class="paramname">output</td><td>the output image </td></tr>
    <tr><td class="paramname">dim</td><td>the dimension to process </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DistanceTransformation_8ih_source.html#l00193">193</a> of file <a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a>.</p>

<p>References <a class="el" href="Trace_8ih_source.html#l00120">DGtal::Trace::beginBlock()</a>, <a class="el" href="Trace_8ih_source.html#l00145">DGtal::Trace::endBlock()</a>, and <a class="el" href="Common_8h_source.html#l00101">DGtal::trace</a>.</p>
<div class="fragment"><pre class="fragment">{
  std::string title = <span class="stringliteral">&quot;DT dimension &quot;</span> +  boost::lexical_cast&lt;<span class="keywordtype">string</span>&gt;( dim ) ;
  <a class="code" href="namespaceDGtal.html#a604c07ec391ad12a1f3fb6479993f112">trace</a>.beginBlock ( title );

  <span class="keyword">typedef</span> <span class="keyword">typename</span> Domain::ConstSubRange::ConstIterator ConstDomIt;
  
  <span class="comment">//We setup the subdomain iterator</span>
  <span class="comment">//the iterator will scan dimension using the order:</span>
  <span class="comment">// {n-1, n-2, ... 1} (we skip the &#39;0&#39; dimension.</span>

  std::vector&lt;Size&gt; subdomain;
  subdomain.reserve(I::dimension - 1);
  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; I::dimension ; k++)
    <span class="keywordflow">if</span> ( (I::dimension - 1 - k) != dim)
      subdomain.push_back( I::dimension - 1 - k );

  <a class="code" href="classDGtal_1_1DistanceTransformation.html#ac0ea63f416e611461bc13fbf474f80f0">Domain</a> localDomain(<a class="code" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5" title="Copy of the image lower bound.">myLowerBoundCopy</a>, <a class="code" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034" title="Copy of the image lower bound.">myUpperBoundCopy</a>);
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#a85f2f97a23a06e1cba4f717224f52b7a">Size</a> maxSize = <a class="code" href="classDGtal_1_1DistanceTransformation.html#aea76fca0ef03e980124fd5b1120bbe15" title="Copy of the image extent.">myExtent</a>.normInfinity();

  <span class="comment">//Stacks used in the envelope computation</span>
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a> *s = <span class="keyword">new</span> <a class="code" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a>[maxSize+1];
  <a class="code" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a> *t = <span class="keyword">new</span> <a class="code" href="classDGtal_1_1DistanceTransformation.html#aacedcc90f522da6aaeb97e837d7d3867">Abscissa</a>[maxSize+1];
  
  ASSERT( s != NULL);
  ASSERT( t != NULL);
  
  <span class="comment">//We process the dimensions to construct a Point</span>
  <span class="keywordflow">for</span> (ConstDomIt it = localDomain.subRange( subdomain ).begin(),
   itend = localDomain.subRange( subdomain ).end();
       it != itend; ++it)
    {
      <a class="code" href="classDGtal_1_1DistanceTransformation.html#ababa154bafed6b1ce617368461b07296">computeOtherStep1D</a> ( input, output, (*it), dim, s, t );
    }
  
  <span class="keyword">delete</span>[] s;
  <span class="keyword">delete</span>[] t;
  <a class="code" href="namespaceDGtal.html#a604c07ec391ad12a1f3fb6479993f112">trace</a>.endBlock();

}
</pre></div>
</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ad72cc72d55ffaa89c0fad26956e1ece2"></a><!-- doxytag: member="DGtal::DistanceTransformation::myDisplacementVector" ref="ad72cc72d55ffaa89c0fad26956e1ece2" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a2633dfb4db02a481db836d90e9be84ed">Vector</a> <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#ad72cc72d55ffaa89c0fad26956e1ece2">myDisplacementVector</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Displacement vector to translate temporary images. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00289">289</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="aea76fca0ef03e980124fd5b1120bbe15"></a><!-- doxytag: member="DGtal::DistanceTransformation::myExtent" ref="aea76fca0ef03e980124fd5b1120bbe15" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a> <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#aea76fca0ef03e980124fd5b1120bbe15">myExtent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy of the image extent. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00292">292</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1130efe42d6feb73c3f84f48a5e2d827"></a><!-- doxytag: member="DGtal::DistanceTransformation::myInfinity" ref="a1130efe42d6feb73c3f84f48a5e2d827" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">IntegerLong <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#a1130efe42d6feb73c3f84f48a5e2d827">myInfinity</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Value to act as a +infinity value. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00295">295</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="af1672183ff15cf13dc873fc30a1e67a5"></a><!-- doxytag: member="DGtal::DistanceTransformation::myLowerBoundCopy" ref="af1672183ff15cf13dc873fc30a1e67a5" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a> <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#af1672183ff15cf13dc873fc30a1e67a5">myLowerBoundCopy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy of the image lower bound. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00283">283</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac6f3245ceda075ca636789733de8cd69"></a><!-- doxytag: member="DGtal::DistanceTransformation::myMetric" ref="ac6f3245ceda075ca636789733de8cd69" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDGtal_1_1SeparableMetricTraits.html">SeparableMetric</a> <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#ac6f3245ceda075ca636789733de8cd69">myMetric</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The separable metric instance. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00280">280</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<a class="anchor" id="a250d75f64d7e8194fdf3013be5e0a034"></a><!-- doxytag: member="DGtal::DistanceTransformation::myUpperBoundCopy" ref="a250d75f64d7e8194fdf3013be5e0a034" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Image, DGtal::uint32_t p, typename IntegerLong = DGtal::int64_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDGtal_1_1DistanceTransformation.html#a310ac9b23e8d73d543334b903730233f">Point</a> <a class="el" href="classDGtal_1_1DistanceTransformation.html">DGtal::DistanceTransformation</a>&lt; Image, p, IntegerLong &gt;::<a class="el" href="classDGtal_1_1DistanceTransformation.html#a250d75f64d7e8194fdf3013be5e0a034">myUpperBoundCopy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy of the image lower bound. </p>

<p>Definition at line <a class="el" href="DistanceTransformation_8h_source.html#l00286">286</a> of file <a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DistanceTransformation_8h_source.html">DistanceTransformation.h</a></li>
<li><a class="el" href="DistanceTransformation_8ih_source.html">DistanceTransformation.ih</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Sep 27 2011 10:27:10 for DGtal by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
