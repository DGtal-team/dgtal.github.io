<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>DGtal: Digital straight lines and segments.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DGtal
   &#160;<span id="projectnumber">0.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Digital straight lines and segments. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#moduleArithDSSReco-DSL">Digital straight lines</a><ul><li class="level2"><a href="#moduleArithDSSReco-DSL-Ex">Short example</a></li>
<li class="level2"><a href="#moduleArithDSSReco-DSL-Orientation">Orientation</a></li>
<li class="level2"><a href="#moduleArithDSSReco-DSL-Members">Data members</a></li>
<li class="level2"><a href="#moduleArithDSSReco-DSL-Features">Main features</a></li>
<li class="level2"><a href="#moduleArithDSSReco-DSL-Overflows">Avoiding overflows</a></li>
<li class="level2"><a href="#moduleArithDSSReco-DSL-Further">To go further</a></li>
</ul>
</li>
<li class="level1"><a href="#moduleArithDSSReco-DSS">Digital straight segments</a><ul><li class="level2"><a href="#moduleArithDSSReco-DSS-Ex">Short example</a></li>
<li class="level2"><a href="#moduleArithDSSReco-DSS-Features">Main features</a></li>
<li class="level2"><a href="#moduleArithDSSReco-DSS-Ctors">Different ways of constructing DSSs</a></li>
</ul>
</li>
<li class="level1"><a href="#moduleArithDSSReco-DSSRec">Recognition of digital straight segments</a><ul><li class="level2"><a href="#moduleArithDSSReco-DSSRec-Extension">Extension</a></li>
<li class="level2"><a href="#moduleArithDSSReco-DSSRec-Retraction">Retraction</a></li>
<li class="level2"><a href="#moduleArithDSSReco-DSSRec-Computers">NaiveDSS8Computer and StandardDSS4Computer</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Tristan Roussillon</dd></dl>
<p>Part of the <a class="el" href="packageGeometry.html">Geometry package</a>.</p>
<p>This module gathers classes that represent and recognize digital straight segments. To dynamically recognize DSSs along a sequence of points, the basic class is <a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html" title="Aim: This class is a wrapper around ArithmeticalDSS that is devoted to the dynamic recognition of dig...">ArithmeticalDSSComputer</a>, which is a model of <a class="el" href="structDGtal_1_1CDynamicBidirectionalSegmentComputer.html" title="Aim: Defines the concept describing a dynamic and bidirectional segment computer, ie...">CDynamicBidirectionalSegmentComputer</a>. Each instance of <a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html" title="Aim: This class is a wrapper around ArithmeticalDSS that is devoted to the dynamic recognition of dig...">ArithmeticalDSSComputer</a> has an instance of <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a>, which represents the recognized digital straight segment. Moreover, any instance of <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> has an instance of <a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a>, which represents the bounding digital straight line of minimal parameters. We detail below these three classes in a reverse order.</p>
<p>Related examples are <a class="el" href="exampleArithmeticalDSL_8cpp_source.html">exampleArithmeticalDSL.cpp</a>, <a class="el" href="exampleArithmeticalDSS_8cpp_source.html">exampleArithmeticalDSS.cpp</a>, and <a class="el" href="exampleArithmeticalDSSComputer_8cpp_source.html">exampleArithmeticalDSSComputer.cpp</a></p>
<h1><a class="anchor" id="moduleArithDSSReco-DSL"></a>
Digital straight lines</h1>
<p>A <b>digital</b> <b>straight</b> <b>line</b> (DSL) of <b>slope</b> \( a/b \) (with \( a,b, \in \mathbb{Z} \), \( \gcd(a,b) = 1 \)), <b>intercept</b> \( \mu \in \mathbb{Z} \) and <b>thickness</b> \( \omega \in \mathbb{Z} \), which is conveniently denoted by \( D(a,b,\mu,\omega) \), is the set of digital points \( (x,y) \in \mathbb{Z}^2 \) such that \( \mu \leq ax - by &lt; \mu + \omega \) [Reveilles, 1991 : <a class="el" href="citelist.html#CITEREF_Reveilles_1991_thesis">[38]</a>].</p>
<p>Any DSL such that \( \omega = \max(|a|,|b|) \) (resp. \( \omega = |a| + |b| \)) is said to be naive (resp. standard) and is simply 8-connected (resp. 4-connected) [Reveilles, 1991 : <a class="el" href="citelist.html#CITEREF_Reveilles_1991_thesis">[38]</a>].</p>
<p>For instance, the naive DSL \( D(2,5,0,5) \) is depicted below: </p><div class="image">
<img src="NaiveDSL.png" alt="NaiveDSL.png"/>
<div class="caption">
Example of Naive DSL</div></div>
<p>The standard DSL \( D(2,5,0,7) \) is thicker: </p><div class="image">
<img src="StandardDSL.png" alt="StandardDSL.png"/>
<div class="caption">
Standard DSL of same slope and same intercept</div></div>
<p>From now on, let us assume that \( \omega \) is either equal to \(\max(|a|,|b|) \) (naive case) or to \( |a| + |b| \) (standard case). Then, any DSL is merely denoted by \( D(a,b,\mu) \).</p>
<h2><a class="anchor" id="moduleArithDSSReco-DSL-Ex"></a>
Short example</h2>
<p>A naive DSL can be declared and constructed as follows: </p><div class="fragment"><div class="line">  <span class="comment">// Construct a naive DSL from a, b, mu</span></div>
<div class="line">  NaiveDSL&lt;Integer&gt; line( 2, 5, 0 ); </div>
</div><!-- fragment --><p> Then, within a window defined by two points (called firstPoint and lastPoint below), you can iterate over the DSL points: </p><div class="fragment"><div class="line">  <span class="comment">// Draw the DSL points between firstPoint and lastPoint</span></div>
<div class="line">  <span class="keywordflow">for</span> ( NaiveDSL&lt;Integer&gt;::ConstIterator </div>
<div class="line">          it = line.begin(firstPoint), </div>
<div class="line">          ite = line.end(lastPoint);</div>
<div class="line">        it != ite; ++it )</div>
<div class="line">    {</div>
<div class="line">      board &lt;&lt; SetMode( it-&gt;className(), <span class="stringliteral">&quot;Paving&quot;</span> )</div>
<div class="line">            &lt;&lt; *it; <span class="comment">//Draw the point</span></div>
<div class="line">    }</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>Note the difference of semantic between method <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a907bf1e6b305bbcd93000525ca6c67a3">ArithmeticalDSL.begin()</a>, which returns an iterator pointing to the input point, and method <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a1e8dd45ccd0699f3603fc23ab7348ef0">ArithmeticalDSL.end()</a>, which returns an iterator pointing <b>past</b> to the input point.</dd></dl>
<p>In the standard case, it is enough to replace <b>Naive</b> by <b>Standard</b>. </p><div class="fragment"><div class="line">  <span class="comment">// Construct a standard DSL from a, b, mu</span></div>
<div class="line">  StandardDSL&lt;Integer&gt; line( 2, 5, 0 ); </div>
</div><!-- fragment --><p> In order to use classes <a class="el" href="classDGtal_1_1NaiveDSL.html" title="Aim: This class is an alias of ArithmeticalDSS for naive DSL. It represents a naive digital straight ...">NaiveDSL</a> and <a class="el" href="classDGtal_1_1StandardDSL.html" title="Aim: This class is an alias of ArithmeticalDSS for standard DSL. It represents a standard digital str...">StandardDSL</a>, you must include the following file: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/geometry/curves/ArithmeticalDSL.h&quot;</span></div>
</div><!-- fragment --><p> Classes <a class="el" href="classDGtal_1_1NaiveDSL.html" title="Aim: This class is an alias of ArithmeticalDSS for naive DSL. It represents a naive digital straight ...">NaiveDSL</a> and <a class="el" href="classDGtal_1_1StandardDSL.html" title="Aim: This class is an alias of ArithmeticalDSS for standard DSL. It represents a standard digital str...">StandardDSL</a> are both aliases of the class <a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a>, which represents either a naive or a standard DSL. It gathers the generic code that represents a DSL in any octant.</p>
<h2><a class="anchor" id="moduleArithDSSReco-DSL-Orientation"></a>
Orientation</h2>
<p>The arithmetical representation \( (a, b, \mu) \) is redondant. Exactly two representations describe one DSL. For instance, \( D(2,5,0) \) and \( D(-2,-5,-5) \) corresponds to the same set of points. This representation is thus interesting, since it includes an orientation preferably chosen to iterate over the DSL points from any point belonging to the DSL. </p><div class="image">
<img src="StandardDSL.png" alt="StandardDSL.png"/>
<div class="caption">
D(2,5,0) and D(-2,-5,-5) represents the same set of points</div></div>
<dl class="section note"><dt>Note</dt><dd>Note that you must use method <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a5e0e4c79d6b3bf02789883a65df1cc2a">ArithmeticalDSL.negate()</a> to get a representation from another one. Note also that method <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a0dbb02ee1564ad4885eea7cddbde54d6">ArithmeticalDSL.equalsTo()</a> compare two representations and returns 'true' iff the parameters \( a, b \) and \( \mu \) of the two representations are equal. However, the equality operator <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#aa2c13f55c3b6eeab458d2d2472dd0b36">ArithmeticalDSL.operator==</a> compare two sets of points and returns 'true' iff the two sets of points are equal, whatever the orientation.</dd></dl>
<h2><a class="anchor" id="moduleArithDSSReco-DSL-Members"></a>
Data members</h2>
<p><a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a> stores as data members not only the parameters \( a, b \) and \( \mu \), but also redondant parameters described below. These extra parameters are useful to efficiently iterate over the DSL points.</p>
<ul>
<li>myA of type <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#ae694c0b4c1dab86eb1fb7a78ffc96e39">ArithmeticalDSL::Coordinate</a>: \( a \) -parameter of the DSL, (equal to the y-component of the direction vector).</li>
<li>myB of type <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#ae694c0b4c1dab86eb1fb7a78ffc96e39">ArithmeticalDSL::Coordinate</a>: \( b \) -parameter of the DSL, (equal to the x-component of the direction vector).</li>
<li>myLowerBound of type <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a532df7f0b3b5bc27d5189114a4b33b96">ArithmeticalDSL::Integer</a>: \( \mu \) -parameter of the DSL that defines the <b>lower</b> <b>leaning</b> <b>line</b> \( ax - by = \mu \).</li>
<li>myUpperBound of type <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a532df7f0b3b5bc27d5189114a4b33b96">ArithmeticalDSL::Integer</a>: integer equal to \( \mu + \omega - 1 \) that defines the <b>upper</b> <b>leaning</b> <b>line</b>.</li>
<li>myShift of type <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a20707ddf87c3b55d3fdb2f6ee86320d3">ArithmeticalDSL::Vector</a>: vector \( s \) that translates any point of remainder \( r = ax - by \) to a point of remainder \( r + \omega \). Note that \( s \) is equal to 0 if \( \omega = 0 \), ie. if \( a \) and \( b \) are both null.</li>
<li>mySteps of type <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a381082e991db1a7ff272c0c7a68a0396">ArithmeticalDSL::Steps</a> (STL pair of Vector): couple of vectors \( v \) and \( w \) used to iterate over the DSL points so that a given DSL point \( p \) is followed by its unique neighbor point \( q \) belonging to the DSL in the orientation given by \( a \) and \( b \). Obviously, these two vectors are equal to 0 in the invalid case where \( \omega = 0 \). Moreover, the first vector is equal to the direction vector, while the second one is equal to 0, if \( \omega = 1 \), ie. if the lower leaning line and the upper leaning line are counfounded. Though, in the general case, the first vector translates any point \( p \) of remainder \( r \) to its neighbor point \( q \) of remainder greater than or equal to \( r \), while the second one is such that \( v - w = s \).</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Data member myShift (resp. mySteps) is computed with respect to myA and myB in <a class="el" href="structDGtal_1_1ArithmeticalDSLKernel.html#ae57c3c03da193f97ada09b39f42d23ee">ArithmeticalDSLKernel::steps()</a> (resp. <a class="el" href="structDGtal_1_1ArithmeticalDSLKernel.html#aca1e2b6438120978c88649f7994c5e43">ArithmeticalDSLKernel::shift()</a>). <a class="el" href="structDGtal_1_1ArithmeticalDSLKernel.html" title="Aim: Small class that contains the code that depends on the arithmetical thickness (either naive or s...">ArithmeticalDSLKernel</a> contains the part of the code that depends on the arithmetical thickness (either naive or standard).</dd></dl>
<p>Below, three naive DSLs are depicted in the first three octants. Vectors mySteps.first ( \( v \)), mySteps.second ( \( w \)) and myShift ( \( s \)), are repectively depicted in blue, green and red. The two vectors of the orthonormal basis are depicted in black.</p>
<div class="image">
<img src="ArithmeticalDSL-8-0-5-8.png" alt="ArithmeticalDSL-8-0-5-8.png"/>
<div class="caption">
Naive DSL D(5,8,0)</div></div>
<div class="image">
<img src="ArithmeticalDSL-8-1-8-5.png" alt="ArithmeticalDSL-8-1-8-5.png"/>
<div class="caption">
Naive DSL D(8,5,0)</div></div>
<div class="image">
<img src="ArithmeticalDSL-8-2-8-m5.png" alt="ArithmeticalDSL-8-2-8-m5.png"/>
<div class="caption">
Naive DSL D(8,-5,0)</div></div>
<p>Other octants and specific cases are generated in <a class="el" href="exampleArithmeticalDSL_8cpp_source.html">exampleArithmeticalDSL.cpp</a>.</p>
<h2><a class="anchor" id="moduleArithDSSReco-DSL-Features"></a>
Main features</h2>
<p><a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a> is a model of CPointFunctor, ie. it has a function operator ArithmeticalDSL.operator() that returns 'true' iff the input point belongs to the DSL. Note that a point \( (x,y) \) belongs to the DSL iff its remainder \( ax - by \) lies between \( \mu \) (included) and \( \mu + \omega \) (excluded). Method <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#af05038708b1de5961aa62e8a6ae75b9a">ArithmeticalDSL.remainder()</a> returns the remainder of any input point.</p>
<p>On the other hand, there is a one-to-one mapping between a DSL point and its position in the DSL. For instance, for each x-coordinate \( x \), there is one and only one point \( (x,y) \in \mathbb{Z}^2 \) that belongs to the <b>naive</b> DSL \( D(2,5,0) \). Similarly, for each value \( x+y \), there is one and only one point \( (x,y) \in \mathbb{Z}^2 \) that belongs to the <b>standard</b> DSL \( D(2,5,0) \). Method <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a77663eb32bf5e3fbc014e47aab5fd769">ArithmeticalDSL.position()</a> returns the position of any input point, whereas method <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#af6df5d190d63b2e59b84bd4e40724a66">ArithmeticalDSL.getPoint()</a> returns the point located at the specified position. Methods <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#aee33f6007e464c1ba8df0e465ac9b5c7">ArithmeticalDSL.before()</a> and <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a00dcdbe7f61a3fcabcfab3880322120a">ArithmeticalDSL.beforeOrEqual()</a> provide a way of comparing the position of two given points, with respect to the orientation given by \( a \) and \( b \).</p>
<p><a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a> also provides services to iterate over the DSL points from any point belonging to the DSL. <a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a> is a model of <a class="el" href="structDGtal_1_1CConstBidirectionalRange.html" title="Aim: Defines the concept describing a bidirectional const range. ">CConstBidirectionalRange</a> that has inner types called <a class="el" href="classDGtal_1_1ArithmeticalDSL_1_1ConstIterator.html" title="Aim: This class aims at representing an iterator that provides a way to scan the points of a DSL...">ArithmeticalDSL::ConstIterator</a> and <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#aa0d224bda6f569f22b3836ad86e67279">ArithmeticalDSL::ConstReverseIterator</a>, both models of readable iterator and random access iterator. The reader may have a look at the increment and decrement operator of <a class="el" href="classDGtal_1_1ArithmeticalDSL_1_1ConstIterator.html" title="Aim: This class aims at representing an iterator that provides a way to scan the points of a DSL...">ArithmeticalDSL::ConstIterator</a> (ie. <a class="el" href="classDGtal_1_1ArithmeticalDSL_1_1ConstIterator.html#ade0811784ecc88a06bc2ccb735e98455">ArithmeticalDSL::ConstIterator.increment</a> and <a class="el" href="classDGtal_1_1ArithmeticalDSL_1_1ConstIterator.html#abe3d337e0a527b8ffcb612403bae3101">ArithmeticalDSL::ConstIterator.decrement</a>) to see that the code is generic.</p>
<p>We list below the main methods of <a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a>:</p><ul>
<li>accessors to data members:<ul>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a04ba8ec9573282123284ca3b9bbd5f57">ArithmeticalDSL::a()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a69b4698e22d4449527cefd02525dc8a5">ArithmeticalDSL::b()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#aa4b3c62a3a89b4fdfd5bbe682fdedfd2">ArithmeticalDSL::mu()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a61c9212408055bf0e14862cc679bf765">ArithmeticalDSL::omega()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a33e823d2fb14ee0e49e2fcab81caab2e">ArithmeticalDSL::shift()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#af516dcbf560fc5ab79f7e5c4192837af">ArithmeticalDSL::steps()</a></li>
</ul>
</li>
<li>iteration services<ul>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a898561bd054f214f95de2e6e17d935c9">ArithmeticalDSS::begin()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae4a49c42919959e9486a373fdf4f844f">ArithmeticalDSS::end()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a4ec95584411c30344d223eaaf8c3340e">ArithmeticalDSS::rbegin()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ac9a7fdb506fef82c8fdfe417f703733d">ArithmeticalDSS::rend()</a></li>
</ul>
</li>
<li>helpers<ul>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a5e0e4c79d6b3bf02789883a65df1cc2a">ArithmeticalDSL::negate()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#af05038708b1de5961aa62e8a6ae75b9a">ArithmeticalDSL::remainder()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#ada2345503415b3b841d75282d1d347da">ArithmeticalDSL::isInDSL()</a> (called in ArithmeticalDSL::operator())</li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a77663eb32bf5e3fbc014e47aab5fd769">ArithmeticalDSL::position()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#aee33f6007e464c1ba8df0e465ac9b5c7">ArithmeticalDSL::before()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a00dcdbe7f61a3fcabcfab3880322120a">ArithmeticalDSL::beforeOrEqual()</a></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="moduleArithDSSReco-DSL-Overflows"></a>
Avoiding overflows</h2>
<p>You may have noticed that myLowerBound ( \( \mu \)) is a member of type <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a532df7f0b3b5bc27d5189114a4b33b96">ArithmeticalDSL::Integer</a>, whereas myA ( \( a \)) and myB ( \( b \)) are members of type <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#ae694c0b4c1dab86eb1fb7a78ffc96e39">ArithmeticalDSL::Coordinate</a>. For any lower leaning point of coordinates \( (x, y) \) such that \( ax - by = \mu \), myLowerBound may require \( 2n+1 \) bits if \( a \) and \( b \) are stored with \( n \) bits. Therefore, <a class="el" href="classDGtal_1_1NaiveDSL.html" title="Aim: This class is an alias of ArithmeticalDSS for naive DSL. It represents a naive digital straight ...">NaiveDSL</a> and <a class="el" href="classDGtal_1_1StandardDSL.html" title="Aim: This class is an alias of ArithmeticalDSS for standard DSL. It represents a standard digital str...">StandardDSL</a> have not only one template parameter, but two. The first one for the coordinates and the slope, the second one, which should represent a larger domain of integers, for the intercepts and the remainders.</p>
<p>You can set the second template parameter as follows in order to avoid any overflow:</p>
<div class="fragment"><div class="line">  NaiveDSL&lt;DGtal::int16_t, DGtal::int32_t&gt; line2( 17711, 28657, 1607895256 ); </div>
<div class="line">  <span class="comment">//NB: 1 607 895 256 is the remainder of the point (32 767,-32 767), </span></div>
<div class="line">  <span class="comment">//whose coordinates are representable by the type DGtal::int16_t</span></div>
<div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#ad054990834d2763627166540087a2980">info</a>() &lt;&lt; line2 &lt;&lt; line2.isValid(); <span class="comment">//ok </span></div>
</div><!-- fragment --><p> Note that an instance of <a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a> is valid iff parameters \( a \) and \( b \) are not both null, are relatively prime, and all the redondant parameters are consistents (see <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#af78d3b3848832aa9a3acd289b25c45fd">ArithmeticalDSL.isValid()</a> and <a class="el" href="classDGtal_1_1ArithmeticalDSL.html#a0de152e562243dee3201b9e8fdaf2ce6">ArithmeticalDSL.checkShiftAndSteps()</a>).</p>
<h2><a class="anchor" id="moduleArithDSSReco-DSL-Further"></a>
To go further</h2>
<p>In order to perform operations on the continued fraction expansion of the slope, you may consider the usage of the class <a class="el" href="classDGtal_1_1StandardDSLQ0.html">StandardDSLQ0</a> (see <a class="el" href="moduleDigitalStraightness.html">Patterns, digital straight lines and subsegments</a>). The main differences between <a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a> and <a class="el" href="classDGtal_1_1StandardDSLQ0.html">StandardDSLQ0</a> are listed below:</p>
<table class="doxtable">
<tr>
<th>Class </th><th>-ArithmeticalDSL- </th><th>-StandardDSLQ0-  </th></tr>
<tr>
<td>Slope representation </td><td>two signed integers </td><td>an irreductible fraction, whose type is a model of <a class="el" href="structDGtal_1_1CPositiveIrreducibleFraction.html" title="Aim: Defines positive irreducible fractions, i.e. fraction p/q, p and q non-negative integers...">CPositiveIrreducibleFraction</a> </td></tr>
<tr>
<td>Orientation </td><td>any octant </td><td>first quadrant only </td></tr>
<tr>
<td>Thickness </td><td>naive and standard </td><td>standard only </td></tr>
</table>
<h1><a class="anchor" id="moduleArithDSSReco-DSS"></a>
Digital straight segments</h1>
<p>We have seen that the points of a DSL may be visited within a range bounded by two points. A <b>digital</b> <b>straight</b> <b>segment</b> (DSS) represents such a set of points.</p>
<h2><a class="anchor" id="moduleArithDSSReco-DSS-Ex"></a>
Short example</h2>
<p>A 8-connected naive DSS can be declared and constructed as follows: </p><div class="fragment"><div class="line">  <span class="comment">// Construct a naive DSS</span></div>
<div class="line">  NaiveDSS8&lt;Integer&gt; segment( 5, 8,                   <span class="comment">//slope</span></div>
<div class="line">                              Point(0,0), Point(8,5), <span class="comment">//ending points </span></div>
<div class="line">                              Point(0,0), Point(8,5), <span class="comment">//upper points</span></div>
<div class="line">                              Point(3,1), Point(3,1)  <span class="comment">//lower points</span></div>
<div class="line">                              );</div>
</div><!-- fragment --><p> You can iterate over the whole set of DSS points as follows: </p><div class="fragment"><div class="line">  <span class="comment">// Trace the position and remainder of each point</span></div>
<div class="line">  <span class="keywordflow">for</span> (NaiveDSS8&lt;Integer&gt;::ConstIterator </div>
<div class="line">         it = segment.begin(), </div>
<div class="line">         ite = segment.end(); </div>
<div class="line">       it != ite; ++it )</div>
<div class="line">    {</div>
<div class="line">      <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#ad054990834d2763627166540087a2980">info</a>() &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> </div>
<div class="line">                   &lt;&lt; segment.position( *it ) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span></div>
<div class="line">                   &lt;&lt; segment.remainder( *it ) </div>
<div class="line">                   &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>; </div>
<div class="line">    }</div>
</div><!-- fragment --><p> In addition, you can draw either the points of a DSS or its bounding box with <a class="el" href="classDGtal_1_1Board2D.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (with <<)...">Board2D</a> (there are two drawing modes: "Points" and "BoundingBox"). </p><div class="fragment"><div class="line">  Board2D board;</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Draw the grid</span></div>
<div class="line">  <a class="code" href="namespaceDGtal_1_1Z2i.html#aca523bebdae58eb19385aaefffff8bc5">Domain</a> domain( Point(0,0), Point(8,5) );</div>
<div class="line">  board &lt;&lt; SetMode(domain.className(), <span class="stringliteral">&quot;Grid&quot;</span>)</div>
<div class="line">        &lt;&lt; domain;    </div>
<div class="line">  </div>
<div class="line">  <span class="comment">//Draw the points of the DSS</span></div>
<div class="line">  board &lt;&lt; SetMode(<span class="stringliteral">&quot;PointVector&quot;</span>, <span class="stringliteral">&quot;Both&quot;</span>);</div>
<div class="line">  board &lt;&lt; SetMode(segment.className(), <span class="stringliteral">&quot;Points&quot;</span>) </div>
<div class="line">        &lt;&lt; segment;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Draw the bounding box</span></div>
<div class="line">  board &lt;&lt; SetMode(segment.className(), <span class="stringliteral">&quot;BoundingBox&quot;</span>) </div>
<div class="line">        &lt;&lt; segment;</div>
</div><!-- fragment --><p> The result of this short example taken from <a class="el" href="exampleArithmeticalDSS_8cpp_source.html">exampleArithmeticalDSS.cpp</a> is presented below:</p>
<div class="image">
<img src="NaiveDSS8.png" alt="NaiveDSS8.png"/>
<div class="caption">
A simply 8-connected naive DSS with its bounding box</div></div>
<p>See <a class="el" href="moduleBoard2D.html">Board2D: a stream mechanism for displaying 2D digital objects</a> to read more about the drawing mechanism.</p>
<p>Similarly, in the standard case, you may write: </p><div class="fragment"><div class="line">  <span class="comment">// Construct a standard DSS</span></div>
<div class="line">  StandardDSS4&lt;Integer&gt; segment( 5, 8,                   <span class="comment">//slope</span></div>
<div class="line">                                 Point(0,0), Point(8,5), <span class="comment">//ending points </span></div>
<div class="line">                                 Point(0,0), Point(8,5), <span class="comment">//upper points</span></div>
<div class="line">                                 Point(4,1), Point(4,1)  <span class="comment">//lower points</span></div>
<div class="line">                                 );</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>According to the drawing mode that is chosen for the <b>points</b>, the DSS points can be either drawn as a sequence of edge-connected squares ("Paving" or "Both" mode) or as a polygonal line ("Grid" mode).</dd></dl>
<div class="image">
<img src="StandardDSS4bis.png" alt="StandardDSS4bis.png"/>
<div class="caption">
A simply 4-standard DSS with its bounding box</div></div>
<div class="image">
<img src="StandardDSS4.png" alt="StandardDSS4.png"/>
<div class="caption">
Another view of the same DSS</div></div>
<p>In order to use classes <a class="el" href="classDGtal_1_1NaiveDSS8.html" title="Aim: This class represents a standard digital straight segment (DSS), ie. the sequence of simply 8-co...">NaiveDSS8</a> and <a class="el" href="classDGtal_1_1StandardDSS4.html">StandardDSS4</a>, you must include the following file: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/geometry/curves/ArithmeticalDSS.h&quot;</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="moduleArithDSSReco-DSS-Features"></a>
Main features</h2>
<p>Classes <a class="el" href="classDGtal_1_1NaiveDSS8.html" title="Aim: This class represents a standard digital straight segment (DSS), ie. the sequence of simply 8-co...">NaiveDSS8</a> and <a class="el" href="classDGtal_1_1StandardDSS4.html">StandardDSS4</a> are both aliases of the class <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a>, which gathers the generic code to represent both a simply 8-connected sequence of points belonging to a naive DSL and a simply 4-connected sequence of points belonging to a standard DSL. As <a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a>, <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> is a model of CPointFunctor, ie. it has a function operator ArithmeticalDSS.operator() that returns 'true' iff the input point belongs to the DSS. As <a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a>, it provides services to iterate over the DSS points. Indeed, <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> is a model of <a class="el" href="structDGtal_1_1CConstBidirectionalRange.html" title="Aim: Defines the concept describing a bidirectional const range. ">CConstBidirectionalRange</a>. It has two inner types called <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a85cecf9843e48285ae3c25342c39f6f7">ArithmeticalDSS::ConstIterator</a> and <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a8c99c0366976313da68dc7a50592dcc7">ArithmeticalDSS::ConstReverseIterator</a>, which are both models of readable iterator and bidirectional iterator.</p>
<p>Obviously, a given DSS belongs to infinitely many DSLs, but one of them has minimal parameters, ie has a minimal \( \omega \). <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> uses this minimal bounding DSL to represent its slope and its intercept. Note that an instance of <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> is oriented with respect to the orientation of its minimal bounding DSL. In addition, <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> stores as data members not only its minimal bounding DSL, but also its ending points as well as the first and last lower and upper leaning points, due to the role that these points play in the recognition algorithm [Debled and Reveilles, 1995 : <a class="el" href="citelist.html#CITEREF_Debled_1995_ijprai">[20]</a>].</p>
<p>We list below the main methods of <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a>:</p><ul>
<li>accessor to the bounding DSL of minimal parameters<ul>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a87fd8358695b4352518fcb02ebc3cd0c">ArithmeticalDSS::dsl()</a></li>
</ul>
</li>
<li>iteration services<ul>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a898561bd054f214f95de2e6e17d935c9">ArithmeticalDSS::begin()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae4a49c42919959e9486a373fdf4f844f">ArithmeticalDSS::end()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a4ec95584411c30344d223eaaf8c3340e">ArithmeticalDSS::rbegin()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ac9a7fdb506fef82c8fdfe417f703733d">ArithmeticalDSS::rend()</a></li>
</ul>
</li>
<li>accessors to ending and leaning points<ul>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae30d23d8eb1444138a414b0f6040fdbf">ArithmeticalDSS::back()</a> (equal to the first point of the range, ie. * <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a898561bd054f214f95de2e6e17d935c9">ArithmeticalDSS::begin()</a>)</li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a848e599737dc3312fb977b0ea53c247c">ArithmeticalDSS::front()</a> (equal to the last point of the range, ie. * - - <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae4a49c42919959e9486a373fdf4f844f">ArithmeticalDSS::end()</a>)</li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a42fcb2930331fcb427836db5198f5e12">ArithmeticalDSS::Uf()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a546a1a44257146aa0aa59f0899b3e8f3">ArithmeticalDSS::Ul()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a6c34329757c9b8ae94ab8fee0ee1531a">ArithmeticalDSS::Lf()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a084ba694cd7da41f6e75f5ea3d745d8f">ArithmeticalDSS::Ll()</a></li>
</ul>
</li>
<li>helpers<ul>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ad6b7e498107934dcffc877f7ce8c8990">ArithmeticalDSS::negate()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ad6783dde45bf6fa41ca86b8c201c0a75">ArithmeticalDSS::isInDSS()</a> (called in ArithmeticalDSS::operator())</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Note that the first lower leaning point, the last lower leaning point and the first (or last) upper leaning points are always clockwise-oriented. In other words, with respect to the orientation of the bounding DSL (and its parameters \( a \) and \( b \)), the lower leaning points are always on the left, while the upper leaning points are always on the right of the bounding DSL. This invariant is an important feature of <a class="el" href="classDGtal_1_1ArithmeticalDSL.html" title="Aim: This class represents a naive (resp. standard) digital straight line (DSL), ie. the set of digital points  such that  with ,  and  (resp. ). Note that any DSL such that  (resp. ) is simply 8-connected (resp. 4-connected). ">ArithmeticalDSL</a> and <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> that may be used to link DSS leaning points and convex hull vertices in a convex part. It is used in the computation of the <b>Faithful</b> <b>Polygon</b> (<a class="el" href="classDGtal_1_1FP.html" title="Aim: Computes the faithful polygon (FP) of a range of 4/8-connected 2D Points. ">FP</a>) [Roussillon and Sivignon, 2011 : <a class="el" href="citelist.html#CITEREF_RoussillonSivignonPR2011">[41]</a>].</dd></dl>
<h2><a class="anchor" id="moduleArithDSSReco-DSS-Ctors"></a>
Different ways of constructing DSSs</h2>
<p>You can construct a DSS by specifying the value of all its data members. Though, the resulting DSS may be not valid and you should test its validity before using it. An instance of <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> is valid iff the DSL parameters, the ending points and the leaning points are consistent. To check if these redondant data members are consistents, some functions are defined in the namespace ArithmeticalDSSCheck. For instance,</p><ul>
<li>function ArithmeticalDSSCheck::checkPointsRemainder compares the remainder of the leaning and ending points to the parameters of the minimal bounding DSL.</li>
<li>function ArithmeticalDSSCheck::checkPointsPosition compares the position of the leaning and ending points to the parameters of the minimal bounding DSL.</li>
</ul>
<p>There are four extra ways of constructing an instance of <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a>:</p><ul>
<li>from the minimal set of data members required to build the DSS in constant time. <div class="fragment"><div class="line">    <span class="comment">// Custom a naive DSS </span></div>
<div class="line">    NaiveDSS8&lt;Integer&gt; segment( 5, 8,                   <span class="comment">//slope</span></div>
<div class="line">                                Point(0,0), Point(8,5), <span class="comment">//ending points </span></div>
<div class="line">                                Point(0,0), Point(8,5), <span class="comment">//upper points</span></div>
<div class="line">                                Point(3,1), Point(3,1)  <span class="comment">//lower points</span></div>
<div class="line">                                );</div>
<div class="line">    <span class="comment">//You should be sure that your object is valid before using it</span></div>
<div class="line">    <span class="keywordflow">if</span> (!segment.isValid()) <span class="keywordflow">throw</span> std::exception(); </div>
</div><!-- fragment --></li>
<li>from two points, considered either as two upper or two lower leaning points. The construction runs in logarithmic-time (because of the computation of the irreductible slope and the computation of the opposite leaning points). <div class="fragment"><div class="line">    <span class="comment">// Construct a naive DSS from two upper leaning points</span></div>
<div class="line">    NaiveDSS8&lt;Integer&gt; segment( Point(0,0), Point(8,5), <span class="keyword">true</span> ); </div>
<div class="line">    <span class="comment">//or simply NaiveDSS8&lt;Integer&gt; segment( Point(0,0), Point(8,5) ); </span></div>
</div><!-- fragment --><div class="fragment"><div class="line">    <span class="comment">// Construct a naive DSS from two lower leaning points</span></div>
<div class="line">    NaiveDSS8&lt;Integer&gt; segment( Point(0,0), Point(8,5), <span class="keyword">false</span> ); </div>
</div><!-- fragment --></li>
<li>as a subsegment of a given DSL. The construction is based on the smartCH algorithm and runs in logarithmic-time [Roussillon 2014 : <a class="el" href="citelist.html#CITEREF_RoussillonDGCI2014">[42]</a>]. <div class="fragment"><div class="line">    <span class="comment">// Construct a naive DSS as a DSL subsegment</span></div>
<div class="line">    NaiveDSS8&lt;Integer&gt; segment( NaiveDSL&lt;Integer&gt;(5,8,0), Point(0,0), Point(8,5) ); </div>
</div><!-- fragment --></li>
<li>from a sequence of simply connected points. The construction runs in linear-time, using the recognition algorithm of [Debled and Reveilles, 1995 : <a class="el" href="citelist.html#CITEREF_Debled_1995_ijprai">[20]</a>], which is detailed in the next section. <div class="fragment"><div class="line">    <span class="comment">// Construct a DSS from a range of points  </span></div>
<div class="line">    NaiveDSS8&lt;Integer&gt; segment( r.begin(), r.end() );</div>
</div><!-- fragment --> </li>
</ul>
<h1><a class="anchor" id="moduleArithDSSReco-DSSRec"></a>
Recognition of digital straight segments</h1>
<p>[Debled and Reveilles, 1995 : <a class="el" href="citelist.html#CITEREF_Debled_1995_ijprai">[20]</a>] present an algorithm to incrementally recognize a naive DSS. Even if their algorithm originally deals with naive DSSs only, it is trivial to extend it to standard DSSs.</p>
<h2><a class="anchor" id="moduleArithDSSReco-DSSRec-Extension"></a>
Extension</h2>
<p>Let us assume that we have a DSS \( S \). The problem consists in deciding whether the union between \( S \) and a point \( M \) is still a DSS or not. If it is a DSS, we want to have the parameters of the bounding DSL of minimal parameters. The point \( M \) is assumed to be simply connected to the front (resp. back) point of \( S \). <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> provides two methods for this purpose: <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae73dc5dc84c087877ef1fd6af323fd59">ArithmeticalDSS::extendFront()</a> (resp. <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a6e4a8f4ddcf27b6cf0c92dd3599e9a8d">ArithmeticalDSS::extendBack()</a>), based on [Debled and Reveilles, 1995 : <a class="el" href="citelist.html#CITEREF_Debled_1995_ijprai">[20]</a>].</p>
<p>Method <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae2ae7882d9cf474a0986bb9285d4c06d">ArithmeticalDSS::isExtendableFront()</a> (resp. <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#aa9ee35ed42e8658127343f748314e3db">ArithmeticalDSS::isExtendableBack()</a>), tells if \( S \cup M \) is still a DSS and how to update \( S \) in this case, whereas method <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae73dc5dc84c087877ef1fd6af323fd59">ArithmeticalDSS::extendFront()</a> (resp. <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a6e4a8f4ddcf27b6cf0c92dd3599e9a8d">ArithmeticalDSS::extendBack()</a>) calls method <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae2ae7882d9cf474a0986bb9285d4c06d">ArithmeticalDSS::isExtendableFront()</a> (resp. <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#aa9ee35ed42e8658127343f748314e3db">ArithmeticalDSS::isExtendableBack()</a>) and performs the update accordingly.</p>
<dl class="section note"><dt>Note</dt><dd>Only <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae2ae7882d9cf474a0986bb9285d4c06d">ArithmeticalDSS::isExtendableFront()</a> and <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae73dc5dc84c087877ef1fd6af323fd59">ArithmeticalDSS::extendFront()</a> share the implementation of the recognition algorithm. <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#aa9ee35ed42e8658127343f748314e3db">ArithmeticalDSS::isExtendableBack()</a> and <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a6e4a8f4ddcf27b6cf0c92dd3599e9a8d">ArithmeticalDSS::extendBack()</a> respectively calls <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae2ae7882d9cf474a0986bb9285d4c06d">ArithmeticalDSS::isExtendableFront()</a> and <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae73dc5dc84c087877ef1fd6af323fd59">ArithmeticalDSS::extendFront()</a> after having negated the DSS representation (see <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ad6b7e498107934dcffc877f7ce8c8990">ArithmeticalDSS::negate()</a>).</dd></dl>
<p>Let us consider that \( S \) and \( M \) are defined as follows: </p><div class="fragment"><div class="line">  Point M(11, 7); </div>
<div class="line">  NaiveDSS8&lt;Integer&gt; S( 5, 8,       <span class="comment">//slope </span></div>
<div class="line">                        Point(0,0), Point(10,6), <span class="comment">//ending points </span></div>
<div class="line">                        Point(0,0), Point(8,5), <span class="comment">//upper points</span></div>
<div class="line">                        Point(3,1), Point(3,1)  <span class="comment">//lower points</span></div>
<div class="line">                        );</div>
</div><!-- fragment --> <div class="image">
<img src="NaiveDSS8ExtInit.png" alt="NaiveDSS8ExtInit.png"/>
<div class="caption">
Extension to the red point</div></div>
<p>The extention is simply done as follows: </p><div class="fragment"><div class="line">  <span class="keywordtype">bool</span> resExtention = S.extendFront( M ); </div>
</div><!-- fragment --><p> In this case, the return value is true and the resulting DSS is: </p><div class="image">
<img src="NaiveDSS8ExtDone.png" alt="NaiveDSS8ExtDone.png"/>
<div class="caption">
Extended DSS</div></div>
<h2><a class="anchor" id="moduleArithDSSReco-DSSRec-Retraction"></a>
Retraction</h2>
<p><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> can also perform the converse operation, ie. removing the front (resp. back) point of a given DSS \( S \) and computing the parameters of the resulting DSS [Feschet and Tougne, 1999 : <a class="el" href="citelist.html#CITEREF_FeschetTougneDGCI1999">[22]</a>] [Lachaud et. al., 2007 : <a class="el" href="citelist.html#CITEREF_LachaudIVC2007">[26]</a>].</p>
<p>For instance, the following code just undoes the previous extension: </p><div class="fragment"><div class="line">  <span class="keywordtype">bool</span> resRetraction = S.retractFront(); </div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a619ab2bab18c6967df376858ad6a25aa">ArithmeticalDSS::retractFront()</a> reverts the extension performed by <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae73dc5dc84c087877ef1fd6af323fd59">ArithmeticalDSS::extendFront()</a> to the front of the DSS. Conversely, <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#aaf1473297c53a47ac348e31e4ea6454a">ArithmeticalDSS::retractBack()</a> reverts the extension performed by <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a6e4a8f4ddcf27b6cf0c92dd3599e9a8d">ArithmeticalDSS::extendBack()</a> to the back of the DSS. You can keep in mind the following diagram to remember the rationale of the methods name. <div class="image">
<img src="BackFrontFigure.png" alt="BackFrontFigure.png"/>
<div class="caption">
Operations applied to the back and front of a DSS</div></div>
</dd></dl>
<p>To sum up, we list below the update methods of <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a>:</p><ul>
<li>extension tests:<ul>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae2ae7882d9cf474a0986bb9285d4c06d">ArithmeticalDSS::isExtendableFront()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#aa9ee35ed42e8658127343f748314e3db">ArithmeticalDSS::isExtendableBack()</a></li>
</ul>
</li>
<li>extension:<ul>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#ae73dc5dc84c087877ef1fd6af323fd59">ArithmeticalDSS::extendFront()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a6e4a8f4ddcf27b6cf0c92dd3599e9a8d">ArithmeticalDSS::extendBack()</a></li>
</ul>
</li>
<li>retraction:<ul>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#a619ab2bab18c6967df376858ad6a25aa">ArithmeticalDSS::retractFront()</a></li>
<li><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html#aaf1473297c53a47ac348e31e4ea6454a">ArithmeticalDSS::retractBack()</a></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="moduleArithDSSReco-DSSRec-Computers"></a>
NaiveDSS8Computer and StandardDSS4Computer</h2>
<p><a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> is an arithmetical representation of the DSS primitive. As we have just seen, some methods are available to update the representation in some cases. However, the <a class="el" href="packageGeometry.html">Geometry package</a> provides objects, called <b>segment</b> <b>computers</b>, devoted to the recognition of primitives (See <a class="el" href="moduleGridCurveAnalysis.html">Analysis of one-dimensional discrete structures</a>). In this framework, <a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html" title="Aim: This class is a wrapper around ArithmeticalDSS that is devoted to the dynamic recognition of dig...">ArithmeticalDSSComputer</a> is a wrapper around <a class="el" href="singletonDGtal_1_1ArithmeticalDSS.html" title="Aim: This class represents a naive (resp. standard) digital straight segment (DSS), ie. the sequence of simply 8- (resp. 4-)connected digital points contained in a naive (resp. standard) digital straight line (DSL) between two points of it. ">ArithmeticalDSS</a> devoted to the dynamic recognition of DSSs along any sequence of points. <a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html" title="Aim: This class is a wrapper around ArithmeticalDSS that is devoted to the dynamic recognition of dig...">ArithmeticalDSSComputer</a> has two aliases: <a class="el" href="classDGtal_1_1NaiveDSS8Computer.html">NaiveDSS8Computer</a> and <a class="el" href="classDGtal_1_1StandardDSS4Computer.html">StandardDSS4Computer</a>.</p>
<p>As a model of <a class="el" href="structDGtal_1_1CDynamicBidirectionalSegmentComputer.html" title="Aim: Defines the concept describing a dynamic and bidirectional segment computer, ie...">CDynamicBidirectionalSegmentComputer</a>, its main methods are:</p><ul>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#afeb5f56f9b0d7d0ef1be0ca58e83543e">ArithmeticalDSSComputer.init()</a></li>
<li>iteration services<ul>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#a49579fc592ad58ef792719ecb8b9bef0">ArithmeticalDSSComputer::begin()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#acd6600599e9af7d2d2d0ff11c17a0cf5">ArithmeticalDSSComputer::end()</a></li>
</ul>
</li>
<li>extension tests:<ul>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#a21e6c1fc56c21790609d05768f9b81e2">ArithmeticalDSSComputer::isExtendableFront()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#a1e9faff4651f5021e6ce69ee0898403c">ArithmeticalDSSComputer::isExtendableBack()</a></li>
</ul>
</li>
<li>extension:<ul>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#ab73f30352cadba398ae8e526974ec474">ArithmeticalDSSComputer::extendFront()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#ab1ef856b00dbbb900e450abdb99ed490">ArithmeticalDSSComputer::extendBack()</a></li>
</ul>
</li>
<li>retraction:<ul>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#a8fdf4ec3102394c4f5b86e1d8dee872a">ArithmeticalDSSComputer::retractFront()</a></li>
<li><a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#a550ad8bf204be891674785add8d9d83f">ArithmeticalDSSComputer::retractBack()</a></li>
</ul>
</li>
</ul>
<p>Moreover, <a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#a4509bedc16d5dc7bce057e0b578e5fd1">ArithmeticalDSSComputer::primitive()</a> returns an object of type <a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html#ab19587fa8a568d88514d3342dda50d76">ArithmeticalDSSComputer::Primitive</a> that is actually the current DSS.</p>
<p>Before using a DSS Computer, you must include the following header: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/geometry/curves/ArithmeticalDSSComputer.h&quot;</span></div>
</div><!-- fragment --><p> Then, you can construct a DSS computer as follows: </p><div class="fragment"><div class="line">  <span class="comment">// Container of digital points</span></div>
<div class="line">  <span class="keyword">typedef</span> std::vector&lt;Z2::Point&gt; Container;</div>
<div class="line">  <span class="comment">// Iterator on the container</span></div>
<div class="line">  <span class="keyword">typedef</span> Container::const_iterator ConstIterator;</div>
<div class="line">  <span class="comment">// StandardDSS4 computer</span></div>
<div class="line">  <span class="keyword">typedef</span> StandardDSS4Computer&lt;ConstIterator&gt; DSSComputer;  </div>
<div class="line">  <span class="comment">// Construction of the computer</span></div>
<div class="line">  DSSComputer theDSSComputer;    </div>
</div><!-- fragment --><p> The extention is simply done as follows: </p><div class="fragment"><div class="line">  <span class="comment">// Add points while it is possible</span></div>
<div class="line">  theDSSComputer.init( contour.begin() );</div>
<div class="line">  <span class="keywordflow">while</span> ( ( theDSSComputer.end() != contour.end() ) &amp;&amp;</div>
<div class="line">          ( theDSSComputer.extendFront() ) ) {}</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>You don't need to provide the next point, because <a class="el" href="classDGtal_1_1ArithmeticalDSSComputer.html" title="Aim: This class is a wrapper around ArithmeticalDSS that is devoted to the dynamic recognition of dig...">ArithmeticalDSSComputer</a> can access to the points by iterators.</dd></dl>
<p>Finally, you can get the resulting DSS as follows: </p><div class="fragment"><div class="line">  DSSComputer::Primitive theDSS = theDSSComputer.primitive();  </div>
</div><!-- fragment --><p> The whole example may be found in <a class="el" href="exampleArithmeticalDSSComputer_8cpp_source.html">exampleArithmeticalDSSComputer.cpp</a>. The use of <a class="el" href="classDGtal_1_1NaiveDSS8Computer.html">NaiveDSS8Computer</a> is quite similar. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 4 2014 12:48:10 for DGtal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
