<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DGtal: Manipulating Simple Mesh</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DGtal<span id="projectnumber">&#160;2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('moduleMesh.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Manipulating Simple Mesh </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Bertrand Kerautret</dd></dl>
<h1 class="doxsection"><a class="anchor" id="sectmoduleMesh1"></a>
Simple Mesh Class</h1>
<p>The aim of this class is to handle basic simple mesh mainly for basic tasks such as to import/export/display of digital surface. This class is able to deal with triangulated, quad or polygonal faces and can include specific colors to display faces. It also provides several static tools to generate simple shapes like tubular objects or the 3d surface from height map.</p>
<p>The mesh object stores explicitly the vertices and each face is represented as a list of vertex indices. <br  />
</p>
<h2 class="doxsection"><a class="anchor" id="subsect2moduleMesh"></a>
Mesh Construction</h2>
<p>To construct a <a class="el" href="classDGtal_1_1Mesh.html" title="Aim: This class is defined to represent a surface mesh through a set of vertices and faces....">Mesh</a> object you need first to include the associated header file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/shapes/Mesh.h&quot;</span></div>
</div><!-- fragment --><p>Then the mesh construction is very simple, for instance you start constructing an empty mesh input and specify if you want to store or not the vertex colors in the mesh:</p>
<div class="fragment"><div class="line">  <a class="code hl_class" href="classDGtal_1_1Mesh.html">Mesh&lt;Point&gt;</a> aMesh(<span class="keyword">true</span>);</div>
</div><!-- fragment --><p>Then you can add some vertices mesh:</p>
<div class="fragment"><div class="line">  aMesh.addVertex(<a class="code hl_typedef" href="testClone2_8cpp.html#a4075d279133f1952978300b7e135f83d">Point</a>(0,0,0));</div>
<div class="line">  aMesh.addVertex(<a class="code hl_typedef" href="testClone2_8cpp.html#a4075d279133f1952978300b7e135f83d">Point</a>(1,0,0));</div>
<div class="line">  aMesh.addVertex(<a class="code hl_typedef" href="testClone2_8cpp.html#a4075d279133f1952978300b7e135f83d">Point</a>(1,1,0));</div>
</div><!-- fragment --><p>and add some triangular/quad faces from the vertex indices:</p>
<div class="fragment"><div class="line">  aMesh.addTriangularFace(0, 1, 2, <a class="code hl_class" href="classDGtal_1_1Color.html">Color</a>(150,0,150,104));</div>
<div class="line">  aMesh.addQuadFace(6,5,4,3, <a class="code hl_variable" href="classDGtal_1_1Color.html#aa42bc87bfec756eee51bc6bcdcf2d92e">Color::Blue</a>);</div>
</div><!-- fragment --><p>You can also insert some polygonal faces by defining a vector containing the vertices of the face:</p>
<div class="fragment"><div class="line">  <a class="code hl_typedef" href="classDGtal_1_1Mesh.html#aaa2bd355404347218ab134f6b70b777c">Mesh&lt;Point&gt;::MeshFace</a> listIndex;</div>
<div class="line">  listIndex.push_back(7);</div>
<div class="line">  listIndex.push_back(8);</div>
<div class="line">  listIndex.push_back(9);</div>
<div class="line">  listIndex.push_back(10);</div>
<div class="line">  listIndex.push_back(11);</div>
<div class="line">  listIndex.push_back(12);</div>
<div class="line">  aMesh.<a class="code hl_function" href="classDGtal_1_1Mesh.html#a512479b977525241e1e15794e2c1480d">addFace</a>(listIndex, <a class="code hl_class" href="classDGtal_1_1Color.html">Color</a>(150,150,0,54));</div>
</div><!-- fragment --><p>An example of mesh construction is given here: <a class="el" href="mesh3DConstructionAndVisualisation_8cpp.html">mesh3DConstructionAndVisualisation.cpp</a> and will produce the following faces:</p>
<div class="image">
<img src="example3dMeshConstruction.png" alt=""/>
<div class="caption">
Simple example of 3D mesh construction.</div></div>
<h2 class="doxsection"><a class="anchor" id="subsect2moduleMeshIO"></a>
Mesh IO</h2>
<p>The <a class="el" href="classDGtal_1_1Mesh.html" title="Aim: This class is defined to represent a surface mesh through a set of vertices and faces....">Mesh</a> object is integrated in the main IO framework of <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a>. You can for instance display a <a class="el" href="classDGtal_1_1Mesh.html" title="Aim: This class is defined to represent a surface mesh through a set of vertices and faces....">Mesh</a> object directly through a <a class="el" href="classDGtal_1_1PolyscopeViewer.html">PolyscopeViewer</a> object:</p>
<div class="fragment"><div class="line">  viewer.<a class="code hl_function" href="classDGtal_1_1Display3D.html#a2702739c2f16eed817b35060d2bf3f29">drawColor</a>(<a class="code hl_class" href="classDGtal_1_1Color.html">Color</a>(150,0,0,254));</div>
<div class="line">  viewer &lt;&lt; aMesh;</div>
</div><!-- fragment --><p>(See complete example in <a class="el" href="mesh3DConstructionAndVisualisation_8cpp.html">mesh3DConstructionAndVisualisation.cpp</a>)</p>
<p>You can also export a mesh by using the <a class="el" href="structDGtal_1_1MeshWriter.html" title="Aim: Export a Mesh (Mesh object) in different format as OFF and OBJ).">MeshWriter</a> class given in the header file: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/shapes/Mesh.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;DGtal/io/writers/MeshWriter.h&quot;</span></div>
</div><!-- fragment --><p> and export it: </p><div class="fragment"><div class="line">  <span class="keywordtype">bool</span> isOK = aMesh &gt;&gt; <span class="stringliteral">&quot;test.off&quot;</span>;</div>
</div><!-- fragment --><p>The mesh import is also simple:</p>
<ul>
<li>First add the <a class="el" href="structDGtal_1_1MeshReader.html" title="Aim: Defined to import OFF and OFS surface mesh. It allows to import a Mesh object and takes into acc...">MeshReader</a> file: <div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/io/readers/MeshReader.h&quot;</span></div>
</div><!-- fragment --></li>
<li>import the mesh: <div class="fragment"><div class="line">  <a class="code hl_variable" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.info()&lt;&lt; <span class="stringliteral">&quot;importating done...&quot;</span>&lt;&lt; endl;</div>
<div class="line">  viewer &lt;&lt; anImportedMesh;</div>
</div><!-- fragment --></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="sectmoduleMesh2"></a>
Generating Basic Mesh</h1>
<p>The <a class="el" href="classDGtal_1_1Mesh.html" title="Aim: This class is defined to represent a surface mesh through a set of vertices and faces....">Mesh</a> class also provides some methods to generate shape mesh associated to tubular object or 3d surface from height map.</p>
<p>For instance you can first define the vector of the 3D skeleton points: </p><div class="fragment"><div class="line">  std::vector&lt;Z3i::RealPoint&gt; aSkeleton;</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(0.0, 0.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(10.0, 0.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(20.0, 0.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(30.0, 0.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(35.0, 5.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 10.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 20.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 30.0, 0.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 35.0, 5.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 40.0, 10.0));</div>
<div class="line">  aSkeleton.push_back(<a class="code hl_typedef" href="namespaceDGtal_1_1Z3i.html#a5f087066515ecd33cefd7bd080ef8114">Z3i::RealPoint</a>(40.0, 40.0, 20.0));</div>
</div><!-- fragment --><p>Then you can reconstruct a tubular mesh with a given radius: </p><div class="fragment"><div class="line">  <a class="code hl_class" href="classDGtal_1_1Mesh.html">Mesh&lt;Z3i::RealPoint&gt;</a> aMesh(<span class="keyword">true</span>);</div>
<div class="line">  <a class="code hl_function" href="classDGtal_1_1Mesh.html#afbcedad499d5dd249be7ffc715c610c1">Mesh&lt;Z3i::RealPoint&gt;::createTubularMesh</a>(aMesh, aSkeleton, 0.5, 0.2, <a class="code hl_variable" href="classDGtal_1_1Color.html#aa42bc87bfec756eee51bc6bcdcf2d92e">DGtal::Color::Blue</a>);</div>
</div><!-- fragment --><p>You will obtain such a tube display: </p><div class="image">
<img src="testMeshVisu3d.png" alt=""/>
<div class="caption">
Resulting mesh of tubular object.</div></div>
 <p>Another example is given in <a class="el" href="testMesh_8cpp.html">testMesh.cpp</a> which generates an height field from a sequence of height values. In the same way than the previous example, you can construct your input height vector:</p>
<div class="fragment"><div class="line">  std::vector&lt;double&gt; heightSequence;</div>
<div class="line">  heightSequence.push_back(0.1);</div>
<div class="line">  heightSequence.push_back(0.2);</div>
<div class="line">  heightSequence.push_back(0.15);</div>
<div class="line"> </div>
<div class="line">  heightSequence.push_back(1.1);</div>
<div class="line">  heightSequence.push_back(2.2);</div>
<div class="line">  heightSequence.push_back(1.15);</div>
<div class="line"> </div>
<div class="line">  heightSequence.push_back(0.1);</div>
<div class="line">  heightSequence.push_back(0.2);</div>
<div class="line">  heightSequence.push_back(0.15);</div>
</div><!-- fragment --><p>and then construct the height field mesh:</p>
<div class="fragment"><div class="line">  <a class="code hl_function" href="classDGtal_1_1Mesh.html#a98872e945ebabfd84d5e68f9ddcf7f26">Mesh&lt;Z3i::RealPoint&gt;::createMeshFromHeightSequence</a>(aMesh, heightSequence, 3, 10, 10, 3, <a class="code hl_variable" href="classDGtal_1_1Color.html#ac7f86198a9c4d002e893267fd889803a">DGtal::Color::Yellow</a>);</div>
</div><!-- fragment --><p>You will obtain such a small height field display (with previous tube mesh):</p>
<div class="image">
<img src="testMeshVisu3dBis.png" alt=""/>
<div class="caption">
Resulting mesh of tubular object and height field.</div></div>
 <dl class="section see"><dt>See also</dt><dd><a class="el" href="testMesh_8cpp.html">tests/shapes/testMesh.cpp</a></dd></dl>
<h1 class="doxsection"><a class="anchor" id="sectmoduleMesh3"></a>
Converting to/from TriangulatedSurface and PolygonalSurface</h1>
<p>Class <a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> does not provide a topology between the face elements. If you wish to do so, you should consider using classes <a class="el" href="classDGtal_1_1TriangulatedSurface.html">TriangulatedSurface</a> and <a class="el" href="classDGtal_1_1PolygonalSurface.html">PolygonalSurface</a>. You can also use conversions:</p><ul>
<li><a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> toward <a class="el" href="classDGtal_1_1TriangulatedSurface.html">TriangulatedSurface</a> with <a class="el" href="classDGtal_1_1MeshHelpers.html#a134812dbf9957a26ad4021da2511f2b3">MeshHelpers::mesh2TriangulatedSurface</a></li>
<li><a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> toward <a class="el" href="classDGtal_1_1PolygonalSurface.html">PolygonalSurface</a> with <a class="el" href="classDGtal_1_1MeshHelpers.html#ae75be28e0deaa72b405cc7ccbb6618a7">MeshHelpers::mesh2PolygonalSurface</a></li>
<li><a class="el" href="classDGtal_1_1TriangulatedSurface.html">TriangulatedSurface</a> toward <a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> with <a class="el" href="classDGtal_1_1MeshHelpers.html#addda5f3d0d685e76d545eb7fa42cc487">MeshHelpers::triangulatedSurface2Mesh</a></li>
<li><a class="el" href="classDGtal_1_1PolygonalSurface.html">PolygonalSurface</a> toward <a class="el" href="classDGtal_1_1Mesh.html">Mesh</a> with <a class="el" href="classDGtal_1_1MeshHelpers.html#a4f6a5df120fabbbb1302b35feb820492">MeshHelpers::polygonalSurface2Mesh</a></li>
</ul>
<p>See also <a class="el" href="moduleShortcuts.html">Shortcuts (for the impatient developper)</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Classes <a class="el" href="classDGtal_1_1TriangulatedSurface.html">TriangulatedSurface</a> and <a class="el" href="classDGtal_1_1PolygonalSurface.html">PolygonalSurface</a> have also specialized methods to export them as OBJ files,. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="index.html">DGtal - Digital Geometry Tools and Algorithms Library.</a></li><li class="navelem"><a href="packageShapes.html">Shapes package</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for DGtal by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
