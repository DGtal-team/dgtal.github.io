<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DGtal: koch.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>koch.cpp</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment">
<span class="comment">/*</span>
<span class="comment"> * @file   koch.cpp</span>
<span class="comment"> * @author Sebastien Fourey &lt;http://www.greyc.ensicaen.fr/~seb&gt;</span>
<span class="comment"> * @date   Tue Aug 21</span>
<span class="comment"> * </span>
<span class="comment"> * </span>
<span class="comment"> * @brief   Draw a random complete graph</span>
<span class="comment"> */</span>
<span class="preprocessor">#include &lt;cstdlib&gt;</span>
<span class="preprocessor">#include &lt;ctime&gt;</span>
<span class="preprocessor">#include &lt;iostream&gt;</span>
<span class="preprocessor">#include &lt;fstream&gt;</span>
<span class="preprocessor">#include &lt;cmath&gt;</span>
<span class="preprocessor">#include &lt;vector&gt;</span>
<span class="preprocessor">#include &lt;utility&gt;</span>
<span class="preprocessor">#include &quot;Board/Board.h&quot;</span>
<span class="keyword">using namespace </span>std;
<span class="keyword">using namespace </span>LibBoard;

<span class="keyword">const</span> <span class="keywordtype">int</span> <a name="a0"></a><a class="code" href="koch_8cpp.html#a1bee92ed7cd1058119f1cb6babd13d6a">HALF_RAND</a> = RAND_MAX/16;
<span class="keyword">const</span> <span class="keywordtype">double</span> <a name="a1"></a><a class="code" href="koch_8cpp.html#ae964bf5d6f0e31ccf9f78050e773e0ce">dy</a> = 10;

<span class="keywordtype">int</span> <a name="a2"></a><a class="code" href="koch_8cpp.html#af56046dab73b2236f2c081e71d6f4bbb">coordinate</a>( <span class="keywordtype">int</span> width ) {
  <span class="keywordflow">return</span> 1 + (int) (width * (rand() / (RAND_MAX + 1.0)));
}

<span class="keywordtype">void</span> <a name="a3"></a><a class="code" href="koch_8cpp.html#a229b5881b996dcafe6460c3c8f87bdd3">Koch</a>( <a name="_a4"></a><a class="codeRef" href="structLibBoard_1_1ShapeList.html" title="A group of shapes.">ShapeList</a> &amp; board, <span class="keyword">const</span> <a name="_a5"></a><a class="codeRef" href="classLibBoard_1_1Color.html" title="Structure representing an RGB triple.">Color</a> &amp; color,  <a name="_a6"></a><a class="codeRef" href="structLibBoard_1_1Point.html" title="Struct representing a 2D point.">Point</a> p1, <a class="codeRef" href="structLibBoard_1_1Point.html" title="Struct representing a 2D point.">Point</a> p2, <span class="keywordtype">int</span> depth ) { 
  <span class="keywordflow">if</span> ( depth &lt;= 0 ) <span class="keywordflow">return</span>;
  
  <a class="codeRef" href="structLibBoard_1_1Point.html" title="Struct representing a 2D point.">Point</a> v = p2 - p1;
  <a class="codeRef" href="structLibBoard_1_1Point.html" title="Struct representing a 2D point.">Point</a> a = p1 + ( v / 3.0 );
  <a class="codeRef" href="structLibBoard_1_1Point.html" title="Struct representing a 2D point.">Point</a> b = p1 + 2 * ( v / 3.0 );
  <a class="codeRef" href="structLibBoard_1_1Point.html" title="Struct representing a 2D point.">Point</a> c = b.<a name="a7"></a><a class="codeRef" href="structLibBoard_1_1Point.html#af73677fdfb71cd38bc7a511f6078a060">rotated</a>( 60 * Board::Degree, a );

  <a class="codeRef" href="classLibBoard_1_1Color.html" title="Structure representing an RGB triple.">Color</a> col = color;
  
   col.<a name="a8"></a><a class="codeRef" href="classLibBoard_1_1Color.html#aab6aa2e3410cbe94fa7665e57d965dd0">setRGBi</a>( static_cast&lt;unsigned char&gt;( std::floor( col.<a name="a9"></a><a class="codeRef" href="classLibBoard_1_1Color.html#abe6fc14eacfa4703b64cd8cb988c0ac8">red</a>() * 0.75 + 0.5 ) ),
                <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>( std::floor( col.<a name="a10"></a><a class="codeRef" href="classLibBoard_1_1Color.html#ad95fad118e14c3a3e4c37d32c5b5ae6c">green</a>() * 0.75 + 0.5 ) ),
                <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>( std::floor( col.<a name="a11"></a><a class="codeRef" href="classLibBoard_1_1Color.html#a4277df178ef2c0937f4951cb4de96881">blue</a>() * 0.75 + 0.5 ) ) );
  
  board &lt;&lt; <a name="_a12"></a><a class="codeRef" href="structLibBoard_1_1Triangle.html" title="A triangle. Basically a Polyline with a convenient constructor.">Triangle</a>( a, c, b, Color::None, color, 0.0 );
  <a class="code" href="koch_8cpp.html#a229b5881b996dcafe6460c3c8f87bdd3">Koch</a>( board, col, p1, a, depth-1 );
  <a class="code" href="koch_8cpp.html#a229b5881b996dcafe6460c3c8f87bdd3">Koch</a>( board, col, a, c, depth-1 );
  <a class="code" href="koch_8cpp.html#a229b5881b996dcafe6460c3c8f87bdd3">Koch</a>( board, col, c, b, depth-1 );
  <a class="code" href="koch_8cpp.html#a229b5881b996dcafe6460c3c8f87bdd3">Koch</a>( board, col, b, p2, depth-1 );  
}

<span class="keywordtype">int</span> <a name="a13"></a><a class="code" href="testBasicBoolFunctions_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>( <span class="keywordtype">int</span> , <span class="keywordtype">char</span> *[] )
{
  <a name="_a14"></a><a class="codeRef" href="classLibBoard_1_1Board.html" title="Class for EPS, FIG or SVG drawings.">Board</a> board;
  board.<a name="a15"></a><a class="codeRef" href="classLibBoard_1_1Board.html#a8ac75c688024ba3cd2b93515566cdd45">clear</a>( <a class="codeRef" href="classLibBoard_1_1Color.html" title="Structure representing an RGB triple.">Color</a>(200,255,200) );

  <a class="codeRef" href="structLibBoard_1_1Point.html" title="Struct representing a 2D point.">Point</a> a( -10, 0 );
  <a class="codeRef" href="structLibBoard_1_1Point.html" title="Struct representing a 2D point.">Point</a> c( 10, 0 );
  <a class="codeRef" href="structLibBoard_1_1Point.html" title="Struct representing a 2D point.">Point</a> b = c.rotated( 60 * Board::Degree, a );  

  <a name="_a16"></a><a class="codeRef" href="structLibBoard_1_1Group.html" title="A group of shapes. A group is basically a ShapeList except that when rendered in either an SVG of a F...">Group</a> aux;
  <a class="code" href="koch_8cpp.html#a229b5881b996dcafe6460c3c8f87bdd3">Koch</a>( aux, Color::Green, a, b, 5 );
  <a class="code" href="koch_8cpp.html#a229b5881b996dcafe6460c3c8f87bdd3">Koch</a>( aux, Color::Green, b, c, 5 );
  <a class="code" href="koch_8cpp.html#a229b5881b996dcafe6460c3c8f87bdd3">Koch</a>( aux, Color::Green, c, a, 5 );
  aux &lt;&lt; <a class="codeRef" href="structLibBoard_1_1Triangle.html" title="A triangle. Basically a Polyline with a convenient constructor.">Triangle</a>( a, b, c, Color::None, Color::Green, 0 );

  board &lt;&lt; aux;

  <span class="keywordtype">int</span> n = 4;
  <span class="keywordflow">while</span> ( n-- ) {
    board.<a name="a17"></a><a class="codeRef" href="structLibBoard_1_1ShapeList.html#a7934bacbd7748570e9d7ead96b01d0e6">dup</a>().<a name="a18"></a><a class="codeRef" href="structLibBoard_1_1ShapeList.html#a2dda305a39a4eebcb8bd7ae58c2ff5ee">last</a>().scale( 0.5 );    
    board.<a class="codeRef" href="structLibBoard_1_1ShapeList.html#a2dda305a39a4eebcb8bd7ae58c2ff5ee">last</a>()
      .translate( 0.25 * board.<a class="codeRef" href="structLibBoard_1_1ShapeList.html#a2dda305a39a4eebcb8bd7ae58c2ff5ee">last</a>().bbox().width, board.<a class="codeRef" href="structLibBoard_1_1ShapeList.html#a2dda305a39a4eebcb8bd7ae58c2ff5ee">last</a>().bbox().height * 1.5 )
      .rotate( -20 * Board::Degree );
  }

  board &lt;&lt; <a name="_a19"></a><a class="codeRef" href="structLibBoard_1_1Line.html" title="A line between two points.">Line</a>( board.<a name="a20"></a><a class="codeRef" href="structLibBoard_1_1Shape.html#adaad15fb6db14caa6632601b46a22806">bbox</a>().<a name="a21"></a><a class="codeRef" href="structLibBoard_1_1Rect.html#ac78a014012703279c2568269139ac68e">left</a>, board.<a class="codeRef" href="structLibBoard_1_1ShapeList.html#a2dda305a39a4eebcb8bd7ae58c2ff5ee">last</a>().bbox().top - 1, 
                 board.<a class="codeRef" href="structLibBoard_1_1Shape.html#adaad15fb6db14caa6632601b46a22806">bbox</a>().<a class="codeRef" href="structLibBoard_1_1Rect.html#ac78a014012703279c2568269139ac68e">left</a> + board.<a class="codeRef" href="structLibBoard_1_1Shape.html#adaad15fb6db14caa6632601b46a22806">bbox</a>().<a name="a22"></a><a class="codeRef" href="structLibBoard_1_1Rect.html#aaa1f4c2ad0096aaa1d5c730ed5d369ef">width</a>, board.<a class="codeRef" href="structLibBoard_1_1ShapeList.html#a2dda305a39a4eebcb8bd7ae58c2ff5ee">last</a>().bbox().top - 1, 
                 Color::Blue, 1 );
  board &lt;&lt; <a name="_a23"></a><a class="codeRef" href="structLibBoard_1_1Text.html" title="A piece of text.">Text</a>( -10, board.<a class="codeRef" href="structLibBoard_1_1ShapeList.html#a2dda305a39a4eebcb8bd7ae58c2ff5ee">last</a>().bbox().top + 0.3, <span class="stringliteral">&quot;LibBoard Koch&#39;s because LibBoard rocks...&quot;</span>,
                 Fonts::Helvetica, <span class="stringliteral">&quot;NeverExists, &#39;Monotype Corsiva&#39;, Verdana, Arial&quot;</span>,  24, Color::Blue );  
  board.<a class="codeRef" href="structLibBoard_1_1ShapeList.html#a7934bacbd7748570e9d7ead96b01d0e6">dup</a>().<a class="codeRef" href="structLibBoard_1_1ShapeList.html#a2dda305a39a4eebcb8bd7ae58c2ff5ee">last</a>().rotate( -90 * Board::Degree ).translate( 0, -0.5 );

  board.<a name="a24"></a><a class="codeRef" href="classLibBoard_1_1Board.html#a9ced63899f213242c335189a4f5b1361">saveFIG</a>( <span class="stringliteral">&quot;koch.fig&quot;</span>, 200, 200 );
  board.<a name="a25"></a><a class="codeRef" href="classLibBoard_1_1Board.html#adab1403965fea54c0de9bfe38e1e6724">saveSVG</a>( <span class="stringliteral">&quot;koch.svg&quot;</span>, 300, 600 );  
  board.<a name="a26"></a><a class="codeRef" href="classLibBoard_1_1Board.html#a0bb157ee0eb70eb9281634e9ed311818">saveEPS</a>( <span class="stringliteral">&quot;koch.eps&quot;</span>, Board::A4 );
  exit(0);
}


</pre></div> </div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Nov 26 2010 15:11:46 for DGtal by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
