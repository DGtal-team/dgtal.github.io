<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DGtal: Visualize 2D DGtal objects with LibBoard</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Visualize 2D <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> objects with <a class="elRef" href="namespaceLibBoard.html">LibBoard</a> </h1>  </div>
</div>
<div class="contents">
<p>This part of the manual describes how to export 2D <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> objects with <a class="elRef" href="namespaceLibBoard.html">LibBoard</a> in order to construct SVG, EPS or XFIG drawings. This document is dedicated both to <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> users and developers.</p>
<p>Table of contents:</p>
<ol type="1">
<li><a class="el" href="board_export.html#LibBoard">Short overview of the LibBoard library</a></li>
<li><a class="el" href="board_export.html#howtouse">How to use LibBoard objects in DGtal ?</a><ol type="a">
<li><a class="el" href="board_export.html#basicusage">Basic usage</a></li>
<li><a class="el" href="board_export.html#advancedusage">Advanced usage</a></li>
</ol>
</li>
<li><a class="el" href="board_export.html#howtocreate">How to create your own export ?</a></li>
</ol>
<h2><a class="anchor" id="LibBoard"></a>
Short overview of the LibBoard library</h2>
<p><a class="elRef" href="namespaceLibBoard.html">LibBoard</a> is a C++ library for simple Postscript, SVG, and XFig drawings.</p>
<div align="center">
<img src="logo_Board.png" alt="logo_Board.png"/>
</div>
<p> (Copyleft, LGPL) 2007 S&eacute;bastien Fourey - GREYC ENSICAEN</p>
<p>It allows simple drawings in: </p>
<ul>
<li>
Encapsulated Postcript files (EPS) ; </li>
<li>
XFig files (FIG) ; </li>
<li>
Scalable Vector Graphics files (SVG). </li>
</ul>
<p>The main class of the library is the <a class="elRef" href="classLibBoard_1_1Board.html" title="Class for EPS, FIG or SVG drawings.">LibBoard::Board</a> class. It is intended to be as simple as possible so that it can be used quickly in programs to generate the kind of figure one would rather not draw by hand, but which can be easily drawn by a computer (C++) program.</p>
<p>A clone of the <a class="elRef" href="namespaceLibBoard.html">LibBoard</a> source code (release: 0.8.8-3) has been included in <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a>. Its classes are grouped into the namespace Board.</p>
<h2><a class="anchor" id="howtouse"></a>
How to use LibBoard objects in DGtal ?</h2>
<h3><a class="anchor" id="basicusage"></a>
Basic usage</h3>
<p>Many <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> objects implement a mechanism which aims at defining the way the objects export themselves with <a class="elRef" href="namespaceLibBoard.html">LibBoard</a> commands into a <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> stream.</p>
<p>For instance, when a digital set (any model of <a class="el" href="structDGtal_1_1CDigitalSet.html">CDigitalSet</a> like <a class="el" href="classDGtal_1_1DigitalSetBySTLSet.html" title="Aim:">DigitalSetBySTLSet</a> or <a class="el" href="classDGtal_1_1DigitalSetBySTLVector.html" title="Aim: Realizes the concept CDigitalSet by using the STL container std::vector.">DigitalSetBySTLVector</a>) is streamed to a <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a>, a square primitives for each point of the set is appended to the current board.</p>
<p>For example, let us define a basic 2D set on Z^2:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &quot;<a class="code" href="Common_8h.html">DGtal/base/Common.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="SpaceND_8h.html">DGtal/kernel/SpaceND.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="HyperRectDomain_8h.html">DGtal/kernel/domains/HyperRectDomain.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="DigitalSetBySTLVector_8h.html">DGtal/kernel/sets/DigitalSetBySTLVector.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="DigitalSetBySTLSet_8h.html">DGtal/kernel/sets/DigitalSetBySTLSet.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="DigitalSetSelector_8h.html">DGtal/kernel/sets/DigitalSetSelector.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="DGtalBoard_8h.html">DGtal/io/DGtalBoard.h</a>&quot;</span>
 
 ...
 <span class="keyword">typedef</span> SpaceND&lt;2&gt; Z2;
 <span class="keyword">typedef</span> HyperRectDomain&lt;Z2&gt; DomainType;
 <span class="keyword">typedef</span> <a class="code" href="testFreemanChain_8cpp.html#a7f0531e1424ee81d83c134455ecd1a83">Z2::Point</a> Point;
 Point p1(  -10, -10  );
 Point p2(  10, 10  );
 DomainType domain( p1, p2 );
 <span class="keyword">typedef</span> DigitalSetSelector
  &lt; DomainType, <a class="code" href="namespaceDGtal.html#a07a2f5d6c861cd13dd680ea2e64e2dd4a37af4f429983b8069af58a2334f776a0">BIG_DS</a> + <a class="code" href="namespaceDGtal.html#abae5017e6f3a3d5e0c4debd8142e8ccca0f85b8033e1532f5c4a0ff3d59a187bc">HIGH_ITER_DS</a> + <a class="code" href="namespaceDGtal.html#a0f37e197740e9d7742426109610c513aadcca3a30244180b4238a80ae3a06e01d">HIGH_BEL_DS</a> &gt;::Type SpecificSet; 
 SpecificSet mySet( domain );
 
 Point c(  0, 0  );
 mySet.insert( c );
 Point d(  5, 2  );
 mySet.insert( d );
 Point e(  1, -3  );
 mySet.insert( e );
</pre></div><p>The basic usage is :</p>
<div class="fragment"><pre class="fragment"> DGtalBoard board;
 board.setUnit(Board::UCentimeter);
 board &lt;&lt; mySet;
 board.saveSVG( <span class="stringliteral">&quot;simpleSet.svg&quot;</span> );
</pre></div><p>leading to the drawing (after a SVG-&gt;PNG conversion):</p>
<div align="center">
<img src="simpleSet.png" alt="simpleSet.png"/>
</div>
<p>We can enhance the drawing displaying digital domain (any model of CDigitalDomain) containing the set. We have at least two ways to display the domain: either as a grid (mesh) or as a paving. Hence, digital domains introduces stream modifier that can be used as either</p>
<div class="fragment"><pre class="fragment"> DGtalBoard board;
 board.setUnit(Board::UCentimeter);

 board &lt;&lt; DrawDomainGrid()
       &lt;&lt; domain
       &lt;&lt; mySet;

 board.saveSVG( <span class="stringliteral">&quot;simpleSet-grid.svg&quot;</span> );
</pre></div><p>or </p>
<div class="fragment"><pre class="fragment"> <a class="codeRef" href="classLibBoard_1_1Board.html" title="Class for EPS, FIG or SVG drawings.">LibBoard::Board</a> board;
 board.<a class="codeRef" href="classLibBoard_1_1Board.html#ad3f3f29633091b70b9e12452837f6c6c">setUnit</a>(Board::UCentimeter);

 board &lt;&lt; DrawDomainPaving()
       &lt;&lt; domain
       &lt;&lt; mySet;

 board.<a class="codeRef" href="classLibBoard_1_1Board.html#adab1403965fea54c0de9bfe38e1e6724">saveSVG</a>( <span class="stringliteral">&quot;simpleSet-Paving.svg&quot;</span> );
</pre></div><table class="doxtable">
<tr>
<td><div align="center">
<img src="simpleSet-grid.png" alt="simpleSet-grid.png"/>
<p><strong>DrawDomainGrid result.</strong></p></div>
  </td><td><div align="center">
<img src="simpleSet-paving.png" alt="simpleSet-paving.png"/>
<p><strong>DrawDomainPaving result.</strong></p></div>
   </td></tr>
</table>
<p>Similarly, an object of the class <a class="el" href="classDGtal_1_1PointVector.html" title="Aim: Implements basic operations that will be used in Point and Vector classes.">PointVector</a> can be drawn either as a Point (dot), or as a Vector (arrow). In this case, instead of using the stream mecanism, the user can consider the methods:</p>
<ul>
<li>void selfDraw(DGtalBoard &amp; board ): the object is drawn as a Point (Board::Dot)</li>
<li>void selfDraw(<a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> &amp; board , const <a class="el" href="classDGtal_1_1PointVector.html" title="Aim: Implements basic operations that will be used in Point and Vector classes.">PointVector</a> &amp; aPoint): the object is drawn as a Vector (Board::Arrow)</li>
</ul>
<p>Hence, the code will look like:</p>
<div class="fragment"><pre class="fragment"> myVector.selfDraw(board);
</pre></div><p> or </p>
<div class="fragment"><pre class="fragment"> myVector.selfDraw(board, aPoint);
</pre></div><p>NOTE: in such situation, if the user uses the stream mechanism </p>
<div class="fragment"><pre class="fragment"> board &lt;&lt; myVector; 
</pre></div><p> the default selfDraw(DGtalBoard &amp;board) is used.</p>
<p>As illustrated in the document <a class="el" href="dgtal_topology.html">Digital topology and digital objects</a>, the following drawings represent an object with two different adjacency relationships. To obtain such figures, we have call selfDraw methods of the following objects:</p>
<ul>
<li><a class="el" href="classDGtal_1_1HyperRectDomain.html" title="Aim: Parallelepidec region of a digital space, model of a &#39;CDomain&#39;.">HyperRectDomain</a>: to display the main board;</li>
<li><a class="el" href="classDGtal_1_1DigitalSetBySTLVector.html" title="Aim: Realizes the concept CDigitalSet by using the STL container std::vector.">DigitalSetBySTLVector</a>: to display the object as a digital set;</li>
<li><a class="el" href="classDGtal_1_1PointVector.html" title="Aim: Implements basic operations that will be used in Point and Vector classes.">PointVector</a>: to display the set of adjacency relationships as arrows.</li>
</ul>
<table class="doxtable">
<tr>
<td><div align="center">
<img src="DiskWithAdj4.png" alt="DiskWithAdj4.png"/>
<p><strong>Illustration of a Digital Object with the 4-adjacency</strong></p></div>
  </td><td><div align="center">
<img src="DiskWithAdj8.png" alt="DiskWithAdj8.png"/>
<p><strong>Illustration of a Digital Object with the 8-adjacency</strong></p></div>
   </td></tr>
</table>
<h3><a class="anchor" id="advancedusage"></a>
Advanced usage</h3>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>finish rewritting</dd></dl>
<p>By default, each method selfDraw uses a specific style. For example, the default style or color associated to a digital domain is either a dashed grid with gray color, or a set of unfilled gray squares (see HyperRectDomain::SelfDrawStyleGrid and HyperRectDomain::SelfDrawStylePaving).</p>
<p>If the user wants to customize the output color for instance, he or she have to:</p>
<ol type="1">
<li>Create a C++ class or struct with a constructor taking a <a class="elRef" href="namespaceLibBoard.html">LibBoard</a> instance in parameter and such that the <a class="elRef" href="namespaceLibBoard.html">LibBoard</a> commands to customize the colors belongs to this constructor.</li>
<li>Use this class as a template parameter of the selfDraw methods.</li>
</ol>
<p>For example, if you want the simple set considered above to be depicted in red with green edges, just create your own style "struct" as follows: </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>SelfDrawStyleCustom
    {
      SelfDrawStyleCustom(<a class="codeRef" href="classLibBoard_1_1Board.html" title="Class for EPS, FIG or SVG drawings.">LibBoard::Board</a> &amp; aboard)
      {
        aboard.<a class="codeRef" href="classLibBoard_1_1Board.html#a7ded202bda8ef1b5769910b51b8d8e51">setPenColorRGBi</a>(0,255,0);
        aboard.<a class="codeRef" href="classLibBoard_1_1Board.html#abbc0d722f1c9bf49003743aa3d52a0ef">setFillColorRGBi</a>(255,0,0);
      }
    };
</pre></div><p>Then, we use this customized style in the selfDraw calls: </p>
<div class="fragment"><pre class="fragment"> <a class="codeRef" href="classLibBoard_1_1Board.html" title="Class for EPS, FIG or SVG drawings.">LibBoard::Board</a> board;
 board.<a class="codeRef" href="classLibBoard_1_1Board.html#ad3f3f29633091b70b9e12452837f6c6c">setUnit</a>(Board::UCentimeter);
 mySet.selfDraw&lt;SelfDrawStyleCustom&gt;(board);
 board.<a class="codeRef" href="classLibBoard_1_1Board.html#adab1403965fea54c0de9bfe38e1e6724">saveSVG</a>( <span class="stringliteral">&quot;simpleSet.svg&quot;</span> );
</pre></div><p>and we obtain:</p>
<div align="center">
<img src="simpleSet-color.png" alt="simpleSet-color.png"/>
</div>
<h2><a class="anchor" id="howtocreate"></a>
How to create your own export ?</h2>
<p>To create a <a class="elRef" href="namespaceLibBoard.html">LibBoard</a> export on your object, you have to</p>
<ol type="1">
<li>Create a SelfDrawStyle struct (e.g. <a class="el" href="structDGtal_1_1DigitalSetBySTLVector_1_1SelfDrawStyle.html">DigitalSetBySTLVector::SelfDrawStyle</a>)</li>
<li>Implement a method selfDraw the will perform the drawing with a default template parameter set to SelfDrawDefaultStyle.</li>
</ol>
<p>The second item can be done using the following declaration code for instance: </p>
<div class="fragment"><pre class="fragment">    <span class="comment">/*</span>
<span class="comment"> Draw the object on a LibBoard board</span>
<span class="comment"> @param board the output board where the object is drawn.</span>
<span class="comment"> @tparam Functor a Functor to specialize the Board style</span>
<span class="comment">     */</span>
    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Functor&gt;
    <span class="keywordtype">void</span> selfDraw(<a class="codeRef" href="classLibBoard_1_1Board.html" title="Class for EPS, FIG or SVG drawings.">LibBoard::Board</a> &amp; board ) <span class="keyword">const</span>;

    <span class="comment">/*</span>
<span class="comment"> Draw the object on a LibBoard board</span>
<span class="comment"> @param board the output board where the object is drawn.</span>
<span class="comment">     */</span>
    <span class="keywordtype">void</span> selfDraw(<a class="codeRef" href="classLibBoard_1_1Board.html" title="Class for EPS, FIG or SVG drawings.">LibBoard::Board</a> &amp; board )<span class="keyword"> const</span>
<span class="keyword">    </span>{
      selfDraw&lt;SelfDrawStyle&gt;(board);
    }
</pre></div></div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Dec 10 2010 13:16:34 for DGtal by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
