<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DGtal: DGtalBoard: a stream mechanism for displaying 2D digital objects</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DGtal&#160;<span id="projectnumber">0.3.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1><a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a>: a stream mechanism for displaying 2D digital objects </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>This part of the manual describes how to export <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> objects into graphics files (and later buffers). For now, it is limited to 2D <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> objects like <a class="el" href="structDGtal_1_1CDomain.html" title="Aim: This concept represents a digital domain, i.e. a non mutable subset of points of the given digit...">CDomain</a>, <a class="el" href="classDGtal_1_1Object.html" title="Aim: An object (or digital object) represents a set in some digital space associated with a digital t...">Object</a>, <a class="el" href="structDGtal_1_1CDigitalSet.html">CDigitalSet</a>, Point, ImageContainer. The current supported export formats are SVG, EPS, and XFIG. It is currently based on <a class="elRef" href="namespaceLibBoard.html">LibBoard</a>, but may evolve later (it will probably move to <a href="http://www.cairographics.org">Cairo</a>). This document is dedicated both to <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> users and developers.</p>
<p>Table of contents:</p>
<ol type="1">
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec1">User guide to DGtalBoard</a><ol type="a">
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec11">Elementary usage: displaying a domain and a few points</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec12">Displaying sets and digital objects</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec13">Mode selection: the example of digital objects</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec14">Useful modes for several drawable elements</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec15">Changing the style for displaying drawable elements.</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec16">Creating your own custom style class for displaying drawable elements.</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec17">Using colormaps in DGtalBoard streams</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec18">Conclusion and future improvements</a></li>
</ol>
</li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec2">Developer guide to DGtalBoard</a><ol type="a">
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec21">Overview of the DGtalBoard principle</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec22">The concept CDrawableWithDGtalBoard</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec23">Developing a new drawable element</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec24">Managing possible drawing modes</a></li>
<li><a class="el" href="dgtal_dgtalboard.html#dgtal_dgtalboard_sec25">Short overview of the LibBoard library</a></li>
</ol>
</li>
</ol>
<h2><a class="anchor" id="dgtal_dgtalboard_sec1"></a>
User guide to DGtalBoard</h2>
<h3><a class="anchor" id="dgtal_dgtalboard_sec11"></a>
Elementary usage: displaying a domain and a few points</h3>
<p>To use the <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> stream, you must include the header </p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &quot;<a class="code" href="DGtalBoard_8h.html">DGtal/io/DGtalBoard.h</a>&quot;</span>
</pre></div><p>The class <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> is designed so as to make easy the visualization of digital objects, also it is for now limited to 2D discrete geometry. For the user, it is very simple to visualize digital sets, objects and others. To do so, the user has just to instantiate a <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> object. This object is then an output stream, and if you wish to visualize some object, you use the stream <code>operator</code> <code>&lt;&lt;</code> to output the object on the board. When you are finished, there is a command to export your graphics in SVG, XFIG or EPS format.</p>
<p>The following code snippet defines three points and a rectangular domain in Z2. It then displays them in a <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> object. The two last commands export the graphics in SVG and EPS format. The full code is in <a href="dgtalboard-1-points_8cpp-example.html">dgtalboard-1-points.cpp</a>.</p>
<div class="fragment"><pre class="fragment">   <span class="keyword">using namespace </span>DGtal;
   <span class="keyword">using namespace </span>DGtal::Z2i;

   Point p1( -3, -2 );
   Point p2( 7, 3 );
   Point p3( 0, 0 );
   <a class="code" href="namespaceDGtal_1_1Z2i.html#aca523bebdae58eb19385aaefffff8bc5">Domain</a> domain( p1, p2 );
   
   <a class="code" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &amp;#39;Board&amp;#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> board;
   board &lt;&lt; domain &lt;&lt; p1 &lt;&lt; p2 &lt;&lt; p3;
   board.<a class="codeRef" href="classLibBoard_1_1Board.html#adab1403965fea54c0de9bfe38e1e6724">saveSVG</a>(<span class="stringliteral">&quot;dgtalboard-1-points.svg&quot;</span>);
   board.saveEPS(<span class="stringliteral">&quot;dgtalboard-1-points.eps&quot;</span>);
</pre></div><p>This program outputs this image.</p>
<div align="center">
<img src="dgtalboard-1-points.png" alt="dgtalboard-1-points.png"/>
<p><strong>Drawing points with Board.</strong></p></div>
 <p>It is clear that the order in which you display elements has an influence on the exported graphics.</p>
<h3><a class="anchor" id="dgtal_dgtalboard_sec12"></a>
Displaying sets and digital objects</h3>
<p>Displaying a digital set uses also the stream mechanism. You just have to use the flux operator <code>&lt;&lt;</code> with a DigitalSet in parameter.</p>
<div class="fragment"><pre class="fragment">   Point p1( -10, -7 );
   Point p2( 10, 7 );
   <a class="code" href="namespaceDGtal_1_1Z2i.html#aca523bebdae58eb19385aaefffff8bc5">Domain</a> domain( p1, p2 );
   <a class="code" href="namespaceDGtal_1_1Z2i.html#a371252c324e496cf8650757c1a2b4eb0">DigitalSet</a> shape_set( domain );
   <a class="code" href="classDGtal_1_1Shapes.html#a6f97e3b761aa8db0007ecd6ebb72a157">Shapes&lt;Domain&gt;::addNorm1Ball</a>( shape_set, <a class="code" href="testFreemanChain_8cpp.html#a7f0531e1424ee81d83c134455ecd1a83">Point</a>( -5, -1 ), 7 );
   <a class="code" href="classDGtal_1_1Shapes.html#a6f97e3b761aa8db0007ecd6ebb72a157">Shapes&lt;Domain&gt;::addNorm1Ball</a>( shape_set, <a class="code" href="testFreemanChain_8cpp.html#a7f0531e1424ee81d83c134455ecd1a83">Point</a>( 5, 1 ), 7 );
   shape_set.erase( <a class="code" href="testFreemanChain_8cpp.html#a7f0531e1424ee81d83c134455ecd1a83">Point</a>( -5, -1 ) );
   shape_set.erase( <a class="code" href="testFreemanChain_8cpp.html#a7f0531e1424ee81d83c134455ecd1a83">Point</a>( 5, 1 ) );

   DGtalBoard board;
   board &lt;&lt; domain &lt;&lt; shape_set; <span class="comment">// display domain and set</span>
   board.saveSVG( <span class="stringliteral">&quot;dgtalboard-2-sets-1.svg&quot;</span>);
</pre></div><div align="center">
<img src="dgtalboard-2-sets-1.png" alt="dgtalboard-2-sets-1.png"/>
<p><strong>Digital set drawing with Board.</strong></p></div>
 <h3><a class="anchor" id="dgtal_dgtalboard_sec13"></a>
Mode selection: the example of digital objects</h3>
<p>Some digital elements (like <a class="el" href="classDGtal_1_1Object.html" title="Aim: An object (or digital object) represents a set in some digital space associated with a digital t...">Object</a>, <a class="el" href="classDGtal_1_1PointVector.html" title="Aim: Implements basic operations that will be used in Point and Vector classes.">PointVector</a>, <a class="el" href="classDGtal_1_1ArithmeticalDSS.html" title="Aim: Dynamic recognition of a digital straight segment (DSS) defined as the sequence of simply connec...">ArithmeticalDSS</a>) may have several possible ways to be rendered as a graphical object. For instance, a pixel may be seen more as a point or more as a unit square in the plane. In the same idea, a digital object may or may not be represented with its adjacency relations. Otherwise said, one may wish to see the set, another may wish to see the graph.</p>
<p>You may choose a <b>mode</b> for a drawable element by outputing on the stream a <a class="el" href="structDGtal_1_1SetMode.html">SetMode</a> object. You just have to specify the classname (the easiest way is to call the method <code>styleName()</code> on an instance of the correct type) and the desired mode (a string). An <a class="el" href="classDGtal_1_1Object.html" title="Aim: An object (or digital object) represents a set in some digital space associated with a digital t...">Object</a> is sensitive to the mode "" (default, just the set is displayed) and to the mode "DrawAdjacencies" (the graph is drawn). The following code snippet uses the digital set <code>shape_set</code> defined above.</p>
<div class="fragment"><pre class="fragment">  <span class="comment">// Object with couple (4,8) of adjacency.</span>
  <a class="code" href="namespaceDGtal_1_1Z2i.html#a7b2f164e461fd4e76244e919ffedf685">Object4_8</a> shape( <a class="code" href="namespaceDGtal_1_1Z2i.html#a66bc7c15d8f9427e237f9a3e8f0d6c7b">dt4_8</a>, shape_set );
  board &lt;&lt; domain <span class="comment">// display domain</span>
        &lt;&lt; SetMode( shape.styleName(), <span class="stringliteral">&quot;DrawAdjacencies&quot;</span> )
        &lt;&lt; shape; <span class="comment">// and object with mode &quot;DrawAdjacencies&quot;</span>
  board.saveSVG( <span class="stringliteral">&quot;dgtalboard-2-sets-2.svg&quot;</span>);
  board.clear();

  <span class="comment">// Object with couple (8,4) of adjacency.</span>
  <a class="code" href="namespaceDGtal_1_1Z2i.html#a3ac2150ad3b1a395a08aac72650d855a">Object8_4</a> shape2( <a class="code" href="namespaceDGtal_1_1Z2i.html#a3145832e4c5d8db0223f117954a1fe72">dt8_4</a>, shape_set );
  board &lt;&lt; domain <span class="comment">// display domain</span>
        &lt;&lt; SetMode( shape2.styleName(), <span class="stringliteral">&quot;DrawAdjacencies&quot;</span> )
        &lt;&lt; shape2; <span class="comment">// and object with mode &quot;DrawAdjacencies&quot;</span>
  board.saveSVG( <span class="stringliteral">&quot;dgtalboard-2-sets-3.svg&quot;</span>);
</pre></div><p>Note the different adjacency relations depending on the topology chosen for the object. The full code is in <a href="dgtalboard-2-sets_8cpp-example.html">dgtalboard-2-sets.cpp</a>.</p>
<table class="doxtable">
<tr>
<td><div align="center">
<img src="dgtalboard-2-sets-2.png" alt="dgtalboard-2-sets-2.png"/>
<p><strong>(4,8)-object</strong></p></div>
   </td><td><div align="center">
<img src="dgtalboard-2-sets-3.png" alt="dgtalboard-2-sets-3.png"/>
<p><strong>(8,4)-object</strong></p></div>
   </td></tr>
</table>
<h3><a class="anchor" id="dgtal_dgtalboard_sec14"></a>
Useful modes for several drawable elements</h3>
<p>Here is a list of modes for several digital drawable elements ("" is always default mode).</p>
<ul>
<li>class <a class="el" href="classDGtal_1_1PointVector.html" title="Aim: Implements basic operations that will be used in Point and Vector classes.">PointVector</a>, modes: "" / "Both", "Paving", "Grid"</li>
<li>class <a class="el" href="classDGtal_1_1Object.html" title="Aim: An object (or digital object) represents a set in some digital space associated with a digital t...">Object</a>, modes: "", "DrawAdjacencies"</li>
<li>class <a class="el" href="classDGtal_1_1HyperRectDomain.html" title="Aim: Parallelepidec region of a digital space, model of a &#39;CDomain&#39;.">HyperRectDomain</a>, modes: "" / "Grid", "Paving"</li>
<li>class <a class="el" href="classDGtal_1_1ArithmeticalDSS.html" title="Aim: Dynamic recognition of a digital straight segment (DSS) defined as the sequence of simply connec...">ArithmeticalDSS</a>, modes: "" / "BoundingBox", "Points"</li>
</ul>
<p>For instance, to change the drawing mode for the next object <code>dss</code> of type <a class="el" href="classDGtal_1_1ArithmeticalDSS.html" title="Aim: Dynamic recognition of a digital straight segment (DSS) defined as the sequence of simply connec...">ArithmeticalDSS</a>, you may use the line </p>
<div class="fragment"><pre class="fragment">   board &lt;&lt; SetMode( dss.styleName(), <span class="stringliteral">&quot;BoundingBox&quot;</span> );
</pre></div><p>If you wish to display both the points of a DSS an its bounding box, you must draw it twice, as follows: </p>
<div class="fragment"><pre class="fragment">   board &lt;&lt; SetMode( dss.styleName(), <span class="stringliteral">&quot;BoundingBox&quot;</span> ) &lt;&lt; dss
         &lt;&lt; SetMode( dss.styleName(), <span class="stringliteral">&quot;Points&quot;</span> ) &lt;&lt; dss;
</pre></div><h3><a class="anchor" id="dgtal_dgtalboard_sec15"></a>
Changing the style for displaying drawable elements.</h3>
<p>All drawable elements have a default style for default. You may nevertheless modify it whenever you want for any object. The simplest way is to use instances of the following classes:</p>
<ul>
<li><a class="el" href="structDGtal_1_1CustomColors.html">CustomColors</a>: to change pen color and fill color.</li>
<li><a class="el" href="structDGtal_1_1CustomPenColor.html">CustomPenColor</a>: to change only pen color.</li>
<li><a class="el" href="structDGtal_1_1CustomFillColor.html">CustomFillColor</a>: to change only fill color.</li>
<li><a class="el" href="structDGtal_1_1CustomPen.html">CustomPen</a>: to change pen color and fill color, but also optionnaly in this order the line width, the line style, the line cap, the line join.</li>
</ul>
<p>An instance of one of this class is then attached to the drawable element by creating an instance of <a class="el" href="structDGtal_1_1CustomStyle.html">CustomStyle</a>. Do not worry about deallocating the CustomXXX instances. This is done automatically. The following snippet indicates how to use these classes.</p>
<div class="fragment"><pre class="fragment">  Point p1( -3, -2 );
  Point p2( 7, 3 );
  Point p3( 0, 0 );
  <a class="code" href="namespaceDGtal_1_1Z2i.html#aca523bebdae58eb19385aaefffff8bc5">Domain</a> domain( p1, p2 );

  <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a> red( 255, 0, 0 );
  <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a> dred( 192, 0, 0 );
  <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a> dgreen( 0, 192, 0 );
  <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a> blue( 0, 0, 255 );
  <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a> dblue( 0, 0, 192 );
  
  DGtalBoard board;
  board &lt;&lt; domain 
        &lt;&lt; CustomStyle( p1.styleName(), <span class="keyword">new</span> CustomColors( red, dred ) )
        &lt;&lt; p1
        &lt;&lt; CustomStyle( p2.styleName(), <span class="keyword">new</span> CustomFillColor( dgreen ) )
        &lt;&lt; p2
        &lt;&lt; CustomStyle( p3.styleName(), 
                        <span class="keyword">new</span> CustomPen( blue, dblue, 3.0, 
                                       <a class="codeRef" href="structLibBoard_1_1Shape.html#ad9b9ccfae0a74f1d681cb126a225c900ace5efd99787d086d59b6892c4c310cac">DGtalBoard::Shape::SolidStyle</a>,
                                       <a class="codeRef" href="structLibBoard_1_1Shape.html#af09a3c6f719c8a846447c0cd2e2d0368ad2b5f9290405771e387b70d62ae0c194">DGtalBoard::Shape::RoundCap</a>,
                                       <a class="codeRef" href="structLibBoard_1_1Shape.html#a5618d9c1f412d36189695c557f1b9be2abff2d9f2c1448ab19f2276a143700f71">DGtalBoard::Shape::RoundJoin</a> ) )
        &lt;&lt; p3;
  board.saveSVG(<span class="stringliteral">&quot;dgtalboard-3-custom-classes.svg&quot;</span>);
</pre></div><p>This program (see full source at <a href="dgtalboard-3-custom-classes_8cpp-example.html">dgtalboard-3-custom-classes.cpp</a>) outputs the following graphics.</p>
<div align="center">
<img src="dgtalboard-3-custom-classes.png" alt="dgtalboard-3-custom-classes.png"/>
<p><strong>Custom drawing.</strong></p></div>
 <h3><a class="anchor" id="dgtal_dgtalboard_sec16"></a>
Creating your own custom style class for displaying drawable elements.</h3>
<p>Another way to change the style is to create yourself a minimal structure to hold the style. The following example shows how to change the pen and fill color on-the-fly. First of all, the custom style class:</p>
<div class="fragment"><pre class="fragment"><span class="keyword">struct </span>MyDrawStyleCustomColor : <span class="keyword">public</span> DrawableWithDGtalBoard
{
  <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a> myPenColor;
  <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a> myFillColor;
  MyDrawStyleCustomColor( <span class="keyword">const</span> <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a> &amp; penColor,
                          <span class="keyword">const</span> <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a> &amp; fillColor )
    : myPenColor( penColor ), myFillColor( fillColor )
  {}

  <span class="keyword">virtual</span> <span class="keywordtype">void</span> selfDraw( DGtalBoard &amp; aboard)<span class="keyword"> const</span>
<span class="keyword">  </span>{
    aboard.setFillColor( myFillColor); <span class="comment">// specifies the fill color.</span>
    aboard.setPenColor( myPenColor );  <span class="comment">// specifies the pen color.</span>
  }
};
</pre></div><p>The custom style is then attached to drawable element by creating an instance of <a class="el" href="structDGtal_1_1CustomStyle.html">CustomStyle</a>. Do not worry about deallocating the MyDrawStyleCustomColor instances. This is done automatically.</p>
<div class="fragment"><pre class="fragment">   <span class="comment">// same shape as above</span>
  board &lt;&lt; domain 
        &lt;&lt; CustomStyle( p1.styleName(), <span class="keyword">new</span> MyDrawStyleCustomColor( red, dred ) )
        &lt;&lt; p1
        &lt;&lt; CustomStyle( p2.styleName(), <span class="keyword">new</span> MyDrawStyleCustomColor( green, dgreen ) )
        &lt;&lt; p2
        &lt;&lt; CustomStyle( p3.styleName(), <span class="keyword">new</span> MyDrawStyleCustomColor( blue, dblue ) )
        &lt;&lt; p3;
  board.saveSVG(<span class="stringliteral">&quot;dgtalboard-3-custom-points.svg&quot;</span>);
</pre></div><p>This program (see full source at <a href="dgtalboard-3-custom-points_8cpp-example.html">dgtalboard-3-custom-points.cpp</a>) outputs the following graphics.</p>
<div align="center">
<img src="dgtalboard-3-custom-points.png" alt="dgtalboard-3-custom-points.png"/>
<p><strong>Custom drawing of point.</strong></p></div>
 <h3><a class="anchor" id="dgtal_dgtalboard_sec17"></a>
Using colormaps in DGtalBoard streams</h3>
<p>You can use colormaps in conjunction with custom styles for <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a>. Several classes represent colormaps: <a class="el" href="structDGtal_1_1CColorMap.html" title="Aim: Defines the concept describing a color map. A color map converts a value within a given range in...">CColorMap</a>, <a class="el" href="classDGtal_1_1ColorBrightnessColorMap.html" title="Aim: This class template may be used to (linearly) convert scalar values in a given range into a colo...">ColorBrightnessColorMap</a>, <a class="el" href="classDGtal_1_1GradientColorMap.html" title="Aim: This class template may be used to (linearly) convert scalar values in a given range into a colo...">GradientColorMap</a>, <a class="el" href="classDGtal_1_1GrayscaleColorMap.html" title="Aim: This class template may be used to (linearly) convert scalar values in a given range into gray l...">GrayscaleColorMap</a>, <a class="el" href="classDGtal_1_1HueShadeColorMap.html" title="Aim: This class template may be used to (linearly) convert scalar values in a given range into a colo...">HueShadeColorMap</a>. You can use any of them to produce colors. Here, we define a simple colormap going from blue to red then yellow. Then, each pixel of the digital set <code>shape_set</code> (see above) is displayed with a fill color that depends on its distance to the point <code>c1</code>.</p>
<p>An interesting point of the exemple below is how we specify a custom style for a <b>specific</b> <b>mode</b> of some drawable element (here a Point). We just add "/"+ModeName to the name of the style.</p>
<div class="fragment"><pre class="fragment">  <span class="comment">// Creating colormap.</span>
  GradientColorMap&lt;int&gt; cmap_grad( 0, 15 );
  cmap_grad.addColor( <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a>( 50, 50, 255 ) );
  cmap_grad.addColor( <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a>( 255, 0, 0 ) );
  cmap_grad.addColor( <a class="code" href="classDGtal_1_1DGtalBoard.html#a5522227d441d23c1d41b5c50adce6cce">DGtalBoard::Color</a>( 255, 255, 10 ) );

  <span class="comment">// Creating board.</span>
  DGtalBoard board;
  board &lt;&lt; SetMode( domain.styleName(), <span class="stringliteral">&quot;Paving&quot;</span> )
        &lt;&lt; domain
        &lt;&lt; SetMode( p1.styleName(), <span class="stringliteral">&quot;Paving&quot;</span> );
  <span class="comment">// This is the name of the style for a Point in mode &quot;Paving&quot;.</span>
  <span class="keywordtype">string</span> specificStyle =  p1.styleName() + <span class="stringliteral">&quot;/Paving&quot;</span>;
  <span class="keywordflow">for</span> ( DigitalSet::ConstIterator it = shape_set.begin();
        it != shape_set.end();
        ++it )
    {
      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> d = (<span class="keywordtype">unsigned</span> int) ceil( ( *it - c1 ).norm() );
      <span class="comment">// specific color depending on the distance to point c1.</span>
      board &lt;&lt; CustomStyle( specificStyle,
                            <span class="keyword">new</span> CustomColors( <a class="codeRef" href="classLibBoard_1_1Color.html#a957c15d534b0c9f8a44173cca1035ab5">DGtalBoard::Color::Black</a>,
                                              cmap_grad( d ) ) )
            &lt;&lt; *it;
    }
  board.saveSVG( <span class="stringliteral">&quot;dgtalboard-4-colormaps.svg&quot;</span>);
</pre></div><p>This program (see full source at <a href="dgtalboard-4-colormaps_8cpp-example.html">dgtalboard-4-colormaps.cpp</a>) outputs the following graphics.</p>
<div align="center">
<img src="dgtalboard-4-colormaps.png" alt="dgtalboard-4-colormaps.png"/>
<p><strong>Colormap example.</strong></p></div>
 <p>More precisely, several styles may be applied before some drawable element is displayed. They are called in this order.</p>
<ol type="1">
<li>the default style (always applied)</li>
<li>the user-specified style for default mode (when defined)</li>
<li>the default style for the current mode (applied only if mode is not default, i.e. different from "")</li>
<li>the user-specified style for the current mode (applied only if mode is not default, i.e. different from "", and defined)</li>
</ol>
<p>Therefore, if you change the drawing <b>mode</b> of a drawable element and if you wish to have a specific behavior, you must attach the custom style to the mode style of your object. For instance, if your object is <code>p</code> and the mode is "Special", there is some line:</p>
<div class="fragment"><pre class="fragment">   board &lt;&lt; CustomStyle( p.styleName() +<span class="stringliteral">&quot;/Special&quot;</span>, <span class="keyword">new</span> ... );
</pre></div><p>Another example involving ArithmeticDSS is <a href="dgtalboard-5-greedy-dss_8cpp-example.html">dgtalboard-5-greedy-dss.cpp</a>. It outputs the following graphics:</p>
<div align="center">
<img src="dgtalboard-5-greedy-dss.png" alt="dgtalboard-5-greedy-dss.png"/>
<p><strong>Greedy DSS Decomposition </strong></p></div>
 <h3><a class="anchor" id="dgtal_dgtalboard_sec18"></a>
Conclusion and future improvements</h3>
<p>The <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> mechanism is a simple mechanism for displaying 2D digital objects and graphics. A 3D adaptation is under development. Furthermore, in order to enhance its graphics and export possibilities, the hidden drawing library will certainly move to Cairo.</p>
<h2><a class="anchor" id="dgtal_dgtalboard_sec2"></a>
Developer guide to DGtalBoard</h2>
<p>This section aims at helping the developer to understand the background of the DGtalStream mechanism, and then to create its own drawable elements.</p>
<h3><a class="anchor" id="dgtal_dgtalboard_sec21"></a>
Overview of the DGtalBoard principle</h3>
<p>Following the concept paradigm adopted in <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a>, the <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> object may only displayed instances of classes that realize the concept <a class="el" href="structDGtal_1_1CDrawableWithDGtalBoard.html">CDrawableWithDGtalBoard</a>. A drawable element must specify his classname and a default style under the form of a (simple) <a class="el" href="structDGtal_1_1DrawableWithDGtalBoard.html">DrawableWithDGtalBoard</a> object. For instance, the default style structure for a <a class="el" href="classDGtal_1_1PointVector.html" title="Aim: Implements basic operations that will be used in Point and Vector classes.">PointVector</a> is:</p>
<div class="fragment"><pre class="fragment">   <span class="keyword">struct </span>DefaultDrawStyleGrid : <span class="keyword">public</span> DrawableWithDGtalBoard
   {
     <span class="keyword">virtual</span> <span class="keywordtype">void</span> selfDraw( DGtalBoard &amp; aBoard )<span class="keyword"> const</span>
<span class="keyword">     </span>{
       aBoard.setPenColor(<a class="codeRef" href="classLibBoard_1_1Color.html#a957c15d534b0c9f8a44173cca1035ab5">DGtalBoard::Color::Black</a>);
       aBoard.setLineStyle( <a class="codeRef" href="structLibBoard_1_1Shape.html#ad9b9ccfae0a74f1d681cb126a225c900ace5efd99787d086d59b6892c4c310cac">DGtalBoard::Shape::SolidStyle</a> );
     }
   };
</pre></div><p>A <a class="el" href="structDGtal_1_1DrawableWithDGtalBoard.html">DrawableWithDGtalBoard</a> is just an interface that specifies a virtual method <code>selfDraw</code>. Last but not least, the drawable element defines a (non-virtual) method <code>selfDraw</code> which contains the drawing commands.</p>
<p>The <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> class operates as an output stream for drawable elements. It inherits from <a class="elRef" href="classLibBoard_1_1Board.html" title="Class for EPS, FIG or SVG drawings.">LibBoard::Board</a>. This base class holds the drawing capabilities for several export formats. You must look at this class to see the drawing possibilities.</p>
<p>An important method of <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> is the templated <a class="el" href="classDGtal_1_1DGtalBoard.html#a67029e1e7f9548f25759f817e68c1a10">DGtalBoard::operator&lt;&lt;</a>. This method takes any drawable element (satisfying <a class="el" href="structDGtal_1_1CDrawableWithDGtalBoard.html">CDrawableWithDGtalBoard</a>) and takes care of setting the correct style and calling the drawing method of the object.</p>
<p>The <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> remembers what is the current style for a given drawable element type. Furthermore, it can remember its current mode. Last, it remembers also the specific style associated for this mode. Generally, as a developer, you do not have to take care at how user chooses their new style or new mode. You will only prepare in your class if you wish to have modes, and how you draw the object depending on the current mode.</p>
<h3><a class="anchor" id="dgtal_dgtalboard_sec22"></a>
The concept CDrawableWithDGtalBoard</h3>
<p>The concept <a class="el" href="structDGtal_1_1CDrawableWithDGtalBoard.html">CDrawableWithDGtalBoard</a> requires that the three following methods are defined:</p>
<ul>
<li>std::string styleName() const: name of the style for this drawable element, generally the name of the class.</li>
<li>DrawableWithDGtalBoard* defaultStyle( const std::string &amp; mode = "" ) const: a dynamically allocated instance of the default style for this drawable element. It may eventually be tuned for a specific mode given as a string.</li>
<li>void selfDraw( DGtalBoard &amp; ) const: this methods draws the drawable element on the given <a class="el" href="classDGtal_1_1DGtalBoard.html" title="Aim: This class specializes a &#39;Board&#39; class so as to display DGtal objects more naturally (wi...">DGtalBoard</a> instance. The style has been applied automatically before.</li>
</ul>
<h3><a class="anchor" id="dgtal_dgtalboard_sec23"></a>
Developing a new drawable element</h3>
<h3><a class="anchor" id="dgtal_dgtalboard_sec24"></a>
Managing possible drawing modes</h3>
<h3><a class="anchor" id="dgtal_dgtalboard_sec25"></a>
Short overview of the LibBoard library</h3>
<p><a class="elRef" href="namespaceLibBoard.html">LibBoard</a> is a C++ library for simple Postscript, SVG, and XFig drawings.</p>
<div align="center">
<img src="logo_Board.png" alt="logo_Board.png"/>
</div>
  (Copyleft, LGPL) 2007 S&eacute;bastien Fourey - GREYC ENSICAEN</p>
<p>It allows simple drawings in: </p>
<ul>
<li>
Encapsulated Postcript files (EPS) ; </li>
<li>
XFig files (FIG) ; </li>
<li>
Scalable Vector Graphics files (SVG). </li>
</ul>
<p>The main class of the library is the <a class="elRef" href="classLibBoard_1_1Board.html" title="Class for EPS, FIG or SVG drawings.">LibBoard::Board</a> class. It is intended to be as simple as possible so that it can be used quickly in programs to generate the kind of figure one would rather not draw by hand, but which can be easily drawn by a computer (C++) program.</p>
<p>A clone of the <a class="elRef" href="namespaceLibBoard.html">LibBoard</a> source code (release: 0.8.8-3) has been included in <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a>. Its classes are grouped into the namespace Board.</p>
<p>Written by Jacques-Olivier Lachaud. </p>
</div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2011 09:16:40 for DGtal by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
