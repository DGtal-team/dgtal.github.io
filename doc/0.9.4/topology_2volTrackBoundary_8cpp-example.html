<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DGtal: topology/volTrackBoundary.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="modern-doxygen-blue.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DGtal
   &#160;<span id="projectnumber">0.9.4beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">topology/volTrackBoundary.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>In many circumstances, it is better to use the presented graph structure of digital surfaces. For instance it may be used to find the surface just by searching it by adjacencies. This process is called <b>tracking</b>. This is done for you by static method Surfaces::trackBoundary.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="moduleDigitalSurfaces.html#dgtal_digsurf_sec2_2">Constructing digital surfaces by tracking</a></dd></dl>
<p>On the lobser.vol volume, <a class="el" href="volTrackBoundary_8cpp.html">volTrackBoundary.cpp</a> extracts 148364 surfels in 351ms.</p>
<pre class="fragment">* # Commands
* $ ./examples/topology/volTrackBoundary ../examples/samples/lobster.vol 50 255
* </pre><div class="image">
<img src="volTrackBoundary-lobster.png" alt="volTrackBoundary-lobster.png"/>
<div class="caption">
Digital surface that is the boundary of a (6,18)-connected component in image lobst* er.vol, extracted by tracking from an initial surfel in 351ms.</div></div>
 <div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;queue&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/base/Common.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/io/viewers/Viewer3D.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/io/readers/VolReader.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/io/DrawWithDisplay3DModifier.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/io/Color.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/images/ImageSelector.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/images/imagesSetsUtils/SetFromImage.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/shapes/Shapes.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/helpers/StdDefs.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;DGtal/topology/helpers/Surfaces.h&quot;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceDGtal.html">DGtal</a>;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceZ3i.html">Z3i</a>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a name="a0"></a><a class="code" href="approximation_8cpp.html#a20e26a0834ca2e2905ed656f963ef9f3">usage</a>( <span class="keywordtype">int</span> <span class="comment">/*argc*/</span>, <span class="keywordtype">char</span>** argv )</div><div class="line">{</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; argv[ 0 ] &lt;&lt; <span class="stringliteral">&quot; &lt;fileName.vol&gt; &lt;minT&gt; &lt;maxT&gt;&quot;</span> &lt;&lt; std::endl;</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">&quot;\t - displays the boundary of the shape stored in vol file &lt;fileName.vol&gt;.&quot;</span> &lt;&lt; std::endl;</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">&quot;\t - voxel v belongs to the shape iff its value I(v) follows minT &lt;= I(v) &lt;= maxT.&quot;</span> &lt;&lt; std::endl;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> <a name="a1"></a><a class="code" href="testArithmeticDSS-benchmark_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv )</div><div class="line">{</div><div class="line">  <span class="keywordflow">if</span> ( argc &lt; 4 )</div><div class="line">    {</div><div class="line">      <a class="code" href="approximation_8cpp.html#a20e26a0834ca2e2905ed656f963ef9f3">usage</a>( argc, argv );</div><div class="line">      <span class="keywordflow">return</span> 1;</div><div class="line">    }</div><div class="line">  std::string inputFilename = argv[ 1 ];</div><div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minThreshold = atoi( argv[ 2 ] );</div><div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxThreshold = atoi( argv[ 3 ] );</div><div class="line"></div><div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a name="a2"></a><a class="code" href="classDGtal_1_1Trace.html#a352b7160bf722e2f0bcbee5d0bad6ef3">beginBlock</a>( <span class="stringliteral">&quot;Reading vol file into an image.&quot;</span> );</div><div class="line">  <span class="keyword">typedef</span> <a name="_a3"></a><a class="code" href="classDGtal_1_1ImageContainerBySTLVector.html">ImageSelector &lt; Domain, int&gt;::Type</a> <a name="a4"></a><a class="code" href="testSimpleRandomAccessRangeFromPoint_8cpp.html#a852ab282e5168b5711ef7a87b3aefa68">Image</a>;</div><div class="line">  <a name="_a5"></a><a class="code" href="classDGtal_1_1Image.html">Image</a> image = <a name="_a6"></a><a class="code" href="structDGtal_1_1VolReader.html">VolReader&lt;Image&gt;::importVol</a>(inputFilename);</div><div class="line">  <a class="code" href="namespaceDGtal_1_1Z2i.html#a371252c324e496cf8650757c1a2b4eb0">DigitalSet</a> set3d (image.domain());</div><div class="line">  <a name="_a7"></a><a class="code" href="structDGtal_1_1SetFromImage.html">SetFromImage&lt;DigitalSet&gt;::append</a>&lt;<a class="code" href="classDGtal_1_1Image.html">Image</a>&gt;(set3d, <a name="a8"></a><a class="code" href="testSimpleRandomAccessRangeFromPoint_8cpp.html#a614d1b1c043b31763c1eb50f64666737">image</a>, </div><div class="line">                                          minThreshold, maxThreshold);</div><div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a name="a9"></a><a class="code" href="classDGtal_1_1Trace.html#afa3a2874289734884107b1ce68ccb93d">endBlock</a>();</div><div class="line">  </div><div class="line">  </div><div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#a352b7160bf722e2f0bcbee5d0bad6ef3">beginBlock</a>( <span class="stringliteral">&quot;Construct the Khalimsky space from the image domain.&quot;</span> );</div><div class="line">  <a name="_a10"></a><a class="code" href="classDGtal_1_1KhalimskySpaceND.html">KSpace</a> ks;</div><div class="line">  <span class="keywordtype">bool</span> space_ok = ks.<a name="a11"></a><a class="code" href="classDGtal_1_1KhalimskySpaceND.html#a15dcbcaae831dd1c36090e6336c177d4">init</a>( image.domain().lowerBound(), </div><div class="line">                           image.domain().upperBound(), true );</div><div class="line">  <span class="keywordflow">if</span> (!space_ok)</div><div class="line">    {</div><div class="line">      <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a name="a12"></a><a class="code" href="classDGtal_1_1Trace.html#a1e786a1f3b1047e92b73c82f67e3c295">error</a>() &lt;&lt; <span class="stringliteral">&quot;Error in the Khamisky space construction.&quot;</span>&lt;&lt;std::endl;</div><div class="line">      <span class="keywordflow">return</span> 2;</div><div class="line">    }</div><div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#afa3a2874289734884107b1ce68ccb93d">endBlock</a>();</div><div class="line"></div><div class="line">  <span class="keyword">typedef</span> <a name="_a13"></a><a class="code" href="classDGtal_1_1SurfelAdjacency.html">SurfelAdjacency&lt;KSpace::dimension&gt;</a> MySurfelAdjacency;</div><div class="line">  MySurfelAdjacency surfAdj( <span class="keyword">true</span> ); <span class="comment">// interior in all directions.</span></div><div class="line"><span class="comment"></span></div><div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#a352b7160bf722e2f0bcbee5d0bad6ef3">beginBlock</a>( <span class="stringliteral">&quot;Extracting boundary by tracking from an initial bel.&quot;</span> );</div><div class="line">  <a class="code" href="classDGtal_1_1KhalimskySpaceND.html#ae6cf442a7d0a46d254f9fbdd7237ab11">KSpace::SCellSet</a> boundary;</div><div class="line">  <a name="_a14"></a><a class="code" href="structDGtal_1_1SignedKhalimskyCell.html">SCell</a> bel = <a name="_a15"></a><a class="code" href="classDGtal_1_1Surfaces.html">Surfaces&lt;KSpace&gt;::findABel</a>( ks, set3d, 100000 );</div><div class="line">  <a class="code" href="classDGtal_1_1Surfaces.html">Surfaces&lt;KSpace&gt;::trackBoundary</a>( boundary, ks, </div><div class="line">                                   surfAdj,</div><div class="line">                                   set3d, bel );</div><div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#afa3a2874289734884107b1ce68ccb93d">endBlock</a>();</div><div class="line"></div><div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#a352b7160bf722e2f0bcbee5d0bad6ef3">beginBlock</a>( <span class="stringliteral">&quot;Displaying surface in Viewer3D.&quot;</span> );</div><div class="line">  QApplication application(argc,argv);</div><div class="line">  <a name="_a16"></a><a class="code" href="classDGtal_1_1Viewer3D.html">Viewer3D&lt;&gt;</a> viewer( ks );</div><div class="line">  viewer.show(); </div><div class="line">  viewer &lt;&lt; <a name="_a17"></a><a class="code" href="structDGtal_1_1SetMode3D.html">SetMode3D</a>( bel.<a name="a18"></a><a class="code" href="structDGtal_1_1SignedKhalimskyCell.html#a1ca549b9e7795f2e226a8e21f2b5053d">className</a>(), <span class="stringliteral">&quot;Basic&quot;</span> );</div><div class="line">  viewer &lt;&lt; <a name="_a19"></a><a class="code" href="structDGtal_1_1CustomColors3D.html">CustomColors3D</a>(<a name="_a20"></a><a class="code" href="classDGtal_1_1Color.html">Color</a>(250, 0, 0 ), <a class="code" href="classDGtal_1_1Color.html">Color</a>( 128, 128, 128 ) );</div><div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nbSurfels = 0;</div><div class="line">  <span class="keywordflow">for</span> ( KSpace::SCellSet::const_iterator it = boundary.begin(),</div><div class="line">          it_end = boundary.end(); it != it_end; ++it, ++nbSurfels )</div><div class="line">    viewer &lt;&lt; *it;</div><div class="line">  viewer &lt;&lt; Viewer3D&lt;&gt;::updateDisplay;</div><div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a name="a21"></a><a class="code" href="classDGtal_1_1Trace.html#ad054990834d2763627166540087a2980">info</a>() &lt;&lt; <span class="stringliteral">&quot;nb surfels = &quot;</span> &lt;&lt; nbSurfels &lt;&lt; std::endl;</div><div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#afa3a2874289734884107b1ce68ccb93d">endBlock</a>();</div><div class="line">  <span class="keywordflow">return</span> application.exec();</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 18 2018 09:39:52 for DGtal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
